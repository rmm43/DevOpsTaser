<?xml version="1.0" encoding="utf-8"?>
<jdoc cUnit="net.sf.jabref.BibtexEntry" jls="java5">
<jent id="0" type="file" span="0:0:455:1">Source/jabref/src/java/net/sf/jabref/BibtexEntry.java</jent>
<jent id="1" pid="0" type="class" span="44:1:455:1">net.sf.jabref.BibtexEntry</jent>
<jent id="2" pid="1" type="method" span="55:5:57:5">net.sf.jabref.BibtexEntry.BibtexEntry()</jent>
<jent id="3" pid="1" type="method" span="59:5:62:5">net.sf.jabref.BibtexEntry.BibtexEntry(String)</jent>
<jent id="4" pid="1" type="method" span="64:5:73:5">net.sf.jabref.BibtexEntry.BibtexEntry(String,BibtexEntryType)</jent>
<jent id="5" pid="1" type="method" span="78:5:81:5">net.sf.jabref.BibtexEntry.getOptionalFields()</jent>
<jent id="6" pid="1" type="method" span="86:5:89:5">net.sf.jabref.BibtexEntry.getRequiredFields()</jent>
<jent id="7" pid="1" type="method" span="94:5:96:5">net.sf.jabref.BibtexEntry.getGeneralFields()</jent>
<jent id="8" pid="1" type="method" span="102:5:104:5">net.sf.jabref.BibtexEntry.getAllFields()</jent>
<jent id="9" pid="1" type="method" span="109:5:112:5">net.sf.jabref.BibtexEntry.describeRequiredFields()</jent>
<jent id="10" pid="1" type="method" span="118:5:121:5">net.sf.jabref.BibtexEntry.hasAllRequiredFields(BibtexDatabase)</jent>
<jent id="11" pid="1" type="method" span="126:5:129:5">net.sf.jabref.BibtexEntry.getType()</jent>
<jent id="12" pid="1" type="method" span="134:5:157:5">net.sf.jabref.BibtexEntry.setType(BibtexEntryType)</jent>
<jent id="13" pid="1" type="method" span="169:5:177:5">net.sf.jabref.BibtexEntry.updateType()</jent>
<jent id="14" pid="1" type="method" span="183:5:200:5">net.sf.jabref.BibtexEntry.setId(String)</jent>
<jent id="15" pid="1" type="method" span="205:5:208:5">net.sf.jabref.BibtexEntry.getId()</jent>
<jent id="16" pid="1" type="method" span="213:5:215:5">net.sf.jabref.BibtexEntry.getField(String)</jent>
<jent id="17" pid="1" type="method" span="217:5:220:5">net.sf.jabref.BibtexEntry.getCiteKey()</jent>
<jent id="18" pid="1" type="method" span="229:5:231:5">net.sf.jabref.BibtexEntry.setField(Map&lt;String,String&gt;)</jent>
<jent id="19" pid="1" type="method" span="239:5:260:5">net.sf.jabref.BibtexEntry.setField(String,String)</jent>
<jent id="20" pid="1" type="method" span="268:5:283:5">net.sf.jabref.BibtexEntry.clearField(String)</jent>
<jent id="21" pid="1" type="method" span="295:5:303:5">net.sf.jabref.BibtexEntry.allFieldsPresent(String[],BibtexDatabase)</jent>
<jent id="22" pid="1" type="method" span="305:5:310:5">net.sf.jabref.BibtexEntry.firePropertyChangedEvent(String,Object,Object)</jent>
<jent id="23" pid="1" type="method" span="317:5:320:5">net.sf.jabref.BibtexEntry.addPropertyChangeListener(VetoableChangeListener)</jent>
<jent id="24" pid="1" type="method" span="325:5:328:5">net.sf.jabref.BibtexEntry.removePropertyChangeListener(VetoableChangeListener)</jent>
<jent id="25" pid="1" type="method" span="337:5:374:5">net.sf.jabref.BibtexEntry.write(Writer,FieldFormatter,boolean)</jent>
<jent id="26" pid="1" type="method" span="387:5:404:5">net.sf.jabref.BibtexEntry.writeField(String,Writer,FieldFormatter,boolean)</jent>
<jent id="27" pid="1" type="method" span="409:5:413:5">net.sf.jabref.BibtexEntry.clone()</jent>
<jent id="28" pid="1" type="method" span="415:5:417:5">net.sf.jabref.BibtexEntry.toString()</jent>
<jent id="29" pid="1" type="method" span="419:5:421:5">net.sf.jabref.BibtexEntry.isSearchHit()</jent>
<jent id="30" pid="1" type="method" span="423:5:425:5">net.sf.jabref.BibtexEntry.setSearchHit(boolean)</jent>
<jent id="31" pid="1" type="method" span="427:5:429:5">net.sf.jabref.BibtexEntry.isGroupHit()</jent>
<jent id="32" pid="1" type="method" span="431:5:433:5">net.sf.jabref.BibtexEntry.setGroupHit(boolean)</jent>
<jent id="33" pid="1" type="method" span="441:5:453:5">net.sf.jabref.BibtexEntry.getAuthorTitleYear(int)</jent>
<jtok eid="0" type="block_comment" span="1:1:29:3">/*
Copyright (C) 2003 David Weitzman, Morten O. Alver

All programs in this directory and
subdirectories are published under the GNU General Public License as
described below.

This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 2 of the License, or (at
your option) any later version.

This program is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307
USA

Further information about the GNU GPL is available at:
http://www.gnu.org/copyleft/gpl.ja.html

Note:
Modified for use in JabRef.

*/</jtok>
<jtok eid="1" type="class_name" span="44:14:44:25">BibtexEntry</jtok>
<jtok eid="1" type="class_or_interface_ref" span="46:25:46:31">String</jtok>
<jtok eid="1" type="field_name" span="46:32:46:40">ID_FIELD</jtok>
<jtok eid="1" type="string_literal" span="46:43:46:47">"id"</jtok>
<jtok eid="1" type="class_or_interface_ref" span="47:13:47:19">String</jtok>
<jtok eid="1" type="field_name" span="47:20:47:23">_id</jtok>
<jtok eid="1" type="class_or_interface_ref" span="48:13:48:28">BibtexEntryType</jtok>
<jtok eid="1" type="field_name" span="48:29:48:34">_type</jtok>
<jtok eid="1" type="class_or_interface_ref" span="49:13:49:16">Map</jtok>
<jtok eid="1" type="class_or_interface_ref" span="49:17:49:23">String</jtok>
<jtok eid="1" type="class_or_interface_ref" span="49:25:49:31">String</jtok>
<jtok eid="1" type="field_name" span="49:33:49:40">_fields</jtok>
<jtok eid="1" type="constructor_call" span="49:47:49:54">HashMap</jtok>
<jtok eid="1" type="constructor_call" span="49:55:49:61">String</jtok>
<jtok eid="1" type="constructor_call" span="49:63:49:69">String</jtok>
<jtok eid="1" type="class_or_interface_ref" span="50:5:50:26">VetoableChangeSupport</jtok>
<jtok eid="1" type="field_name" span="50:27:50:41">_changeSupport</jtok>
<jtok eid="1" type="constructor_call" span="50:48:50:69">VetoableChangeSupport</jtok>
<jtok eid="1" type="line_comment" span="52:5:52:83">// Search and grouping status is stored in boolean fields for quick reference:</jtok>
<jtok eid="1" type="field_name" span="53:21:53:30">searchHit</jtok>
<jtok eid="1" type="field_name" span="53:32:53:40">groupHit</jtok>
<jtok eid="2" type="method_name" span="55:12:55:23">BibtexEntry</jtok>
<jtok eid="2" type="primary_name_ref" span="56:11:56:15">Util</jtok>
<jtok eid="2" type="method_call" span="56:16:56:31">createNeutralId</jtok>
<jtok eid="3" type="method_name" span="59:12:59:23">BibtexEntry</jtok>
<jtok eid="3" type="parameter_type" span="59:24:59:30">String</jtok>
<jtok eid="3" type="parameter_name" span="59:31:59:33">id</jtok>
<jtok eid="3" type="primary_name_ref" span="61:14:61:16">id</jtok>
<jtok eid="3" type="primary_name_ref" span="61:18:61:33">BibtexEntryType</jtok>
<jtok eid="3" type="qualified_name_ref" span="61:34:61:39">OTHER</jtok>
<jtok eid="4" type="method_name" span="64:12:64:23">BibtexEntry</jtok>
<jtok eid="4" type="parameter_type" span="64:24:64:30">String</jtok>
<jtok eid="4" type="parameter_name" span="64:31:64:33">id</jtok>
<jtok eid="4" type="parameter_type" span="64:35:64:50">BibtexEntryType</jtok>
<jtok eid="4" type="parameter_name" span="64:51:64:55">type</jtok>
<jtok eid="4" type="primary_name_ref" span="66:13:66:15">id</jtok>
<jtok eid="4" type="constructor_call" span="68:23:68:43">NullPointerException</jtok>
<jtok eid="4" type="string_literal" span="68:44:68:79">"Every BibtexEntry must have an ID"</jtok>
<jtok eid="4" type="primary_name_ref" span="71:9:71:12">_id</jtok>
<jtok eid="4" type="primary_name_ref" span="71:15:71:17">id</jtok>
<jtok eid="4" type="method_call" span="72:9:72:16">setType</jtok>
<jtok eid="4" type="primary_name_ref" span="72:17:72:21">type</jtok>
<jtok eid="1" type="block_comment" span="75:5:77:8">/**
     * Returns an array describing the optional fields for this entry.
     */</jtok>
<jtok eid="5" type="class_or_interface_ref" span="78:12:78:18">String</jtok>
<jtok eid="5" type="method_name" span="78:21:78:38">getOptionalFields</jtok>
<jtok eid="5" type="primary_name_ref" span="80:16:80:21">_type</jtok>
<jtok eid="5" type="method_call" span="80:22:80:39">getOptionalFields</jtok>
<jtok eid="1" type="block_comment" span="83:5:85:8">/**
     * Returns an array describing the required fields for this entry.
     */</jtok>
<jtok eid="6" type="class_or_interface_ref" span="86:12:86:18">String</jtok>
<jtok eid="6" type="method_name" span="86:21:86:38">getRequiredFields</jtok>
<jtok eid="6" type="primary_name_ref" span="88:16:88:21">_type</jtok>
<jtok eid="6" type="method_call" span="88:22:88:39">getRequiredFields</jtok>
<jtok eid="1" type="block_comment" span="91:5:93:8">/**
     * Returns an array describing general fields.
     */</jtok>
<jtok eid="7" type="class_or_interface_ref" span="94:12:94:18">String</jtok>
<jtok eid="7" type="method_name" span="94:21:94:37">getGeneralFields</jtok>
<jtok eid="7" type="primary_name_ref" span="95:16:95:21">_type</jtok>
<jtok eid="7" type="method_call" span="95:22:95:38">getGeneralFields</jtok>
<jtok eid="1" type="block_comment" span="98:5:101:8">/**
     * Returns an set containing the names of all fields that are
     * set for this particular entry.
     */</jtok>
<jtok eid="8" type="class_or_interface_ref" span="102:12:102:15">Set</jtok>
<jtok eid="8" type="class_or_interface_ref" span="102:16:102:22">String</jtok>
<jtok eid="8" type="method_name" span="102:24:102:36">getAllFields</jtok>
<jtok eid="8" type="constructor_call" span="103:20:103:27">TreeSet</jtok>
<jtok eid="8" type="constructor_call" span="103:28:103:34">String</jtok>
<jtok eid="8" type="primary_name_ref" span="103:36:103:43">_fields</jtok>
<jtok eid="8" type="method_call" span="103:44:103:50">keySet</jtok>
<jtok eid="1" type="block_comment" span="106:5:108:8">/**
     * Returns a string describing the required fields for this entry.
     */</jtok>
<jtok eid="9" type="class_or_interface_ref" span="109:12:109:18">String</jtok>
<jtok eid="9" type="method_name" span="109:19:109:41">describeRequiredFields</jtok>
<jtok eid="9" type="primary_name_ref" span="111:16:111:21">_type</jtok>
<jtok eid="9" type="method_call" span="111:22:111:44">describeRequiredFields</jtok>
<jtok eid="1" type="block_comment" span="114:5:117:8">/**
     * Returns true if this entry contains the fields it needs to be
     * complete.
     */</jtok>
<jtok eid="10" type="method_name" span="118:20:118:40">hasAllRequiredFields</jtok>
<jtok eid="10" type="parameter_type" span="118:41:118:55">BibtexDatabase</jtok>
<jtok eid="10" type="parameter_name" span="118:56:118:64">database</jtok>
<jtok eid="10" type="primary_name_ref" span="120:16:120:21">_type</jtok>
<jtok eid="10" type="method_call" span="120:22:120:42">hasAllRequiredFields</jtok>
<jtok eid="10" type="primary_name_ref" span="120:49:120:57">database</jtok>
<jtok eid="1" type="block_comment" span="123:5:125:8">/**
     * Returns this entry's type.
     */</jtok>
<jtok eid="11" type="class_or_interface_ref" span="126:12:126:27">BibtexEntryType</jtok>
<jtok eid="11" type="method_name" span="126:28:126:35">getType</jtok>
<jtok eid="11" type="primary_name_ref" span="128:16:128:21">_type</jtok>
<jtok eid="1" type="block_comment" span="131:5:133:8">/**
     * Sets this entry's type.
     */</jtok>
<jtok eid="12" type="method_name" span="134:17:134:24">setType</jtok>
<jtok eid="12" type="parameter_type" span="134:25:134:40">BibtexEntryType</jtok>
<jtok eid="12" type="parameter_name" span="134:41:134:45">type</jtok>
<jtok eid="12" type="primary_name_ref" span="136:13:136:17">type</jtok>
<jtok eid="12" type="constructor_call" span="138:23:138:43">NullPointerException</jtok>
<jtok eid="12" type="string_literal" span="139:17:139:87">"Every BibtexEntry must have a type.  Instead of null, use type OTHER"</jtok>
<jtok eid="12" type="class_or_interface_ref" span="142:9:142:24">BibtexEntryType</jtok>
<jtok eid="12" type="local_variable_name" span="142:25:142:32">oldType</jtok>
<jtok eid="12" type="primary_name_ref" span="142:35:142:40">_type</jtok>
<jtok eid="12" type="line_comment" span="145:13:145:74">// We set the type before throwing the changeEvent, to enable</jtok>
<jtok eid="12" type="line_comment" span="146:13:146:73">// the change listener to access the new value if the change</jtok>
<jtok eid="12" type="line_comment" span="147:13:147:58">// sets off a change in database sorting etc.</jtok>
<jtok eid="12" type="primary_name_ref" span="148:13:148:18">_type</jtok>
<jtok eid="12" type="primary_name_ref" span="148:21:148:25">type</jtok>
<jtok eid="12" type="method_call" span="149:13:149:37">firePropertyChangedEvent</jtok>
<jtok eid="12" type="primary_name_ref" span="149:38:149:48">GUIGlobals</jtok>
<jtok eid="12" type="qualified_name_ref" span="149:49:149:60">TYPE_HEADER</jtok>
<jtok eid="12" type="primary_name_ref" span="150:21:150:28">oldType</jtok>
<jtok eid="12" type="primary_name_ref" span="150:39:150:46">oldType</jtok>
<jtok eid="12" type="method_call" span="150:47:150:54">getName</jtok>
<jtok eid="12" type="primary_name_ref" span="151:21:151:25">type</jtok>
<jtok eid="12" type="method_call" span="151:26:151:33">getName</jtok>
<jtok eid="12" type="class_or_interface_ref" span="152:18:152:39">PropertyVetoException</jtok>
<jtok eid="12" type="local_variable_name" span="152:40:152:43">pve</jtok>
<jtok eid="12" type="primary_name_ref" span="153:13:153:16">pve</jtok>
<jtok eid="12" type="method_call" span="153:17:153:32">printStackTrace</jtok>
<jtok eid="1" type="block_comment" span="159:5:168:8">/**
     * Prompts the entry to call BibtexEntryType.getType(String) with
     * its current type name as argument, and sets its type according
     * to what is returned. This method is called when a user changes
     * the type customization, to make sure all entries are set with
     * current types.
     * @return true if the entry could find a type, false if not (in
     * this case the type will have been set to
     * BibtexEntryType.TYPELESS).
     */</jtok>
<jtok eid="13" type="method_name" span="169:20:169:30">updateType</jtok>
<jtok eid="13" type="class_or_interface_ref" span="170:9:170:24">BibtexEntryType</jtok>
<jtok eid="13" type="local_variable_name" span="170:25:170:32">newType</jtok>
<jtok eid="13" type="primary_name_ref" span="170:35:170:50">BibtexEntryType</jtok>
<jtok eid="13" type="method_call" span="170:51:170:58">getType</jtok>
<jtok eid="13" type="primary_name_ref" span="170:59:170:64">_type</jtok>
<jtok eid="13" type="method_call" span="170:65:170:72">getName</jtok>
<jtok eid="13" type="primary_name_ref" span="171:13:171:20">newType</jtok>
<jtok eid="13" type="primary_name_ref" span="172:13:172:18">_type</jtok>
<jtok eid="13" type="primary_name_ref" span="172:21:172:28">newType</jtok>
<jtok eid="13" type="primary_name_ref" span="175:9:175:14">_type</jtok>
<jtok eid="13" type="primary_name_ref" span="175:17:175:32">BibtexEntryType</jtok>
<jtok eid="13" type="qualified_name_ref" span="175:33:175:41">TYPELESS</jtok>
<jtok eid="1" type="block_comment" span="179:5:182:8">/**
     * Sets this entry's ID, provided the database containing it
     * doesn't veto the change.
     */</jtok>
<jtok eid="14" type="method_name" span="183:17:183:22">setId</jtok>
<jtok eid="14" type="parameter_type" span="183:23:183:29">String</jtok>
<jtok eid="14" type="parameter_name" span="183:30:183:32">id</jtok>
<jtok eid="14" type="throws" span="183:41:183:62">KeyCollisionException</jtok>
<jtok eid="14" type="primary_name_ref" span="185:13:185:15">id</jtok>
<jtok eid="14" type="constructor_call" span="187:17:187:37">NullPointerException</jtok>
<jtok eid="14" type="string_literal" span="187:38:187:73">"Every BibtexEntry must have an ID"</jtok>
<jtok eid="14" type="method_call" span="192:13:192:37">firePropertyChangedEvent</jtok>
<jtok eid="14" type="primary_name_ref" span="192:38:192:46">ID_FIELD</jtok>
<jtok eid="14" type="primary_name_ref" span="192:48:192:51">_id</jtok>
<jtok eid="14" type="primary_name_ref" span="192:53:192:55">id</jtok>
<jtok eid="14" type="class_or_interface_ref" span="194:16:194:37">PropertyVetoException</jtok>
<jtok eid="14" type="local_variable_name" span="194:38:194:40">pv</jtok>
<jtok eid="14" type="constructor_call" span="196:23:196:44">KeyCollisionException</jtok>
<jtok eid="14" type="string_literal" span="196:45:196:67">"Couldn't change ID: "</jtok>
<jtok eid="14" type="primary_name_ref" span="196:70:196:72">pv</jtok>
<jtok eid="14" type="primary_name_ref" span="199:9:199:12">_id</jtok>
<jtok eid="14" type="primary_name_ref" span="199:15:199:17">id</jtok>
<jtok eid="1" type="block_comment" span="202:5:204:8">/**
     * Returns this entry's ID.
     */</jtok>
<jtok eid="15" type="class_or_interface_ref" span="205:12:205:18">String</jtok>
<jtok eid="15" type="method_name" span="205:19:205:24">getId</jtok>
<jtok eid="15" type="primary_name_ref" span="207:16:207:19">_id</jtok>
<jtok eid="1" type="block_comment" span="210:5:212:8">/**
     * Returns the contents of the given field, or null if it is not set.
     */</jtok>
<jtok eid="16" type="class_or_interface_ref" span="213:12:213:18">String</jtok>
<jtok eid="16" type="method_name" span="213:19:213:27">getField</jtok>
<jtok eid="16" type="parameter_type" span="213:28:213:34">String</jtok>
<jtok eid="16" type="parameter_name" span="213:35:213:39">name</jtok>
<jtok eid="16" type="primary_name_ref" span="214:16:214:23">_fields</jtok>
<jtok eid="16" type="method_call" span="214:24:214:27">get</jtok>
<jtok eid="16" type="primary_name_ref" span="214:28:214:32">name</jtok>
<jtok eid="17" type="class_or_interface_ref" span="217:12:217:18">String</jtok>
<jtok eid="17" type="method_name" span="217:19:217:29">getCiteKey</jtok>
<jtok eid="17" type="primary_name_ref" span="218:17:218:24">_fields</jtok>
<jtok eid="17" type="method_call" span="218:25:218:36">containsKey</jtok>
<jtok eid="17" type="primary_name_ref" span="218:37:218:49">BibtexFields</jtok>
<jtok eid="17" type="qualified_name_ref" span="218:50:218:59">KEY_FIELD</jtok>
<jtok eid="17" type="primary_name_ref" span="219:17:219:24">_fields</jtok>
<jtok eid="17" type="method_call" span="219:25:219:28">get</jtok>
<jtok eid="17" type="primary_name_ref" span="219:29:219:41">BibtexFields</jtok>
<jtok eid="17" type="qualified_name_ref" span="219:42:219:51">KEY_FIELD</jtok>
<jtok eid="1" type="block_comment" span="222:5:228:8">/**
     * Sets a number of fields simultaneously. The given HashMap contains field
     * names as keys, each mapped to the value to set.
     * WARNING: this method does not notify change listeners, so it should *NOT*
     * be used for entries that are being displayed in the GUI. Furthermore, it
     * does not check values for content, so e.g. empty strings will be set as such.
     */</jtok>
<jtok eid="18" type="method_name" span="229:17:229:25">setField</jtok>
<jtok eid="18" type="parameter_type" span="229:26:229:29">Map</jtok>
<jtok eid="18" type="parameter_type" span="229:30:229:36">String</jtok>
<jtok eid="18" type="parameter_type" span="229:38:229:44">String</jtok>
<jtok eid="18" type="parameter_name" span="229:46:229:52">fields</jtok>
<jtok eid="18" type="primary_name_ref" span="230:9:230:16">_fields</jtok>
<jtok eid="18" type="method_call" span="230:17:230:23">putAll</jtok>
<jtok eid="18" type="primary_name_ref" span="230:24:230:30">fields</jtok>
<jtok eid="1" type="block_comment" span="233:5:238:8">/**
     * Set a field, and notify listeners about the change.
     *
     * @param name The field to set.
     * @param value The value to set.
     */</jtok>
<jtok eid="19" type="method_name" span="239:17:239:25">setField</jtok>
<jtok eid="19" type="parameter_type" span="239:26:239:32">String</jtok>
<jtok eid="19" type="parameter_name" span="239:33:239:37">name</jtok>
<jtok eid="19" type="parameter_type" span="239:39:239:45">String</jtok>
<jtok eid="19" type="parameter_name" span="239:46:239:51">value</jtok>
<jtok eid="19" type="primary_name_ref" span="241:13:241:21">ID_FIELD</jtok>
<jtok eid="19" type="method_call" span="241:22:241:28">equals</jtok>
<jtok eid="19" type="primary_name_ref" span="241:29:241:33">name</jtok>
<jtok eid="19" type="constructor_call" span="242:23:242:47">IllegalArgumentException</jtok>
<jtok eid="19" type="string_literal" span="242:48:242:66">"The field name '"</jtok>
<jtok eid="19" type="primary_name_ref" span="242:69:242:73">name</jtok>
<jtok eid="19" type="string_literal" span="243:48:243:63">"' is reserved"</jtok>
<jtok eid="19" type="class_or_interface_ref" span="246:9:246:15">String</jtok>
<jtok eid="19" type="local_variable_name" span="246:16:246:24">oldValue</jtok>
<jtok eid="19" type="primary_name_ref" span="246:27:246:34">_fields</jtok>
<jtok eid="19" type="method_call" span="246:35:246:38">get</jtok>
<jtok eid="19" type="primary_name_ref" span="246:39:246:43">name</jtok>
<jtok eid="19" type="line_comment" span="248:13:248:75">// We set the field before throwing the changeEvent, to enable</jtok>
<jtok eid="19" type="line_comment" span="249:13:249:73">// the change listener to access the new value if the change</jtok>
<jtok eid="19" type="line_comment" span="250:13:250:58">// sets off a change in database sorting etc.</jtok>
<jtok eid="19" type="primary_name_ref" span="251:13:251:20">_fields</jtok>
<jtok eid="19" type="method_call" span="251:21:251:24">put</jtok>
<jtok eid="19" type="primary_name_ref" span="251:25:251:29">name</jtok>
<jtok eid="19" type="primary_name_ref" span="251:31:251:36">value</jtok>
<jtok eid="19" type="method_call" span="252:13:252:37">firePropertyChangedEvent</jtok>
<jtok eid="19" type="primary_name_ref" span="252:38:252:42">name</jtok>
<jtok eid="19" type="primary_name_ref" span="252:44:252:52">oldValue</jtok>
<jtok eid="19" type="primary_name_ref" span="252:54:252:59">value</jtok>
<jtok eid="19" type="class_or_interface_ref" span="253:18:253:39">PropertyVetoException</jtok>
<jtok eid="19" type="local_variable_name" span="253:40:253:43">pve</jtok>
<jtok eid="19" type="line_comment" span="254:13:254:76">// Since we have already made the change, we must undo it since</jtok>
<jtok eid="19" type="line_comment" span="255:13:255:40">// the change was rejected:</jtok>
<jtok eid="19" type="primary_name_ref" span="256:13:256:20">_fields</jtok>
<jtok eid="19" type="method_call" span="256:21:256:24">put</jtok>
<jtok eid="19" type="primary_name_ref" span="256:25:256:29">name</jtok>
<jtok eid="19" type="primary_name_ref" span="256:31:256:39">oldValue</jtok>
<jtok eid="19" type="constructor_call" span="257:23:257:47">IllegalArgumentException</jtok>
<jtok eid="19" type="string_literal" span="257:48:257:67">"Change rejected: "</jtok>
<jtok eid="19" type="primary_name_ref" span="257:70:257:73">pve</jtok>
<jtok eid="1" type="block_comment" span="262:5:267:8">/**
     * Remove the mapping for the field name, and notify listeners about
     * the change.
     *
     * @param name The field to clear.
     */</jtok>
<jtok eid="20" type="method_name" span="268:17:268:27">clearField</jtok>
<jtok eid="20" type="parameter_type" span="268:28:268:34">String</jtok>
<jtok eid="20" type="parameter_name" span="268:35:268:39">name</jtok>
<jtok eid="20" type="primary_name_ref" span="270:11:270:19">ID_FIELD</jtok>
<jtok eid="20" type="method_call" span="270:20:270:26">equals</jtok>
<jtok eid="20" type="primary_name_ref" span="270:27:270:31">name</jtok>
<jtok eid="20" type="constructor_call" span="271:22:271:46">IllegalArgumentException</jtok>
<jtok eid="20" type="string_literal" span="271:47:271:65">"The field name '"</jtok>
<jtok eid="20" type="primary_name_ref" span="271:68:271:72">name</jtok>
<jtok eid="20" type="string_literal" span="272:47:272:62">"' is reserved"</jtok>
<jtok eid="20" type="class_or_interface_ref" span="274:8:274:14">Object</jtok>
<jtok eid="20" type="local_variable_name" span="274:15:274:23">oldValue</jtok>
<jtok eid="20" type="primary_name_ref" span="274:26:274:33">_fields</jtok>
<jtok eid="20" type="method_call" span="274:34:274:37">get</jtok>
<jtok eid="20" type="primary_name_ref" span="274:38:274:42">name</jtok>
<jtok eid="20" type="primary_name_ref" span="275:8:275:15">_fields</jtok>
<jtok eid="20" type="method_call" span="275:16:275:22">remove</jtok>
<jtok eid="20" type="primary_name_ref" span="275:23:275:27">name</jtok>
<jtok eid="20" type="method_call" span="277:12:277:36">firePropertyChangedEvent</jtok>
<jtok eid="20" type="primary_name_ref" span="277:37:277:41">name</jtok>
<jtok eid="20" type="primary_name_ref" span="277:43:277:51">oldValue</jtok>
<jtok eid="20" type="class_or_interface_ref" span="278:17:278:38">PropertyVetoException</jtok>
<jtok eid="20" type="local_variable_name" span="278:39:278:42">pve</jtok>
<jtok eid="20" type="constructor_call" span="279:22:279:46">IllegalArgumentException</jtok>
<jtok eid="20" type="string_literal" span="279:47:279:66">"Change rejected: "</jtok>
<jtok eid="20" type="primary_name_ref" span="279:69:279:72">pve</jtok>
<jtok eid="1" type="block_comment" span="285:5:294:8">/**
     * Determines whether this entry has all the given fields present. If a non-null
     * database argument is given, this method will try to look up missing fields in
     * entries linked by the "crossref" field, if any.
     *
     * @param fields An array of field names to be checked.
     * @param database The database in which to look up crossref'd entries, if any. This
     *  argument can be null, meaning that no attempt will be made to follow crossrefs.
     * @return true if all fields are set or could be resolved, false otherwise.
     */</jtok>
<jtok eid="21" type="method_name" span="295:23:295:39">allFieldsPresent</jtok>
<jtok eid="21" type="parameter_type" span="295:40:295:46">String</jtok>
<jtok eid="21" type="parameter_name" span="295:49:295:55">fields</jtok>
<jtok eid="21" type="parameter_type" span="295:57:295:71">BibtexDatabase</jtok>
<jtok eid="21" type="parameter_name" span="295:72:295:80">database</jtok>
<jtok eid="21" type="local_variable_name" span="296:18:296:19">i</jtok>
<jtok eid="21" type="primary_name_ref" span="296:25:296:26">i</jtok>
<jtok eid="21" type="primary_name_ref" span="296:29:296:35">fields</jtok>
<jtok eid="21" type="qualified_name_ref" span="296:36:296:42">length</jtok>
<jtok eid="21" type="primary_name_ref" span="296:44:296:45">i</jtok>
<jtok eid="21" type="primary_name_ref" span="297:17:297:31">BibtexDatabase</jtok>
<jtok eid="21" type="method_call" span="297:32:297:48">getResolvedField</jtok>
<jtok eid="21" type="primary_name_ref" span="297:49:297:55">fields</jtok>
<jtok eid="21" type="primary_name_ref" span="297:56:297:57">i</jtok>
<jtok eid="21" type="primary_name_ref" span="297:66:297:74">database</jtok>
<jtok eid="22" type="method_name" span="305:18:305:42">firePropertyChangedEvent</jtok>
<jtok eid="22" type="parameter_type" span="305:43:305:49">String</jtok>
<jtok eid="22" type="parameter_name" span="305:50:305:59">fieldName</jtok>
<jtok eid="22" type="parameter_type" span="305:61:305:67">Object</jtok>
<jtok eid="22" type="parameter_name" span="305:68:305:76">oldValue</jtok>
<jtok eid="22" type="parameter_type" span="306:9:306:15">Object</jtok>
<jtok eid="22" type="parameter_name" span="306:16:306:24">newValue</jtok>
<jtok eid="22" type="throws" span="306:33:306:54">PropertyVetoException</jtok>
<jtok eid="22" type="primary_name_ref" span="308:9:308:23">_changeSupport</jtok>
<jtok eid="22" type="method_call" span="308:24:308:42">fireVetoableChange</jtok>
<jtok eid="22" type="constructor_call" span="308:47:308:66">PropertyChangeEvent</jtok>
<jtok eid="22" type="primary_name_ref" span="309:17:309:26">fieldName</jtok>
<jtok eid="22" type="primary_name_ref" span="309:28:309:36">oldValue</jtok>
<jtok eid="22" type="primary_name_ref" span="309:38:309:46">newValue</jtok>
<jtok eid="1" type="block_comment" span="312:5:316:8">/**
     * Adds a VetoableChangeListener, which is notified of field
     * changes. This is useful for an object that needs to update
     * itself each time a field changes.
     */</jtok>
<jtok eid="23" type="method_name" span="317:17:317:42">addPropertyChangeListener</jtok>
<jtok eid="23" type="parameter_type" span="317:43:317:65">VetoableChangeListener</jtok>
<jtok eid="23" type="parameter_name" span="317:66:317:74">listener</jtok>
<jtok eid="23" type="primary_name_ref" span="319:9:319:23">_changeSupport</jtok>
<jtok eid="23" type="method_call" span="319:24:319:49">addVetoableChangeListener</jtok>
<jtok eid="23" type="primary_name_ref" span="319:50:319:58">listener</jtok>
<jtok eid="1" type="block_comment" span="322:5:324:8">/**
     * Removes a property listener.
     */</jtok>
<jtok eid="24" type="method_name" span="325:17:325:45">removePropertyChangeListener</jtok>
<jtok eid="24" type="parameter_type" span="325:46:325:68">VetoableChangeListener</jtok>
<jtok eid="24" type="parameter_name" span="325:69:325:77">listener</jtok>
<jtok eid="24" type="primary_name_ref" span="327:9:327:23">_changeSupport</jtok>
<jtok eid="24" type="method_call" span="327:24:327:52">removeVetoableChangeListener</jtok>
<jtok eid="24" type="primary_name_ref" span="327:53:327:61">listener</jtok>
<jtok eid="1" type="block_comment" span="330:5:336:8">/**
     * Write this entry to the given Writer, with the given FieldFormatter.
     * @param write True if this is a write, false if it is a display. The write will
     * not include non-writeable fields if it is a write, otherwise non-displayable fields
     * will be ignored. Refer to GUIGlobals for isWriteableField(String) and
     * isDisplayableField(String).
     */</jtok>
<jtok eid="25" type="method_name" span="337:17:337:22">write</jtok>
<jtok eid="25" type="parameter_type" span="337:23:337:29">Writer</jtok>
<jtok eid="25" type="parameter_name" span="337:30:337:33">out</jtok>
<jtok eid="25" type="parameter_type" span="337:35:337:49">FieldFormatter</jtok>
<jtok eid="25" type="parameter_name" span="337:50:337:52">ff</jtok>
<jtok eid="25" type="parameter_name" span="337:62:337:67">write</jtok>
<jtok eid="25" type="throws" span="337:76:337:87">IOException</jtok>
<jtok eid="25" type="line_comment" span="338:9:338:50">// Write header with type and bibtex-key.</jtok>
<jtok eid="25" type="primary_name_ref" span="339:9:339:12">out</jtok>
<jtok eid="25" type="method_call" span="339:13:339:18">write</jtok>
<jtok eid="25" type="string_literal" span="339:19:339:22">"@"</jtok>
<jtok eid="25" type="primary_name_ref" span="339:23:339:28">_type</jtok>
<jtok eid="25" type="method_call" span="339:29:339:36">getName</jtok>
<jtok eid="25" type="method_call" span="339:39:339:50">toUpperCase</jtok>
<jtok eid="25" type="primary_name_ref" span="339:51:339:57">Locale</jtok>
<jtok eid="25" type="qualified_name_ref" span="339:58:339:60">US</jtok>
<jtok eid="25" type="string_literal" span="339:62:339:65">"{"</jtok>
<jtok eid="25" type="class_or_interface_ref" span="341:9:341:15">String</jtok>
<jtok eid="25" type="local_variable_name" span="341:16:341:19">str</jtok>
<jtok eid="25" type="primary_name_ref" span="341:22:341:26">Util</jtok>
<jtok eid="25" type="method_call" span="341:27:341:38">shaveString</jtok>
<jtok eid="25" type="method_call" span="341:39:341:47">getField</jtok>
<jtok eid="25" type="primary_name_ref" span="341:48:341:60">BibtexFields</jtok>
<jtok eid="25" type="qualified_name_ref" span="341:61:341:70">KEY_FIELD</jtok>
<jtok eid="25" type="primary_name_ref" span="342:9:342:12">out</jtok>
<jtok eid="25" type="method_call" span="342:13:342:18">write</jtok>
<jtok eid="25" type="primary_name_ref" span="342:21:342:24">str</jtok>
<jtok eid="25" type="string_literal" span="342:36:342:38">""</jtok>
<jtok eid="25" type="primary_name_ref" span="342:41:342:44">str</jtok>
<jtok eid="25" type="string_literal" span="342:46:342:49">","</jtok>
<jtok eid="25" type="primary_name_ref" span="342:50:342:57">Globals</jtok>
<jtok eid="25" type="qualified_name_ref" span="342:58:342:65">NEWLINE</jtok>
<jtok eid="25" type="class_or_interface_ref" span="343:9:343:16">HashMap</jtok>
<jtok eid="25" type="class_or_interface_ref" span="343:17:343:23">String</jtok>
<jtok eid="25" type="class_or_interface_ref" span="343:25:343:31">String</jtok>
<jtok eid="25" type="local_variable_name" span="343:33:343:40">written</jtok>
<jtok eid="25" type="constructor_call" span="343:47:343:54">HashMap</jtok>
<jtok eid="25" type="constructor_call" span="343:55:343:61">String</jtok>
<jtok eid="25" type="constructor_call" span="343:63:343:69">String</jtok>
<jtok eid="25" type="primary_name_ref" span="344:9:344:16">written</jtok>
<jtok eid="25" type="method_call" span="344:17:344:20">put</jtok>
<jtok eid="25" type="primary_name_ref" span="344:21:344:33">BibtexFields</jtok>
<jtok eid="25" type="qualified_name_ref" span="344:34:344:43">KEY_FIELD</jtok>
<jtok eid="25" type="local_variable_name" span="345:17:345:27">hasWritten</jtok>
<jtok eid="25" type="line_comment" span="346:9:346:40">// Write required fields first.</jtok>
<jtok eid="25" type="class_or_interface_ref" span="347:9:347:15">String</jtok>
<jtok eid="25" type="local_variable_name" span="347:18:347:19">s</jtok>
<jtok eid="25" type="method_call" span="347:22:347:39">getRequiredFields</jtok>
<jtok eid="25" type="primary_name_ref" span="348:13:348:14">s</jtok>
<jtok eid="25" type="local_variable_name" span="348:33:348:34">i</jtok>
<jtok eid="25" type="primary_name_ref" span="348:38:348:39">i</jtok>
<jtok eid="25" type="primary_name_ref" span="348:40:348:41">s</jtok>
<jtok eid="25" type="qualified_name_ref" span="348:42:348:48">length</jtok>
<jtok eid="25" type="primary_name_ref" span="348:50:348:51">i</jtok>
<jtok eid="25" type="primary_name_ref" span="349:13:349:23">hasWritten</jtok>
<jtok eid="25" type="primary_name_ref" span="349:26:349:36">hasWritten</jtok>
<jtok eid="25" type="method_call" span="349:39:349:49">writeField</jtok>
<jtok eid="25" type="primary_name_ref" span="349:50:349:51">s</jtok>
<jtok eid="25" type="primary_name_ref" span="349:52:349:53">i</jtok>
<jtok eid="25" type="primary_name_ref" span="349:56:349:59">out</jtok>
<jtok eid="25" type="primary_name_ref" span="349:61:349:63">ff</jtok>
<jtok eid="25" type="primary_name_ref" span="349:65:349:75">hasWritten</jtok>
<jtok eid="25" type="primary_name_ref" span="350:13:350:20">written</jtok>
<jtok eid="25" type="method_call" span="350:21:350:24">put</jtok>
<jtok eid="25" type="primary_name_ref" span="350:25:350:26">s</jtok>
<jtok eid="25" type="primary_name_ref" span="350:27:350:28">i</jtok>
<jtok eid="25" type="line_comment" span="352:9:352:33">// Then optional fields.</jtok>
<jtok eid="25" type="primary_name_ref" span="353:9:353:10">s</jtok>
<jtok eid="25" type="method_call" span="353:13:353:30">getOptionalFields</jtok>
<jtok eid="25" type="primary_name_ref" span="354:13:354:14">s</jtok>
<jtok eid="25" type="local_variable_name" span="354:33:354:34">i</jtok>
<jtok eid="25" type="primary_name_ref" span="354:38:354:39">i</jtok>
<jtok eid="25" type="primary_name_ref" span="354:40:354:41">s</jtok>
<jtok eid="25" type="qualified_name_ref" span="354:42:354:48">length</jtok>
<jtok eid="25" type="primary_name_ref" span="354:50:354:51">i</jtok>
<jtok eid="25" type="primary_name_ref" span="355:18:355:25">written</jtok>
<jtok eid="25" type="method_call" span="355:26:355:37">containsKey</jtok>
<jtok eid="25" type="primary_name_ref" span="355:38:355:39">s</jtok>
<jtok eid="25" type="primary_name_ref" span="355:40:355:41">i</jtok>
<jtok eid="25" type="line_comment" span="355:47:355:102">// If field appears both in req. and opt. don't repeat.</jtok>
<jtok eid="25" type="line_comment" span="356:17:356:45">//writeField(s[i], out, ff);</jtok>
<jtok eid="25" type="primary_name_ref" span="357:17:357:27">hasWritten</jtok>
<jtok eid="25" type="primary_name_ref" span="357:30:357:40">hasWritten</jtok>
<jtok eid="25" type="method_call" span="357:43:357:53">writeField</jtok>
<jtok eid="25" type="primary_name_ref" span="357:54:357:55">s</jtok>
<jtok eid="25" type="primary_name_ref" span="357:56:357:57">i</jtok>
<jtok eid="25" type="primary_name_ref" span="357:60:357:63">out</jtok>
<jtok eid="25" type="primary_name_ref" span="357:65:357:67">ff</jtok>
<jtok eid="25" type="primary_name_ref" span="357:69:357:79">hasWritten</jtok>
<jtok eid="25" type="primary_name_ref" span="358:17:358:24">written</jtok>
<jtok eid="25" type="method_call" span="358:25:358:28">put</jtok>
<jtok eid="25" type="primary_name_ref" span="358:29:358:30">s</jtok>
<jtok eid="25" type="primary_name_ref" span="358:31:358:32">i</jtok>
<jtok eid="25" type="line_comment" span="361:9:361:60">// Then write remaining fields in alphabetic order.</jtok>
<jtok eid="25" type="class_or_interface_ref" span="362:9:362:16">TreeSet</jtok>
<jtok eid="25" type="class_or_interface_ref" span="362:17:362:23">String</jtok>
<jtok eid="25" type="local_variable_name" span="362:25:362:40">remainingFields</jtok>
<jtok eid="25" type="constructor_call" span="362:47:362:54">TreeSet</jtok>
<jtok eid="25" type="constructor_call" span="362:55:362:61">String</jtok>
<jtok eid="25" type="class_or_interface_ref" span="363:14:363:20">String</jtok>
<jtok eid="25" type="local_variable_name" span="363:21:363:24">key</jtok>
<jtok eid="25" type="primary_name_ref" span="363:27:363:34">_fields</jtok>
<jtok eid="25" type="method_call" span="363:35:363:41">keySet</jtok>
<jtok eid="25" type="local_variable_name" span="364:21:364:28">writeIt</jtok>
<jtok eid="25" type="primary_name_ref" span="364:32:364:37">write</jtok>
<jtok eid="25" type="primary_name_ref" span="364:40:364:52">BibtexFields</jtok>
<jtok eid="25" type="method_call" span="364:53:364:69">isWriteableField</jtok>
<jtok eid="25" type="primary_name_ref" span="364:70:364:73">key</jtok>
<jtok eid="25" type="primary_name_ref" span="365:32:365:44">BibtexFields</jtok>
<jtok eid="25" type="method_call" span="365:45:365:63">isDisplayableField</jtok>
<jtok eid="25" type="primary_name_ref" span="365:64:365:67">key</jtok>
<jtok eid="25" type="primary_name_ref" span="366:18:366:25">written</jtok>
<jtok eid="25" type="method_call" span="366:26:366:37">containsKey</jtok>
<jtok eid="25" type="primary_name_ref" span="366:38:366:41">key</jtok>
<jtok eid="25" type="primary_name_ref" span="366:46:366:53">writeIt</jtok>
<jtok eid="25" type="primary_name_ref" span="367:24:367:39">remainingFields</jtok>
<jtok eid="25" type="method_call" span="367:40:367:43">add</jtok>
<jtok eid="25" type="primary_name_ref" span="367:44:367:47">key</jtok>
<jtok eid="25" type="class_or_interface_ref" span="369:14:369:20">String</jtok>
<jtok eid="25" type="local_variable_name" span="369:21:369:26">field</jtok>
<jtok eid="25" type="primary_name_ref" span="369:28:369:43">remainingFields</jtok>
<jtok eid="25" type="primary_name_ref" span="370:13:370:23">hasWritten</jtok>
<jtok eid="25" type="primary_name_ref" span="370:26:370:36">hasWritten</jtok>
<jtok eid="25" type="method_call" span="370:39:370:49">writeField</jtok>
<jtok eid="25" type="primary_name_ref" span="370:50:370:55">field</jtok>
<jtok eid="25" type="primary_name_ref" span="370:57:370:60">out</jtok>
<jtok eid="25" type="primary_name_ref" span="370:62:370:64">ff</jtok>
<jtok eid="25" type="primary_name_ref" span="370:66:370:76">hasWritten</jtok>
<jtok eid="25" type="line_comment" span="372:9:372:35">// Finally, end the entry.</jtok>
<jtok eid="25" type="primary_name_ref" span="373:9:373:12">out</jtok>
<jtok eid="25" type="method_call" span="373:13:373:18">write</jtok>
<jtok eid="25" type="primary_name_ref" span="373:20:373:30">hasWritten</jtok>
<jtok eid="25" type="primary_name_ref" span="373:33:373:40">Globals</jtok>
<jtok eid="25" type="qualified_name_ref" span="373:41:373:48">NEWLINE</jtok>
<jtok eid="25" type="string_literal" span="373:51:373:53">""</jtok>
<jtok eid="25" type="string_literal" span="373:55:373:58">"}"</jtok>
<jtok eid="25" type="primary_name_ref" span="373:59:373:66">Globals</jtok>
<jtok eid="25" type="qualified_name_ref" span="373:67:373:74">NEWLINE</jtok>
<jtok eid="1" type="block_comment" span="376:5:386:8">/**
     * Write a single field, if it has any content.
     * @param name The field name
     * @param out The Writer to send it to
     * @param ff A formatter to filter field contents before writing
     * @param isFirst Indicates whether this is the first field written for
     *    this entry - if not, start by writing a comma and newline
     * @return true if this field was written, false if it was skipped because
     *    it was not set
     * @throws IOException In case of an IO error
     */</jtok>
<jtok eid="26" type="method_name" span="387:21:387:31">writeField</jtok>
<jtok eid="26" type="parameter_type" span="387:32:387:38">String</jtok>
<jtok eid="26" type="parameter_name" span="387:39:387:43">name</jtok>
<jtok eid="26" type="parameter_type" span="387:45:387:51">Writer</jtok>
<jtok eid="26" type="parameter_name" span="387:52:387:55">out</jtok>
<jtok eid="26" type="parameter_type" span="388:29:388:43">FieldFormatter</jtok>
<jtok eid="26" type="parameter_name" span="388:44:388:46">ff</jtok>
<jtok eid="26" type="parameter_name" span="388:56:388:63">isFirst</jtok>
<jtok eid="26" type="throws" span="388:72:388:83">IOException</jtok>
<jtok eid="26" type="class_or_interface_ref" span="389:9:389:15">String</jtok>
<jtok eid="26" type="local_variable_name" span="389:16:389:17">o</jtok>
<jtok eid="26" type="method_call" span="389:20:389:28">getField</jtok>
<jtok eid="26" type="primary_name_ref" span="389:29:389:33">name</jtok>
<jtok eid="26" type="primary_name_ref" span="390:13:390:14">o</jtok>
<jtok eid="26" type="primary_name_ref" span="391:17:391:24">isFirst</jtok>
<jtok eid="26" type="primary_name_ref" span="392:17:392:20">out</jtok>
<jtok eid="26" type="method_call" span="392:21:392:26">write</jtok>
<jtok eid="26" type="string_literal" span="392:27:392:30">","</jtok>
<jtok eid="26" type="primary_name_ref" span="392:31:392:38">Globals</jtok>
<jtok eid="26" type="qualified_name_ref" span="392:39:392:46">NEWLINE</jtok>
<jtok eid="26" type="primary_name_ref" span="393:13:393:16">out</jtok>
<jtok eid="26" type="method_call" span="393:17:393:22">write</jtok>
<jtok eid="26" type="string_literal" span="393:23:393:27">"  "</jtok>
<jtok eid="26" type="primary_name_ref" span="393:28:393:32">name</jtok>
<jtok eid="26" type="string_literal" span="393:33:393:38">" = "</jtok>
<jtok eid="26" type="primary_name_ref" span="396:17:396:20">out</jtok>
<jtok eid="26" type="method_call" span="396:21:396:26">write</jtok>
<jtok eid="26" type="primary_name_ref" span="396:27:396:29">ff</jtok>
<jtok eid="26" type="method_call" span="396:30:396:36">format</jtok>
<jtok eid="26" type="primary_name_ref" span="396:37:396:38">o</jtok>
<jtok eid="26" type="method_call" span="396:39:396:47">toString</jtok>
<jtok eid="26" type="primary_name_ref" span="396:51:396:55">name</jtok>
<jtok eid="26" type="class_or_interface_ref" span="397:22:397:31">Throwable</jtok>
<jtok eid="26" type="local_variable_name" span="397:32:397:34">ex</jtok>
<jtok eid="26" type="constructor_call" span="398:27:398:38">IOException</jtok>
<jtok eid="26" type="primary_name_ref" span="399:22:399:29">Globals</jtok>
<jtok eid="26" type="method_call" span="399:30:399:34">lang</jtok>
<jtok eid="26" type="string_literal" span="399:35:399:51">"Error in field"</jtok>
<jtok eid="26" type="string_literal" span="399:53:399:57">" '"</jtok>
<jtok eid="26" type="primary_name_ref" span="399:58:399:62">name</jtok>
<jtok eid="26" type="string_literal" span="399:63:399:68">"': "</jtok>
<jtok eid="26" type="primary_name_ref" span="399:69:399:71">ex</jtok>
<jtok eid="26" type="method_call" span="399:72:399:82">getMessage</jtok>
<jtok eid="1" type="block_comment" span="406:5:408:8">/**
     * Returns a clone of this entry. Useful for copying.
     */</jtok>
<jtok eid="27" type="class_or_interface_ref" span="409:12:409:18">Object</jtok>
<jtok eid="27" type="method_name" span="409:19:409:24">clone</jtok>
<jtok eid="27" type="class_or_interface_ref" span="410:9:410:20">BibtexEntry</jtok>
<jtok eid="27" type="local_variable_name" span="410:21:410:26">clone</jtok>
<jtok eid="27" type="constructor_call" span="410:33:410:44">BibtexEntry</jtok>
<jtok eid="27" type="primary_name_ref" span="410:45:410:48">_id</jtok>
<jtok eid="27" type="primary_name_ref" span="410:50:410:55">_type</jtok>
<jtok eid="27" type="primary_name_ref" span="411:9:411:14">clone</jtok>
<jtok eid="27" type="qualified_name_ref" span="411:15:411:22">_fields</jtok>
<jtok eid="27" type="constructor_call" span="411:29:411:36">HashMap</jtok>
<jtok eid="27" type="constructor_call" span="411:37:411:43">String</jtok>
<jtok eid="27" type="constructor_call" span="411:45:411:51">String</jtok>
<jtok eid="27" type="primary_name_ref" span="411:53:411:60">_fields</jtok>
<jtok eid="27" type="primary_name_ref" span="412:16:412:21">clone</jtok>
<jtok eid="28" type="class_or_interface_ref" span="415:12:415:18">String</jtok>
<jtok eid="28" type="method_name" span="415:19:415:27">toString</jtok>
<jtok eid="28" type="method_call" span="416:16:416:23">getType</jtok>
<jtok eid="28" type="method_call" span="416:26:416:33">getName</jtok>
<jtok eid="28" type="string_literal" span="416:36:416:39">":"</jtok>
<jtok eid="28" type="method_call" span="416:40:416:48">getField</jtok>
<jtok eid="28" type="primary_name_ref" span="416:49:416:61">BibtexFields</jtok>
<jtok eid="28" type="qualified_name_ref" span="416:62:416:71">KEY_FIELD</jtok>
<jtok eid="29" type="method_name" span="419:20:419:31">isSearchHit</jtok>
<jtok eid="29" type="primary_name_ref" span="420:16:420:25">searchHit</jtok>
<jtok eid="30" type="method_name" span="423:17:423:29">setSearchHit</jtok>
<jtok eid="30" type="parameter_name" span="423:38:423:47">searchHit</jtok>
<jtok eid="30" type="qualified_name_ref" span="424:14:424:23">searchHit</jtok>
<jtok eid="30" type="primary_name_ref" span="424:26:424:35">searchHit</jtok>
<jtok eid="31" type="method_name" span="427:20:427:30">isGroupHit</jtok>
<jtok eid="31" type="primary_name_ref" span="428:16:428:24">groupHit</jtok>
<jtok eid="32" type="method_name" span="431:17:431:28">setGroupHit</jtok>
<jtok eid="32" type="parameter_name" span="431:37:431:45">groupHit</jtok>
<jtok eid="32" type="qualified_name_ref" span="432:14:432:22">groupHit</jtok>
<jtok eid="32" type="primary_name_ref" span="432:25:432:33">groupHit</jtok>
<jtok eid="1" type="block_comment" span="435:5:440:8">/**
     * @param maxCharacters The maximum number of characters (additional
     * characters are replaced with "..."). Set to 0 to disable truncation.
     * @return A short textual description of the entry in the format:
     * Author1, Author2: Title (Year)
     */</jtok>
<jtok eid="33" type="class_or_interface_ref" span="441:12:441:18">String</jtok>
<jtok eid="33" type="method_name" span="441:19:441:37">getAuthorTitleYear</jtok>
<jtok eid="33" type="parameter_name" span="441:42:441:55">maxCharacters</jtok>
<jtok eid="33" type="class_or_interface_ref" span="442:9:442:15">String</jtok>
<jtok eid="33" type="local_variable_name" span="442:18:442:19">s</jtok>
<jtok eid="33" type="constructor_call" span="442:26:442:32">String</jtok>
<jtok eid="33" type="method_call" span="443:17:443:25">getField</jtok>
<jtok eid="33" type="string_literal" span="443:26:443:34">"author"</jtok>
<jtok eid="33" type="method_call" span="444:17:444:25">getField</jtok>
<jtok eid="33" type="string_literal" span="444:26:444:33">"title"</jtok>
<jtok eid="33" type="method_call" span="445:17:445:25">getField</jtok>
<jtok eid="33" type="string_literal" span="445:26:445:32">"year"</jtok>
<jtok eid="33" type="local_variable_name" span="446:18:446:19">i</jtok>
<jtok eid="33" type="primary_name_ref" span="446:25:446:26">i</jtok>
<jtok eid="33" type="primary_name_ref" span="446:29:446:30">s</jtok>
<jtok eid="33" type="qualified_name_ref" span="446:31:446:37">length</jtok>
<jtok eid="33" type="primary_name_ref" span="446:41:446:42">i</jtok>
<jtok eid="33" type="primary_name_ref" span="447:17:447:18">s</jtok>
<jtok eid="33" type="primary_name_ref" span="447:19:447:20">i</jtok>
<jtok eid="33" type="primary_name_ref" span="448:17:448:18">s</jtok>
<jtok eid="33" type="primary_name_ref" span="448:19:448:20">i</jtok>
<jtok eid="33" type="string_literal" span="448:24:448:29">"N/A"</jtok>
<jtok eid="33" type="class_or_interface_ref" span="449:9:449:15">String</jtok>
<jtok eid="33" type="local_variable_name" span="449:16:449:20">text</jtok>
<jtok eid="33" type="primary_name_ref" span="449:23:449:24">s</jtok>
<jtok eid="33" type="string_literal" span="449:30:449:36">": \""</jtok>
<jtok eid="33" type="primary_name_ref" span="449:39:449:40">s</jtok>
<jtok eid="33" type="string_literal" span="449:46:449:52">"\" ("</jtok>
<jtok eid="33" type="primary_name_ref" span="449:55:449:56">s</jtok>
<jtok eid="33" type="string_literal" span="449:62:449:65">")"</jtok>
<jtok eid="33" type="primary_name_ref" span="450:13:450:26">maxCharacters</jtok>
<jtok eid="33" type="primary_name_ref" span="450:35:450:39">text</jtok>
<jtok eid="33" type="method_call" span="450:40:450:46">length</jtok>
<jtok eid="33" type="primary_name_ref" span="450:52:450:65">maxCharacters</jtok>
<jtok eid="33" type="primary_name_ref" span="451:20:451:24">text</jtok>
<jtok eid="33" type="primary_name_ref" span="452:16:452:20">text</jtok>
<jtok eid="33" type="method_call" span="452:21:452:30">substring</jtok>
<jtok eid="33" type="primary_name_ref" span="452:34:452:47">maxCharacters</jtok>
<jtok eid="33" type="string_literal" span="452:55:452:60">"..."</jtok>
</jdoc>