<?xml version="1.0" encoding="utf-8"?>
<jdoc cUnit="net.sf.jabref.EntryEditor" jls="java5">
<jent id="0" type="file" span="0:0:1550:1">Source/jabref/src/java/net/sf/jabref/EntryEditor.java</jent>
<jent id="1" pid="0" type="class" span="107:1:1550:1">net.sf.jabref.EntryEditor</jent>
<jent id="2" pid="1" type="method" span="206:5:234:5">net.sf.jabref.EntryEditor.EntryEditor(JabRefFrame,BasePanel,BibtexEntry)</jent>
<jent id="3" pid="1" type="method" span="236:5:273:5">net.sf.jabref.EntryEditor.setupFieldPanels()</jent>
<jent id="4" pid="1" type="method" span="275:5:277:5">net.sf.jabref.EntryEditor.getType()</jent>
<jent id="5" pid="1" type="method" span="279:5:281:5">net.sf.jabref.EntryEditor.getEntry()</jent>
<jent id="6" pid="1" type="method" span="283:5:285:5">net.sf.jabref.EntryEditor.getDatabase()</jent>
<jent id="7" pid="1" type="method" span="287:5:359:5">net.sf.jabref.EntryEditor.setupToolBar()</jent>
<jent id="8" pid="1" type="method" span="365:5:375:5">net.sf.jabref.EntryEditor.rebuildPanels()</jent>
<jent id="9" pid="1" type="method" span="387:5:506:5">net.sf.jabref.EntryEditor.getExtra(String,FieldEditor)</jent>
<jent id="10" pid="9" type="class" span="398:66:406:13">net.sf.jabref.EntryEditor.getExtra(String,FieldEditor).$1</jent>
<jent id="11" pid="10" type="method" span="399:17:405:17">net.sf.jabref.EntryEditor.getExtra(String,FieldEditor).$1.mouseClicked(MouseEvent)</jent>
<jent id="12" pid="9" type="class" span="449:56:466:13">net.sf.jabref.EntryEditor.getExtra(String,FieldEditor).$2</jent>
<jent id="13" pid="12" type="method" span="450:17:465:17">net.sf.jabref.EntryEditor.getExtra(String,FieldEditor).$2.actionPerformed(ActionEvent)</jent>
<jent id="14" pid="9" type="class" span="496:59:501:13">net.sf.jabref.EntryEditor.getExtra(String,FieldEditor).$3</jent>
<jent id="15" pid="14" type="method" span="497:17:500:17">net.sf.jabref.EntryEditor.getExtra(String,FieldEditor).$3.actionPerformed(ActionEvent)</jent>
<jent id="16" pid="1" type="method" span="508:5:542:5">net.sf.jabref.EntryEditor.setupSourcePanel()</jent>
<jent id="17" pid="1" type="method" span="544:5:585:5">net.sf.jabref.EntryEditor.updateSource()</jent>
<jent id="18" pid="17" type="class" span="563:59:573:17">net.sf.jabref.EntryEditor.updateSource().$4</jent>
<jent id="19" pid="18" type="method" span="564:19:572:19">net.sf.jabref.EntryEditor.updateSource().$4.run()</jent>
<jent id="20" pid="1" type="method" span="592:5:637:5">net.sf.jabref.EntryEditor.setupJTextComponent(JTextComponent)</jent>
<jent id="21" pid="1" type="method" span="639:5:641:5">net.sf.jabref.EntryEditor.requestFocus()</jent>
<jent id="22" pid="1" type="method" span="643:5:651:5">net.sf.jabref.EntryEditor.activateVisible()</jent>
<jent id="23" pid="1" type="method" span="656:5:658:5">net.sf.jabref.EntryEditor.isEnabled()</jent>
<jent id="24" pid="1" type="method" span="663:5:672:5">net.sf.jabref.EntryEditor.setEnabled(boolean)</jent>
<jent id="25" pid="1" type="method" span="680:5:684:5">net.sf.jabref.EntryEditor.scrollTo(int)</jent>
<jent id="26" pid="1" type="method" span="689:5:696:5">net.sf.jabref.EntryEditor.storeCurrentEdit()</jent>
<jent id="27" pid="1" type="method" span="703:5:705:5">net.sf.jabref.EntryEditor.getVisiblePanel()</jent>
<jent id="28" pid="1" type="method" span="708:5:710:5">net.sf.jabref.EntryEditor.getVisiblePanelName()</jent>
<jent id="29" pid="1" type="method" span="718:5:720:5">net.sf.jabref.EntryEditor.setVisiblePanel(int)</jent>
<jent id="30" pid="1" type="method" span="722:5:731:5">net.sf.jabref.EntryEditor.setVisiblePanel(String)</jent>
<jent id="31" pid="1" type="method" span="740:5:759:5">net.sf.jabref.EntryEditor.switchTo(BibtexEntry)</jent>
<jent id="32" pid="1" type="method" span="765:5:770:5">net.sf.jabref.EntryEditor.lastSourceAccepted()</jent>
<jent id="33" pid="1" type="method" span="776:5:913:5">net.sf.jabref.EntryEditor.storeSource(boolean)</jent>
<jent id="34" pid="33" type="class" span="875:55:885:13">net.sf.jabref.EntryEditor.storeSource(boolean).$5</jent>
<jent id="35" pid="34" type="method" span="876:17:884:17">net.sf.jabref.EntryEditor.storeSource(boolean).$5.run()</jent>
<jent id="36" pid="1" type="method" span="915:5:924:5">net.sf.jabref.EntryEditor.setField(String,String)</jent>
<jent id="37" pid="1" type="method" span="929:5:936:5">net.sf.jabref.EntryEditor.updateAllFields()</jent>
<jent id="38" pid="1" type="method" span="941:5:948:5">net.sf.jabref.EntryEditor.validateAllFields()</jent>
<jent id="39" pid="1" type="method" span="950:5:955:5">net.sf.jabref.EntryEditor.updateAllContentSelectors()</jent>
<jent id="40" pid="1" type="method" span="964:5:967:5">net.sf.jabref.EntryEditor.vetoableChange(PropertyChangeEvent)</jent>
<jent id="41" pid="1" type="method" span="969:5:971:5">net.sf.jabref.EntryEditor.updateField(Object)</jent>
<jent id="42" pid="1" type="method" span="974:5:976:5">net.sf.jabref.EntryEditor.setMovingToDifferentEntry()</jent>
<jent id="43" pid="1" type="class" span="978:5:1014:5">net.sf.jabref.EntryEditor.TypeLabel</jent>
<jent id="44" pid="43" type="method" span="979:9:1001:9">net.sf.jabref.EntryEditor.TypeLabel.TypeLabel(String)</jent>
<jent id="45" pid="44" type="class" span="985:49:1000:13">net.sf.jabref.EntryEditor.TypeLabel.TypeLabel(String).$1</jent>
<jent id="46" pid="45" type="method" span="986:17:999:17">net.sf.jabref.EntryEditor.TypeLabel.TypeLabel(String).$1.mouseClicked(MouseEvent)</jent>
<jent id="47" pid="43" type="method" span="1003:9:1013:9">net.sf.jabref.EntryEditor.TypeLabel.paintComponent(Graphics)</jent>
<jent id="48" pid="1" type="class" span="1016:5:1029:5">net.sf.jabref.EntryEditor.FieldListener</jent>
<jent id="49" pid="48" type="method" span="1021:9:1022:9">net.sf.jabref.EntryEditor.FieldListener.focusGained(FocusEvent)</jent>
<jent id="50" pid="48" type="method" span="1024:9:1028:9">net.sf.jabref.EntryEditor.FieldListener.focusLost(FocusEvent)</jent>
<jent id="51" pid="1" type="class" span="1031:5:1054:5">net.sf.jabref.EntryEditor.TabListener</jent>
<jent id="52" pid="51" type="method" span="1032:9:1053:9">net.sf.jabref.EntryEditor.TabListener.stateChanged(ChangeEvent)</jent>
<jent id="53" pid="52" type="class" span="1034:55:1038:13">net.sf.jabref.EntryEditor.TabListener.stateChanged(ChangeEvent).$1</jent>
<jent id="54" pid="53" type="method" span="1035:17:1037:17">net.sf.jabref.EntryEditor.TabListener.stateChanged(ChangeEvent).$1.run()</jent>
<jent id="55" pid="52" type="class" span="1045:55:1051:13">net.sf.jabref.EntryEditor.TabListener.stateChanged(ChangeEvent).$2</jent>
<jent id="56" pid="55" type="method" span="1046:17:1050:17">net.sf.jabref.EntryEditor.TabListener.stateChanged(ChangeEvent).$2.run()</jent>
<jent id="57" pid="1" type="class" span="1056:5:1075:5">net.sf.jabref.EntryEditor.DeleteAction</jent>
<jent id="58" pid="57" type="method" span="1057:9:1060:9">net.sf.jabref.EntryEditor.DeleteAction.DeleteAction()</jent>
<jent id="59" pid="57" type="method" span="1062:9:1074:9">net.sf.jabref.EntryEditor.DeleteAction.actionPerformed(ActionEvent)</jent>
<jent id="60" pid="1" type="class" span="1077:5:1091:5">net.sf.jabref.EntryEditor.CloseAction</jent>
<jent id="61" pid="60" type="method" span="1078:9:1081:9">net.sf.jabref.EntryEditor.CloseAction.CloseAction()</jent>
<jent id="62" pid="60" type="method" span="1083:9:1090:9">net.sf.jabref.EntryEditor.CloseAction.actionPerformed(ActionEvent)</jent>
<jent id="63" pid="1" type="class" span="1093:5:1107:5">net.sf.jabref.EntryEditor.CopyKeyAction</jent>
<jent id="64" pid="63" type="method" span="1094:9:1098:9">net.sf.jabref.EntryEditor.CopyKeyAction.CopyKeyAction()</jent>
<jent id="65" pid="63" type="method" span="1100:9:1106:9">net.sf.jabref.EntryEditor.CopyKeyAction.actionPerformed(ActionEvent)</jent>
<jent id="66" pid="1" type="class" span="1109:5:1273:5">net.sf.jabref.EntryEditor.StoreFieldAction</jent>
<jent id="67" pid="66" type="method" span="1110:9:1113:9">net.sf.jabref.EntryEditor.StoreFieldAction.StoreFieldAction()</jent>
<jent id="68" pid="66" type="method" span="1115:9:1272:9">net.sf.jabref.EntryEditor.StoreFieldAction.actionPerformed(ActionEvent)</jent>
<jent id="69" pid="68" type="class" span="1260:59:1270:17">net.sf.jabref.EntryEditor.StoreFieldAction.actionPerformed(ActionEvent).$1</jent>
<jent id="70" pid="69" type="method" span="1261:21:1269:21">net.sf.jabref.EntryEditor.StoreFieldAction.actionPerformed(ActionEvent).$1.run()</jent>
<jent id="71" pid="1" type="class" span="1275:5:1287:5">net.sf.jabref.EntryEditor.SwitchLeftAction</jent>
<jent id="72" pid="71" type="method" span="1276:9:1278:9">net.sf.jabref.EntryEditor.SwitchLeftAction.SwitchLeftAction()</jent>
<jent id="73" pid="71" type="method" span="1280:9:1286:9">net.sf.jabref.EntryEditor.SwitchLeftAction.actionPerformed(ActionEvent)</jent>
<jent id="74" pid="1" type="class" span="1289:5:1301:5">net.sf.jabref.EntryEditor.SwitchRightAction</jent>
<jent id="75" pid="74" type="method" span="1290:9:1292:9">net.sf.jabref.EntryEditor.SwitchRightAction.SwitchRightAction()</jent>
<jent id="76" pid="74" type="method" span="1294:9:1300:9">net.sf.jabref.EntryEditor.SwitchRightAction.actionPerformed(ActionEvent)</jent>
<jent id="77" pid="1" type="class" span="1303:5:1327:5">net.sf.jabref.EntryEditor.NextEntryAction</jent>
<jent id="78" pid="77" type="method" span="1304:9:1308:9">net.sf.jabref.EntryEditor.NextEntryAction.NextEntryAction()</jent>
<jent id="79" pid="77" type="method" span="1310:9:1326:9">net.sf.jabref.EntryEditor.NextEntryAction.actionPerformed(ActionEvent)</jent>
<jent id="80" pid="1" type="class" span="1329:5:1354:5">net.sf.jabref.EntryEditor.PrevEntryAction</jent>
<jent id="81" pid="80" type="method" span="1330:9:1334:9">net.sf.jabref.EntryEditor.PrevEntryAction.PrevEntryAction()</jent>
<jent id="82" pid="80" type="method" span="1336:9:1353:9">net.sf.jabref.EntryEditor.PrevEntryAction.actionPerformed(ActionEvent)</jent>
<jent id="83" pid="1" type="class" span="1356:5:1401:5">net.sf.jabref.EntryEditor.GenerateKeyAction</jent>
<jent id="84" pid="83" type="method" span="1361:9:1369:9">net.sf.jabref.EntryEditor.GenerateKeyAction.GenerateKeyAction(JabRefFrame)</jent>
<jent id="85" pid="83" type="method" span="1371:9:1400:9">net.sf.jabref.EntryEditor.GenerateKeyAction.actionPerformed(ActionEvent)</jent>
<jent id="86" pid="1" type="class" span="1403:5:1415:5">net.sf.jabref.EntryEditor.UndoAction</jent>
<jent id="87" pid="86" type="method" span="1404:9:1407:9">net.sf.jabref.EntryEditor.UndoAction.UndoAction()</jent>
<jent id="88" pid="86" type="method" span="1409:9:1414:9">net.sf.jabref.EntryEditor.UndoAction.actionPerformed(ActionEvent)</jent>
<jent id="89" pid="1" type="class" span="1417:5:1429:5">net.sf.jabref.EntryEditor.RedoAction</jent>
<jent id="90" pid="89" type="method" span="1418:9:1421:9">net.sf.jabref.EntryEditor.RedoAction.RedoAction()</jent>
<jent id="91" pid="89" type="method" span="1423:9:1428:9">net.sf.jabref.EntryEditor.RedoAction.actionPerformed(ActionEvent)</jent>
<jent id="92" pid="1" type="class" span="1431:5:1453:5">net.sf.jabref.EntryEditor.SaveDatabaseAction</jent>
<jent id="93" pid="92" type="method" span="1432:9:1434:9">net.sf.jabref.EntryEditor.SaveDatabaseAction.SaveDatabaseAction()</jent>
<jent id="94" pid="92" type="method" span="1436:9:1452:9">net.sf.jabref.EntryEditor.SaveDatabaseAction.actionPerformed(ActionEvent)</jent>
<jent id="95" pid="1" type="class" span="1455:5:1475:5">net.sf.jabref.EntryEditor.ExternalViewerListener</jent>
<jent id="96" pid="95" type="method" span="1456:9:1474:9">net.sf.jabref.EntryEditor.ExternalViewerListener.mouseClicked(MouseEvent)</jent>
<jent id="97" pid="1" type="class" span="1477:5:1491:5">net.sf.jabref.EntryEditor.ChangeTypeAction</jent>
<jent id="98" pid="97" type="method" span="1482:9:1486:9">net.sf.jabref.EntryEditor.ChangeTypeAction.ChangeTypeAction(BibtexEntryType,BasePanel)</jent>
<jent id="99" pid="97" type="method" span="1488:9:1490:9">net.sf.jabref.EntryEditor.ChangeTypeAction.actionPerformed(ActionEvent)</jent>
<jent id="100" pid="1" type="method" span="1493:5:1507:5">net.sf.jabref.EntryEditor.warnDuplicateBibtexkey()</jent>
<jent id="101" pid="1" type="method" span="1509:5:1524:5">net.sf.jabref.EntryEditor.warnEmptyBibtexkey()</jent>
<jent id="102" pid="1" type="class" span="1527:5:1549:5">net.sf.jabref.EntryEditor.AutoSetFileAction</jent>
<jent id="103" pid="102" type="method" span="1528:9:1532:9">net.sf.jabref.EntryEditor.AutoSetFileAction.AutoSetFileAction()</jent>
<jent id="104" pid="102" type="method" span="1534:9:1548:9">net.sf.jabref.EntryEditor.AutoSetFileAction.actionPerformed(ActionEvent)</jent>
<jent id="105" pid="104" type="class" span="1538:99:1547:13">net.sf.jabref.EntryEditor.AutoSetFileAction.actionPerformed(ActionEvent).$1</jent>
<jent id="106" pid="105" type="method" span="1539:17:1546:17">net.sf.jabref.EntryEditor.AutoSetFileAction.actionPerformed(ActionEvent).$1.actionPerformed(ActionEvent)</jent>
<jtok eid="0" type="block_comment" span="1:1:24:4">/*
 * Copyright (C) 2003 Morten O. Alver, Nizar N. Batada
 *
 * All programs in this directory and subdirectories are published under the GNU
 * General Public License as described below.
 *
 * This program is free software; you can redistribute it and/or modify it under
 * the terms of the GNU General Public License as published by the Free Software
 * Foundation; either version 2 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE. See the GNU General Public License for more
 * details.
 *
 * You should have received a copy of the GNU General Public License along with
 * this program; if not, write to the Free Software Foundation, Inc., 59 Temple
 * Place, Suite 330, Boston, MA 02111-1307 USA
 *
 * Further information about the GNU GPL is available at:
 * http://www.gnu.org/copyleft/gpl.ja.html
 *
 */</jtok>
<jtok eid="0" type="block_comment" span="97:1:106:4">/**
 * GUI component that allows editing of the fields of a BibtexEntry (i.e. the
 * one that shows up, when you double click on an entry in the table)
 * 
 * It hosts the tabs (required, general, optional) and the buttons to the left.
 * 
 * EntryEditor also registers itself as a VetoableChangeListener, receiving
 * events whenever a field of the entry changes, enabling the text fields to
 * update themselves if the change is made from somewhere else.
 */</jtok>
<jtok eid="1" type="class_name" span="107:14:107:25">EntryEditor</jtok>
<jtok eid="1" type="class_or_interface_ref" span="107:34:107:40">JPanel</jtok>
<jtok eid="1" type="class_or_interface_ref" span="107:52:107:74">VetoableChangeListener</jtok>
<jtok eid="1" type="line_comment" span="109:5:109:54">// A reference to the entry this object works on.</jtok>
<jtok eid="1" type="class_or_interface_ref" span="110:13:110:24">BibtexEntry</jtok>
<jtok eid="1" type="field_name" span="110:25:110:30">entry</jtok>
<jtok eid="1" type="class_or_interface_ref" span="112:5:112:20">BibtexEntryType</jtok>
<jtok eid="1" type="field_name" span="112:21:112:25">type</jtok>
<jtok eid="1" type="line_comment" span="114:5:114:53">// The action concerned with closing the window.</jtok>
<jtok eid="1" type="class_or_interface_ref" span="115:5:115:16">CloseAction</jtok>
<jtok eid="1" type="field_name" span="115:17:115:28">closeAction</jtok>
<jtok eid="1" type="line_comment" span="117:5:117:73">// The action that deletes the current entry, and closes the editor.</jtok>
<jtok eid="1" type="class_or_interface_ref" span="118:5:118:17">DeleteAction</jtok>
<jtok eid="1" type="field_name" span="118:18:118:30">deleteAction</jtok>
<jtok eid="1" type="constructor_call" span="118:37:118:49">DeleteAction</jtok>
<jtok eid="1" type="line_comment" span="120:5:120:74">// The action concerned with copying the BibTeX key to the clipboard.</jtok>
<jtok eid="1" type="class_or_interface_ref" span="121:5:121:18">CopyKeyAction</jtok>
<jtok eid="1" type="field_name" span="121:19:121:32">copyKeyAction</jtok>
<jtok eid="1" type="line_comment" span="123:5:123:74">// The action concerned with copying the BibTeX key to the clipboard.</jtok>
<jtok eid="1" type="class_or_interface_ref" span="124:5:124:19">AbstractAction</jtok>
<jtok eid="1" type="field_name" span="124:20:124:35">nextEntryAction</jtok>
<jtok eid="1" type="constructor_call" span="124:42:124:57">NextEntryAction</jtok>
<jtok eid="1" type="line_comment" span="126:5:126:53">// Actions for switching to next/previous entry.</jtok>
<jtok eid="1" type="class_or_interface_ref" span="127:5:127:19">AbstractAction</jtok>
<jtok eid="1" type="field_name" span="127:20:127:35">prevEntryAction</jtok>
<jtok eid="1" type="constructor_call" span="127:42:127:57">PrevEntryAction</jtok>
<jtok eid="1" type="line_comment" span="129:5:129:56">// The action concerned with storing a field value.</jtok>
<jtok eid="1" type="class_or_interface_ref" span="130:12:130:28">StoreFieldAction</jtok>
<jtok eid="1" type="field_name" span="130:29:130:45">storeFieldAction</jtok>
<jtok eid="1" type="line_comment" span="132:5:132:56">// The actions concerned with switching the panels.</jtok>
<jtok eid="1" type="class_or_interface_ref" span="133:5:133:21">SwitchLeftAction</jtok>
<jtok eid="1" type="field_name" span="133:22:133:38">switchLeftAction</jtok>
<jtok eid="1" type="constructor_call" span="133:45:133:61">SwitchLeftAction</jtok>
<jtok eid="1" type="class_or_interface_ref" span="135:5:135:22">SwitchRightAction</jtok>
<jtok eid="1" type="field_name" span="135:23:135:40">switchRightAction</jtok>
<jtok eid="1" type="constructor_call" span="135:47:135:64">SwitchRightAction</jtok>
<jtok eid="1" type="line_comment" span="137:5:137:62">// The action which generates a bibtexkey for this entry.</jtok>
<jtok eid="1" type="class_or_interface_ref" span="138:12:138:29">GenerateKeyAction</jtok>
<jtok eid="1" type="field_name" span="138:30:138:47">generateKeyAction</jtok>
<jtok eid="1" type="class_or_interface_ref" span="140:12:140:29">AutoSetFileAction</jtok>
<jtok eid="1" type="field_name" span="140:30:140:38">autoLink</jtok>
<jtok eid="1" type="constructor_call" span="140:45:140:62">AutoSetFileAction</jtok>
<jtok eid="1" type="class_or_interface_ref" span="142:12:142:26">AbstractAction</jtok>
<jtok eid="1" type="field_name" span="142:27:142:35">writeXmp</jtok>
<jtok eid="1" type="class_or_interface_ref" span="144:5:144:23">SaveDatabaseAction</jtok>
<jtok eid="1" type="field_name" span="144:24:144:42">saveDatabaseAction</jtok>
<jtok eid="1" type="constructor_call" span="144:49:144:67">SaveDatabaseAction</jtok>
<jtok eid="1" type="class_or_interface_ref" span="146:5:146:11">JPanel</jtok>
<jtok eid="1" type="field_name" span="146:12:146:21">mainPanel</jtok>
<jtok eid="1" type="constructor_call" span="146:28:146:34">JPanel</jtok>
<jtok eid="1" type="class_or_interface_ref" span="148:5:148:11">JPanel</jtok>
<jtok eid="1" type="field_name" span="148:12:148:20">srcPanel</jtok>
<jtok eid="1" type="constructor_call" span="148:27:148:33">JPanel</jtok>
<jtok eid="1" type="class_or_interface_ref" span="150:5:150:19">EntryEditorTab</jtok>
<jtok eid="1" type="field_name" span="150:20:150:26">genPan</jtok>
<jtok eid="1" type="field_name" span="150:28:150:34">optPan</jtok>
<jtok eid="1" type="field_name" span="150:36:150:42">reqPan</jtok>
<jtok eid="1" type="field_name" span="150:44:150:50">absPan</jtok>
<jtok eid="1" type="class_or_interface_ref" span="152:5:152:15">JTextField</jtok>
<jtok eid="1" type="field_name" span="152:16:152:25">bibtexKey</jtok>
<jtok eid="1" type="class_or_interface_ref" span="154:5:154:19">FieldTextField</jtok>
<jtok eid="1" type="field_name" span="154:20:154:22">tf</jtok>
<jtok eid="1" type="class_or_interface_ref" span="156:5:156:14">JTextArea</jtok>
<jtok eid="1" type="field_name" span="156:15:156:21">source</jtok>
<jtok eid="1" type="class_or_interface_ref" span="158:5:158:13">JToolBar</jtok>
<jtok eid="1" type="field_name" span="158:14:158:17">tlb</jtok>
<jtok eid="1" type="class_or_interface_ref" span="160:5:160:16">JTabbedPane</jtok>
<jtok eid="1" type="field_name" span="160:17:160:23">tabbed</jtok>
<jtok eid="1" type="constructor_call" span="160:30:160:41">JTabbedPane</jtok>
<jtok eid="1" type="line_comment" span="160:45:160:67">// JTabbedPane.RIGHT);</jtok>
<jtok eid="1" type="class_or_interface_ref" span="162:5:162:11">JLabel</jtok>
<jtok eid="1" type="field_name" span="162:12:162:15">lab</jtok>
<jtok eid="1" type="class_or_interface_ref" span="164:5:164:14">TypeLabel</jtok>
<jtok eid="1" type="field_name" span="164:15:164:24">typeLabel</jtok>
<jtok eid="1" type="class_or_interface_ref" span="166:5:166:16">JabRefFrame</jtok>
<jtok eid="1" type="field_name" span="166:17:166:22">frame</jtok>
<jtok eid="1" type="class_or_interface_ref" span="168:5:168:14">BasePanel</jtok>
<jtok eid="1" type="field_name" span="168:15:168:20">panel</jtok>
<jtok eid="1" type="class_or_interface_ref" span="170:5:170:16">EntryEditor</jtok>
<jtok eid="1" type="field_name" span="170:17:170:20">ths</jtok>
<jtok eid="1" type="class_or_interface_ref" span="172:5:172:12">HashSet</jtok>
<jtok eid="1" type="class_or_interface_ref" span="172:13:172:33">FieldContentSelector</jtok>
<jtok eid="1" type="field_name" span="172:35:172:51">contentSelectors</jtok>
<jtok eid="1" type="constructor_call" span="172:58:172:65">HashSet</jtok>
<jtok eid="1" type="constructor_call" span="172:66:172:86">FieldContentSelector</jtok>
<jtok eid="1" type="class_or_interface_ref" span="174:5:174:11">Logger</jtok>
<jtok eid="1" type="field_name" span="174:12:174:18">logger</jtok>
<jtok eid="1" type="primary_name_ref" span="174:21:174:27">Logger</jtok>
<jtok eid="1" type="method_call" span="174:28:174:37">getLogger</jtok>
<jtok eid="1" type="primary_name_ref" span="174:38:174:49">EntryEditor</jtok>
<jtok eid="1" type="method_call" span="174:56:174:63">getName</jtok>
<jtok eid="1" type="field_name" span="176:13:176:25">updateSource</jtok>
<jtok eid="1" type="line_comment" span="176:34:176:80">// This can be set to false to stop the source</jtok>
<jtok eid="1" type="field_name" span="177:13:177:35">movingToDifferentEntry</jtok>
<jtok eid="1" type="line_comment" span="177:45:177:111">// Indicates that we are about to go to the next or previous entry</jtok>
<jtok eid="1" type="class_or_interface_ref" span="179:5:179:9">List</jtok>
<jtok eid="1" type="class_or_interface_ref" span="179:10:179:16">Object</jtok>
<jtok eid="1" type="field_name" span="179:18:179:22">tabs</jtok>
<jtok eid="1" type="constructor_call" span="179:29:179:38">ArrayList</jtok>
<jtok eid="1" type="constructor_call" span="179:39:179:45">Object</jtok>
<jtok eid="1" type="line_comment" span="181:5:181:77">// text area from gettin updated. This is used in cases where the source</jtok>
<jtok eid="1" type="line_comment" span="182:5:182:72">// couldn't be parsed, and the user is given the option to edit it.</jtok>
<jtok eid="1" type="field_name" span="183:13:183:31">lastSourceAccepted</jtok>
<jtok eid="1" type="line_comment" span="183:40:183:74">// This indicates whether the last</jtok>
<jtok eid="1" type="line_comment" span="185:5:185:15">// attempt</jtok>
<jtok eid="1" type="line_comment" span="186:5:186:81">// at parsing the source was successful. It is used to determine whether the</jtok>
<jtok eid="1" type="line_comment" span="187:5:187:78">// dialog should close; it should stay open if the user received an error</jtok>
<jtok eid="1" type="line_comment" span="188:5:188:74">// message about the source, whatever he or she chose to do about it.</jtok>
<jtok eid="1" type="class_or_interface_ref" span="189:5:189:11">String</jtok>
<jtok eid="1" type="field_name" span="189:12:189:36">lastSourceStringAccepted</jtok>
<jtok eid="1" type="line_comment" span="189:45:189:78">// This is used to prevent double</jtok>
<jtok eid="1" type="line_comment" span="191:5:191:15">// fields.</jtok>
<jtok eid="1" type="line_comment" span="192:5:192:80">// These values can be used to calculate the preferred height for the form.</jtok>
<jtok eid="1" type="line_comment" span="193:5:193:72">// reqW starts at 1 because it needs room for the bibtex key field.</jtok>
<jtok eid="1" type="field_name" span="194:17:194:28">sourceIndex</jtok>
<jtok eid="1" type="line_comment" span="194:35:194:79">// The index the source panel has in tabbed.</jtok>
<jtok eid="1" type="class_or_interface_ref" span="196:5:196:22">JabRefPreferences</jtok>
<jtok eid="1" type="field_name" span="196:23:196:28">prefs</jtok>
<jtok eid="1" type="class_or_interface_ref" span="198:5:198:15">HelpAction</jtok>
<jtok eid="1" type="field_name" span="198:16:198:26">helpAction</jtok>
<jtok eid="1" type="class_or_interface_ref" span="200:5:200:15">UndoAction</jtok>
<jtok eid="1" type="field_name" span="200:16:200:26">undoAction</jtok>
<jtok eid="1" type="constructor_call" span="200:33:200:43">UndoAction</jtok>
<jtok eid="1" type="class_or_interface_ref" span="202:5:202:15">RedoAction</jtok>
<jtok eid="1" type="field_name" span="202:16:202:26">redoAction</jtok>
<jtok eid="1" type="constructor_call" span="202:33:202:43">RedoAction</jtok>
<jtok eid="1" type="class_or_interface_ref" span="204:5:204:16">TabListener</jtok>
<jtok eid="1" type="field_name" span="204:17:204:28">tabListener</jtok>
<jtok eid="1" type="constructor_call" span="204:35:204:46">TabListener</jtok>
<jtok eid="2" type="method_name" span="206:12:206:23">EntryEditor</jtok>
<jtok eid="2" type="parameter_type" span="206:24:206:35">JabRefFrame</jtok>
<jtok eid="2" type="parameter_name" span="206:36:206:42">frame_</jtok>
<jtok eid="2" type="parameter_type" span="206:44:206:53">BasePanel</jtok>
<jtok eid="2" type="parameter_name" span="206:54:206:60">panel_</jtok>
<jtok eid="2" type="parameter_type" span="206:62:206:73">BibtexEntry</jtok>
<jtok eid="2" type="parameter_name" span="206:74:206:80">entry_</jtok>
<jtok eid="2" type="primary_name_ref" span="208:9:208:14">frame</jtok>
<jtok eid="2" type="primary_name_ref" span="208:17:208:23">frame_</jtok>
<jtok eid="2" type="primary_name_ref" span="209:9:209:14">panel</jtok>
<jtok eid="2" type="primary_name_ref" span="209:17:209:23">panel_</jtok>
<jtok eid="2" type="primary_name_ref" span="210:9:210:14">entry</jtok>
<jtok eid="2" type="primary_name_ref" span="210:17:210:23">entry_</jtok>
<jtok eid="2" type="primary_name_ref" span="211:9:211:14">prefs</jtok>
<jtok eid="2" type="primary_name_ref" span="211:17:211:24">Globals</jtok>
<jtok eid="2" type="qualified_name_ref" span="211:25:211:30">prefs</jtok>
<jtok eid="2" type="primary_name_ref" span="212:9:212:13">type</jtok>
<jtok eid="2" type="primary_name_ref" span="212:16:212:21">entry</jtok>
<jtok eid="2" type="method_call" span="212:22:212:29">getType</jtok>
<jtok eid="2" type="primary_name_ref" span="214:9:214:14">entry</jtok>
<jtok eid="2" type="method_call" span="214:15:214:40">addPropertyChangeListener</jtok>
<jtok eid="2" type="primary_name_ref" span="216:9:216:19">helpAction</jtok>
<jtok eid="2" type="constructor_call" span="216:26:216:36">HelpAction</jtok>
<jtok eid="2" type="primary_name_ref" span="216:37:216:42">frame</jtok>
<jtok eid="2" type="qualified_name_ref" span="216:43:216:51">helpDiag</jtok>
<jtok eid="2" type="primary_name_ref" span="216:53:216:63">GUIGlobals</jtok>
<jtok eid="2" type="qualified_name_ref" span="216:64:216:79">entryEditorHelp</jtok>
<jtok eid="2" type="string_literal" span="216:81:216:87">"Help"</jtok>
<jtok eid="2" type="primary_name_ref" span="217:9:217:20">closeAction</jtok>
<jtok eid="2" type="constructor_call" span="217:27:217:38">CloseAction</jtok>
<jtok eid="2" type="primary_name_ref" span="218:9:218:22">copyKeyAction</jtok>
<jtok eid="2" type="constructor_call" span="218:29:218:42">CopyKeyAction</jtok>
<jtok eid="2" type="primary_name_ref" span="219:9:219:26">generateKeyAction</jtok>
<jtok eid="2" type="constructor_call" span="219:33:219:50">GenerateKeyAction</jtok>
<jtok eid="2" type="primary_name_ref" span="219:51:219:56">frame</jtok>
<jtok eid="2" type="primary_name_ref" span="220:9:220:25">storeFieldAction</jtok>
<jtok eid="2" type="constructor_call" span="220:32:220:48">StoreFieldAction</jtok>
<jtok eid="2" type="primary_name_ref" span="221:9:221:17">writeXmp</jtok>
<jtok eid="2" type="constructor_call" span="221:24:221:49">WriteXMPEntryEditorAction</jtok>
<jtok eid="2" type="primary_name_ref" span="221:50:221:56">panel_</jtok>
<jtok eid="2" type="class_or_interface_ref" span="223:9:223:21">BorderLayout</jtok>
<jtok eid="2" type="local_variable_name" span="223:22:223:24">bl</jtok>
<jtok eid="2" type="constructor_call" span="223:31:223:43">BorderLayout</jtok>
<jtok eid="2" type="method_call" span="224:9:224:18">setLayout</jtok>
<jtok eid="2" type="primary_name_ref" span="224:19:224:21">bl</jtok>
<jtok eid="2" type="method_call" span="225:9:225:21">setupToolBar</jtok>
<jtok eid="2" type="method_call" span="226:9:226:25">setupFieldPanels</jtok>
<jtok eid="2" type="method_call" span="227:9:227:25">setupSourcePanel</jtok>
<jtok eid="2" type="method_call" span="228:9:228:12">add</jtok>
<jtok eid="2" type="primary_name_ref" span="228:13:228:19">tabbed</jtok>
<jtok eid="2" type="primary_name_ref" span="228:21:228:33">BorderLayout</jtok>
<jtok eid="2" type="qualified_name_ref" span="228:34:228:40">CENTER</jtok>
<jtok eid="2" type="primary_name_ref" span="229:9:229:15">tabbed</jtok>
<jtok eid="2" type="method_call" span="229:16:229:33">addChangeListener</jtok>
<jtok eid="2" type="primary_name_ref" span="229:34:229:45">tabListener</jtok>
<jtok eid="2" type="primary_name_ref" span="230:13:230:18">prefs</jtok>
<jtok eid="2" type="method_call" span="230:19:230:29">getBoolean</jtok>
<jtok eid="2" type="string_literal" span="230:30:230:42">"showSource"</jtok>
<jtok eid="2" type="primary_name_ref" span="230:47:230:52">prefs</jtok>
<jtok eid="2" type="method_call" span="230:53:230:63">getBoolean</jtok>
<jtok eid="2" type="string_literal" span="230:64:230:83">"defaultShowSource"</jtok>
<jtok eid="2" type="primary_name_ref" span="231:13:231:19">tabbed</jtok>
<jtok eid="2" type="method_call" span="231:20:231:36">setSelectedIndex</jtok>
<jtok eid="2" type="primary_name_ref" span="231:37:231:48">sourceIndex</jtok>
<jtok eid="2" type="method_call" span="233:9:233:24">updateAllFields</jtok>
<jtok eid="3" type="method_name" span="236:18:236:34">setupFieldPanels</jtok>
<jtok eid="3" type="primary_name_ref" span="237:9:237:15">tabbed</jtok>
<jtok eid="3" type="method_call" span="237:16:237:25">removeAll</jtok>
<jtok eid="3" type="primary_name_ref" span="238:9:238:13">tabs</jtok>
<jtok eid="3" type="method_call" span="238:14:238:19">clear</jtok>
<jtok eid="3" type="class_or_interface_ref" span="239:9:239:15">String</jtok>
<jtok eid="3" type="local_variable_name" span="239:18:239:24">fields</jtok>
<jtok eid="3" type="primary_name_ref" span="239:27:239:32">entry</jtok>
<jtok eid="3" type="method_call" span="239:33:239:50">getRequiredFields</jtok>
<jtok eid="3" type="class_or_interface_ref" span="241:9:241:13">List</jtok>
<jtok eid="3" type="class_or_interface_ref" span="241:14:241:20">String</jtok>
<jtok eid="3" type="local_variable_name" span="241:22:241:31">fieldList</jtok>
<jtok eid="3" type="primary_name_ref" span="242:13:242:19">fields</jtok>
<jtok eid="3" type="primary_name_ref" span="243:13:243:22">fieldList</jtok>
<jtok eid="3" type="primary_name_ref" span="243:25:243:29">java</jtok>
<jtok eid="3" type="qualified_name_ref" span="243:30:243:34">util</jtok>
<jtok eid="3" type="qualified_name_ref" span="243:35:243:41">Arrays</jtok>
<jtok eid="3" type="method_call" span="243:42:243:48">asList</jtok>
<jtok eid="3" type="primary_name_ref" span="243:49:243:55">fields</jtok>
<jtok eid="3" type="primary_name_ref" span="244:9:244:15">reqPan</jtok>
<jtok eid="3" type="constructor_call" span="244:22:244:36">EntryEditorTab</jtok>
<jtok eid="3" type="primary_name_ref" span="244:37:244:42">frame</jtok>
<jtok eid="3" type="primary_name_ref" span="244:44:244:49">panel</jtok>
<jtok eid="3" type="primary_name_ref" span="244:51:244:60">fieldList</jtok>
<jtok eid="3" type="primary_name_ref" span="244:74:244:81">Globals</jtok>
<jtok eid="3" type="method_call" span="244:82:244:86">lang</jtok>
<jtok eid="3" type="string_literal" span="244:87:244:104">"Required fields"</jtok>
<jtok eid="3" type="primary_name_ref" span="245:9:245:15">tabbed</jtok>
<jtok eid="3" type="method_call" span="245:16:245:22">addTab</jtok>
<jtok eid="3" type="primary_name_ref" span="245:23:245:30">Globals</jtok>
<jtok eid="3" type="method_call" span="245:31:245:35">lang</jtok>
<jtok eid="3" type="string_literal" span="245:36:245:53">"Required fields"</jtok>
<jtok eid="3" type="primary_name_ref" span="245:56:245:66">GUIGlobals</jtok>
<jtok eid="3" type="method_call" span="245:67:245:75">getImage</jtok>
<jtok eid="3" type="string_literal" span="245:76:245:86">"required"</jtok>
<jtok eid="3" type="primary_name_ref" span="245:89:245:95">reqPan</jtok>
<jtok eid="3" type="method_call" span="246:14:246:21">getPane</jtok>
<jtok eid="3" type="primary_name_ref" span="246:25:246:32">Globals</jtok>
<jtok eid="3" type="method_call" span="246:33:246:37">lang</jtok>
<jtok eid="3" type="string_literal" span="246:38:246:60">"Show required fields"</jtok>
<jtok eid="3" type="primary_name_ref" span="247:9:247:13">tabs</jtok>
<jtok eid="3" type="method_call" span="247:14:247:17">add</jtok>
<jtok eid="3" type="primary_name_ref" span="247:18:247:24">reqPan</jtok>
<jtok eid="3" type="primary_name_ref" span="249:14:249:19">entry</jtok>
<jtok eid="3" type="method_call" span="249:20:249:37">getOptionalFields</jtok>
<jtok eid="3" type="primary_name_ref" span="249:53:249:58">entry</jtok>
<jtok eid="3" type="method_call" span="249:59:249:76">getOptionalFields</jtok>
<jtok eid="3" type="qualified_name_ref" span="249:79:249:85">length</jtok>
<jtok eid="3" type="primary_name_ref" span="250:13:250:19">optPan</jtok>
<jtok eid="3" type="constructor_call" span="250:26:250:40">EntryEditorTab</jtok>
<jtok eid="3" type="primary_name_ref" span="250:41:250:46">frame</jtok>
<jtok eid="3" type="primary_name_ref" span="250:48:250:53">panel</jtok>
<jtok eid="3" type="primary_name_ref" span="250:55:250:59">java</jtok>
<jtok eid="3" type="qualified_name_ref" span="250:60:250:64">util</jtok>
<jtok eid="3" type="qualified_name_ref" span="250:65:250:71">Arrays</jtok>
<jtok eid="3" type="method_call" span="250:72:250:78">asList</jtok>
<jtok eid="3" type="primary_name_ref" span="250:79:250:84">entry</jtok>
<jtok eid="3" type="method_call" span="250:85:250:102">getOptionalFields</jtok>
<jtok eid="3" type="primary_name_ref" span="251:24:251:31">Globals</jtok>
<jtok eid="3" type="method_call" span="251:32:251:36">lang</jtok>
<jtok eid="3" type="string_literal" span="251:37:251:54">"Optional fields"</jtok>
<jtok eid="3" type="primary_name_ref" span="252:13:252:19">tabbed</jtok>
<jtok eid="3" type="method_call" span="252:20:252:26">addTab</jtok>
<jtok eid="3" type="primary_name_ref" span="252:27:252:34">Globals</jtok>
<jtok eid="3" type="method_call" span="252:35:252:39">lang</jtok>
<jtok eid="3" type="string_literal" span="252:40:252:57">"Optional fields"</jtok>
<jtok eid="3" type="primary_name_ref" span="252:60:252:70">GUIGlobals</jtok>
<jtok eid="3" type="method_call" span="252:71:252:79">getImage</jtok>
<jtok eid="3" type="string_literal" span="252:80:252:90">"optional"</jtok>
<jtok eid="3" type="primary_name_ref" span="252:93:252:99">optPan</jtok>
<jtok eid="3" type="method_call" span="253:18:253:25">getPane</jtok>
<jtok eid="3" type="primary_name_ref" span="253:29:253:36">Globals</jtok>
<jtok eid="3" type="method_call" span="253:37:253:41">lang</jtok>
<jtok eid="3" type="string_literal" span="253:42:253:64">"Show optional fields"</jtok>
<jtok eid="3" type="primary_name_ref" span="254:13:254:17">tabs</jtok>
<jtok eid="3" type="method_call" span="254:18:254:21">add</jtok>
<jtok eid="3" type="primary_name_ref" span="254:22:254:28">optPan</jtok>
<jtok eid="3" type="class_or_interface_ref" span="257:9:257:27">EntryEditorTabList</jtok>
<jtok eid="3" type="local_variable_name" span="257:28:257:35">tabList</jtok>
<jtok eid="3" type="primary_name_ref" span="257:38:257:45">Globals</jtok>
<jtok eid="3" type="qualified_name_ref" span="257:46:257:51">prefs</jtok>
<jtok eid="3" type="method_call" span="257:52:257:73">getEntryEditorTabList</jtok>
<jtok eid="3" type="local_variable_name" span="258:18:258:19">i</jtok>
<jtok eid="3" type="primary_name_ref" span="258:25:258:26">i</jtok>
<jtok eid="3" type="primary_name_ref" span="258:29:258:36">tabList</jtok>
<jtok eid="3" type="method_call" span="258:37:258:48">getTabCount</jtok>
<jtok eid="3" type="primary_name_ref" span="258:52:258:53">i</jtok>
<jtok eid="3" type="class_or_interface_ref" span="259:13:259:27">EntryEditorTab</jtok>
<jtok eid="3" type="local_variable_name" span="259:28:259:34">newTab</jtok>
<jtok eid="3" type="constructor_call" span="259:41:259:55">EntryEditorTab</jtok>
<jtok eid="3" type="primary_name_ref" span="259:56:259:61">frame</jtok>
<jtok eid="3" type="primary_name_ref" span="259:63:259:68">panel</jtok>
<jtok eid="3" type="primary_name_ref" span="259:70:259:77">tabList</jtok>
<jtok eid="3" type="method_call" span="259:78:259:90">getTabFields</jtok>
<jtok eid="3" type="primary_name_ref" span="259:91:259:92">i</jtok>
<jtok eid="3" type="primary_name_ref" span="260:17:260:24">tabList</jtok>
<jtok eid="3" type="method_call" span="260:25:260:35">getTabName</jtok>
<jtok eid="3" type="primary_name_ref" span="260:36:260:37">i</jtok>
<jtok eid="3" type="primary_name_ref" span="261:13:261:19">tabbed</jtok>
<jtok eid="3" type="method_call" span="261:20:261:26">addTab</jtok>
<jtok eid="3" type="primary_name_ref" span="261:27:261:34">tabList</jtok>
<jtok eid="3" type="method_call" span="261:35:261:45">getTabName</jtok>
<jtok eid="3" type="primary_name_ref" span="261:46:261:47">i</jtok>
<jtok eid="3" type="primary_name_ref" span="261:50:261:60">GUIGlobals</jtok>
<jtok eid="3" type="method_call" span="261:61:261:69">getImage</jtok>
<jtok eid="3" type="string_literal" span="261:70:261:79">"general"</jtok>
<jtok eid="3" type="primary_name_ref" span="261:82:261:88">newTab</jtok>
<jtok eid="3" type="method_call" span="261:89:261:96">getPane</jtok>
<jtok eid="3" type="primary_name_ref" span="262:13:262:17">tabs</jtok>
<jtok eid="3" type="method_call" span="262:18:262:21">add</jtok>
<jtok eid="3" type="primary_name_ref" span="262:22:262:28">newTab</jtok>
<jtok eid="3" type="primary_name_ref" span="265:9:265:17">srcPanel</jtok>
<jtok eid="3" type="method_call" span="265:18:265:25">setName</jtok>
<jtok eid="3" type="primary_name_ref" span="265:26:265:33">Globals</jtok>
<jtok eid="3" type="method_call" span="265:34:265:38">lang</jtok>
<jtok eid="3" type="string_literal" span="265:39:265:54">"BibTeX source"</jtok>
<jtok eid="3" type="primary_name_ref" span="266:13:266:20">Globals</jtok>
<jtok eid="3" type="qualified_name_ref" span="266:21:266:26">prefs</jtok>
<jtok eid="3" type="method_call" span="266:27:266:37">getBoolean</jtok>
<jtok eid="3" type="string_literal" span="266:38:266:50">"showSource"</jtok>
<jtok eid="3" type="primary_name_ref" span="267:13:267:19">tabbed</jtok>
<jtok eid="3" type="method_call" span="267:20:267:26">addTab</jtok>
<jtok eid="3" type="primary_name_ref" span="267:27:267:34">Globals</jtok>
<jtok eid="3" type="method_call" span="267:35:267:39">lang</jtok>
<jtok eid="3" type="string_literal" span="267:40:267:55">"BibTeX source"</jtok>
<jtok eid="3" type="primary_name_ref" span="267:58:267:68">GUIGlobals</jtok>
<jtok eid="3" type="method_call" span="267:69:267:77">getImage</jtok>
<jtok eid="3" type="string_literal" span="267:78:267:86">"source"</jtok>
<jtok eid="3" type="primary_name_ref" span="267:89:267:97">srcPanel</jtok>
<jtok eid="3" type="primary_name_ref" span="268:17:268:24">Globals</jtok>
<jtok eid="3" type="method_call" span="268:25:268:29">lang</jtok>
<jtok eid="3" type="string_literal" span="268:30:268:55">"Show/edit BibTeX source"</jtok>
<jtok eid="3" type="primary_name_ref" span="269:13:269:17">tabs</jtok>
<jtok eid="3" type="method_call" span="269:18:269:21">add</jtok>
<jtok eid="3" type="primary_name_ref" span="269:22:269:30">srcPanel</jtok>
<jtok eid="3" type="primary_name_ref" span="271:9:271:20">sourceIndex</jtok>
<jtok eid="3" type="primary_name_ref" span="271:23:271:27">tabs</jtok>
<jtok eid="3" type="method_call" span="271:28:271:32">size</jtok>
<jtok eid="3" type="line_comment" span="271:40:271:72">// Set the sourceIndex variable.</jtok>
<jtok eid="3" type="primary_name_ref" span="272:9:272:17">srcPanel</jtok>
<jtok eid="3" type="method_call" span="272:18:272:35">setFocusCycleRoot</jtok>
<jtok eid="4" type="class_or_interface_ref" span="275:12:275:27">BibtexEntryType</jtok>
<jtok eid="4" type="method_name" span="275:28:275:35">getType</jtok>
<jtok eid="4" type="primary_name_ref" span="276:16:276:20">type</jtok>
<jtok eid="5" type="class_or_interface_ref" span="279:12:279:23">BibtexEntry</jtok>
<jtok eid="5" type="method_name" span="279:24:279:32">getEntry</jtok>
<jtok eid="5" type="primary_name_ref" span="280:16:280:21">entry</jtok>
<jtok eid="6" type="class_or_interface_ref" span="283:12:283:26">BibtexDatabase</jtok>
<jtok eid="6" type="method_name" span="283:27:283:38">getDatabase</jtok>
<jtok eid="6" type="primary_name_ref" span="284:13:284:18">panel</jtok>
<jtok eid="6" type="method_call" span="284:19:284:30">getDatabase</jtok>
<jtok eid="7" type="method_name" span="287:18:287:30">setupToolBar</jtok>
<jtok eid="7" type="class_or_interface_ref" span="288:9:288:15">JPanel</jtok>
<jtok eid="7" type="local_variable_name" span="288:16:288:23">leftPan</jtok>
<jtok eid="7" type="constructor_call" span="288:30:288:36">JPanel</jtok>
<jtok eid="7" type="primary_name_ref" span="289:9:289:16">leftPan</jtok>
<jtok eid="7" type="method_call" span="289:17:289:26">setLayout</jtok>
<jtok eid="7" type="constructor_call" span="289:31:289:43">BorderLayout</jtok>
<jtok eid="7" type="primary_name_ref" span="290:9:290:12">tlb</jtok>
<jtok eid="7" type="constructor_call" span="290:19:290:27">JToolBar</jtok>
<jtok eid="7" type="primary_name_ref" span="290:28:290:36">JToolBar</jtok>
<jtok eid="7" type="qualified_name_ref" span="290:37:290:45">VERTICAL</jtok>
<jtok eid="7" type="line_comment" span="291:9:291:77">//tlb.putClientProperty(Options.HEADER_STYLE_KEY, HeaderStyle.BOTH);</jtok>
<jtok eid="7" type="primary_name_ref" span="292:9:292:12">tlb</jtok>
<jtok eid="7" type="method_call" span="292:13:292:22">setBorder</jtok>
<jtok eid="7" type="primary_name_ref" span="293:9:293:12">tlb</jtok>
<jtok eid="7" type="method_call" span="293:13:293:24">setRollover</jtok>
<jtok eid="7" type="primary_name_ref" span="295:9:295:12">tlb</jtok>
<jtok eid="7" type="method_call" span="295:13:295:22">setMargin</jtok>
<jtok eid="7" type="constructor_call" span="295:27:295:33">Insets</jtok>
<jtok eid="7" type="line_comment" span="297:9:297:81">// The toolbar carries all the key bindings that are valid for the whole</jtok>
<jtok eid="7" type="line_comment" span="298:9:298:19">// window.</jtok>
<jtok eid="7" type="class_or_interface_ref" span="299:9:299:18">ActionMap</jtok>
<jtok eid="7" type="local_variable_name" span="299:19:299:21">am</jtok>
<jtok eid="7" type="primary_name_ref" span="299:24:299:27">tlb</jtok>
<jtok eid="7" type="method_call" span="299:28:299:40">getActionMap</jtok>
<jtok eid="7" type="class_or_interface_ref" span="300:9:300:17">InputMap</jtok>
<jtok eid="7" type="local_variable_name" span="300:18:300:20">im</jtok>
<jtok eid="7" type="primary_name_ref" span="300:23:300:26">tlb</jtok>
<jtok eid="7" type="method_call" span="300:27:300:38">getInputMap</jtok>
<jtok eid="7" type="primary_name_ref" span="300:39:300:49">JComponent</jtok>
<jtok eid="7" type="qualified_name_ref" span="300:50:300:72">WHEN_IN_FOCUSED_WINDOW</jtok>
<jtok eid="7" type="primary_name_ref" span="302:9:302:11">im</jtok>
<jtok eid="7" type="method_call" span="302:12:302:15">put</jtok>
<jtok eid="7" type="primary_name_ref" span="302:16:302:21">prefs</jtok>
<jtok eid="7" type="method_call" span="302:22:302:28">getKey</jtok>
<jtok eid="7" type="string_literal" span="302:29:302:49">"Close entry editor"</jtok>
<jtok eid="7" type="string_literal" span="302:52:302:59">"close"</jtok>
<jtok eid="7" type="primary_name_ref" span="303:9:303:11">am</jtok>
<jtok eid="7" type="method_call" span="303:12:303:15">put</jtok>
<jtok eid="7" type="string_literal" span="303:16:303:23">"close"</jtok>
<jtok eid="7" type="primary_name_ref" span="303:25:303:36">closeAction</jtok>
<jtok eid="7" type="primary_name_ref" span="304:9:304:11">im</jtok>
<jtok eid="7" type="method_call" span="304:12:304:15">put</jtok>
<jtok eid="7" type="primary_name_ref" span="304:16:304:21">prefs</jtok>
<jtok eid="7" type="method_call" span="304:22:304:28">getKey</jtok>
<jtok eid="7" type="string_literal" span="304:29:304:56">"Entry editor, store field"</jtok>
<jtok eid="7" type="string_literal" span="304:59:304:66">"store"</jtok>
<jtok eid="7" type="primary_name_ref" span="305:9:305:11">am</jtok>
<jtok eid="7" type="method_call" span="305:12:305:15">put</jtok>
<jtok eid="7" type="string_literal" span="305:16:305:23">"store"</jtok>
<jtok eid="7" type="primary_name_ref" span="305:25:305:41">storeFieldAction</jtok>
<jtok eid="7" type="primary_name_ref" span="306:9:306:11">im</jtok>
<jtok eid="7" type="method_call" span="306:12:306:15">put</jtok>
<jtok eid="7" type="primary_name_ref" span="306:16:306:21">prefs</jtok>
<jtok eid="7" type="method_call" span="306:22:306:28">getKey</jtok>
<jtok eid="7" type="string_literal" span="306:29:306:55">"Autogenerate BibTeX keys"</jtok>
<jtok eid="7" type="string_literal" span="306:58:306:71">"generateKey"</jtok>
<jtok eid="7" type="primary_name_ref" span="307:9:307:11">am</jtok>
<jtok eid="7" type="method_call" span="307:12:307:15">put</jtok>
<jtok eid="7" type="string_literal" span="307:16:307:29">"generateKey"</jtok>
<jtok eid="7" type="primary_name_ref" span="307:31:307:48">generateKeyAction</jtok>
<jtok eid="7" type="primary_name_ref" span="308:9:308:11">im</jtok>
<jtok eid="7" type="method_call" span="308:12:308:15">put</jtok>
<jtok eid="7" type="primary_name_ref" span="308:16:308:21">prefs</jtok>
<jtok eid="7" type="method_call" span="308:22:308:28">getKey</jtok>
<jtok eid="7" type="string_literal" span="308:29:308:55">"Automatically link files"</jtok>
<jtok eid="7" type="string_literal" span="308:58:308:68">"autoLink"</jtok>
<jtok eid="7" type="primary_name_ref" span="309:9:309:11">am</jtok>
<jtok eid="7" type="method_call" span="309:12:309:15">put</jtok>
<jtok eid="7" type="string_literal" span="309:16:309:26">"autoLink"</jtok>
<jtok eid="7" type="primary_name_ref" span="309:28:309:36">autoLink</jtok>
<jtok eid="7" type="primary_name_ref" span="310:9:310:11">im</jtok>
<jtok eid="7" type="method_call" span="310:12:310:15">put</jtok>
<jtok eid="7" type="primary_name_ref" span="310:16:310:21">prefs</jtok>
<jtok eid="7" type="method_call" span="310:22:310:28">getKey</jtok>
<jtok eid="7" type="string_literal" span="310:29:310:59">"Entry editor, previous entry"</jtok>
<jtok eid="7" type="string_literal" span="310:62:310:68">"prev"</jtok>
<jtok eid="7" type="primary_name_ref" span="311:9:311:11">am</jtok>
<jtok eid="7" type="method_call" span="311:12:311:15">put</jtok>
<jtok eid="7" type="string_literal" span="311:16:311:22">"prev"</jtok>
<jtok eid="7" type="primary_name_ref" span="311:24:311:39">prevEntryAction</jtok>
<jtok eid="7" type="primary_name_ref" span="312:9:312:11">im</jtok>
<jtok eid="7" type="method_call" span="312:12:312:15">put</jtok>
<jtok eid="7" type="primary_name_ref" span="312:16:312:21">prefs</jtok>
<jtok eid="7" type="method_call" span="312:22:312:28">getKey</jtok>
<jtok eid="7" type="string_literal" span="312:29:312:55">"Entry editor, next entry"</jtok>
<jtok eid="7" type="string_literal" span="312:58:312:64">"next"</jtok>
<jtok eid="7" type="primary_name_ref" span="313:9:313:11">am</jtok>
<jtok eid="7" type="method_call" span="313:12:313:15">put</jtok>
<jtok eid="7" type="string_literal" span="313:16:313:22">"next"</jtok>
<jtok eid="7" type="primary_name_ref" span="313:24:313:39">nextEntryAction</jtok>
<jtok eid="7" type="primary_name_ref" span="314:9:314:11">im</jtok>
<jtok eid="7" type="method_call" span="314:12:314:15">put</jtok>
<jtok eid="7" type="primary_name_ref" span="314:16:314:21">prefs</jtok>
<jtok eid="7" type="method_call" span="314:22:314:28">getKey</jtok>
<jtok eid="7" type="string_literal" span="314:29:314:35">"Undo"</jtok>
<jtok eid="7" type="string_literal" span="314:38:314:44">"undo"</jtok>
<jtok eid="7" type="primary_name_ref" span="315:9:315:11">am</jtok>
<jtok eid="7" type="method_call" span="315:12:315:15">put</jtok>
<jtok eid="7" type="string_literal" span="315:16:315:22">"undo"</jtok>
<jtok eid="7" type="primary_name_ref" span="315:24:315:34">undoAction</jtok>
<jtok eid="7" type="primary_name_ref" span="316:9:316:11">im</jtok>
<jtok eid="7" type="method_call" span="316:12:316:15">put</jtok>
<jtok eid="7" type="primary_name_ref" span="316:16:316:21">prefs</jtok>
<jtok eid="7" type="method_call" span="316:22:316:28">getKey</jtok>
<jtok eid="7" type="string_literal" span="316:29:316:35">"Redo"</jtok>
<jtok eid="7" type="string_literal" span="316:38:316:44">"redo"</jtok>
<jtok eid="7" type="primary_name_ref" span="317:9:317:11">am</jtok>
<jtok eid="7" type="method_call" span="317:12:317:15">put</jtok>
<jtok eid="7" type="string_literal" span="317:16:317:22">"redo"</jtok>
<jtok eid="7" type="primary_name_ref" span="317:24:317:34">redoAction</jtok>
<jtok eid="7" type="primary_name_ref" span="318:9:318:11">im</jtok>
<jtok eid="7" type="method_call" span="318:12:318:15">put</jtok>
<jtok eid="7" type="primary_name_ref" span="318:16:318:21">prefs</jtok>
<jtok eid="7" type="method_call" span="318:22:318:28">getKey</jtok>
<jtok eid="7" type="string_literal" span="318:29:318:35">"Help"</jtok>
<jtok eid="7" type="string_literal" span="318:38:318:44">"help"</jtok>
<jtok eid="7" type="primary_name_ref" span="319:9:319:11">am</jtok>
<jtok eid="7" type="method_call" span="319:12:319:15">put</jtok>
<jtok eid="7" type="string_literal" span="319:16:319:22">"help"</jtok>
<jtok eid="7" type="primary_name_ref" span="319:24:319:34">helpAction</jtok>
<jtok eid="7" type="primary_name_ref" span="321:9:321:12">tlb</jtok>
<jtok eid="7" type="method_call" span="321:13:321:25">setFloatable</jtok>
<jtok eid="7" type="line_comment" span="323:9:323:42">// Add actions (and thus buttons)</jtok>
<jtok eid="7" type="class_or_interface_ref" span="324:9:324:16">JButton</jtok>
<jtok eid="7" type="local_variable_name" span="324:17:324:25">closeBut</jtok>
<jtok eid="7" type="constructor_call" span="324:32:324:39">JButton</jtok>
<jtok eid="7" type="primary_name_ref" span="324:40:324:51">closeAction</jtok>
<jtok eid="7" type="primary_name_ref" span="325:9:325:17">closeBut</jtok>
<jtok eid="7" type="method_call" span="325:18:325:25">setText</jtok>
<jtok eid="7" type="primary_name_ref" span="326:9:326:17">closeBut</jtok>
<jtok eid="7" type="method_call" span="326:18:326:27">setBorder</jtok>
<jtok eid="7" type="primary_name_ref" span="327:9:327:16">leftPan</jtok>
<jtok eid="7" type="method_call" span="327:17:327:20">add</jtok>
<jtok eid="7" type="primary_name_ref" span="327:21:327:29">closeBut</jtok>
<jtok eid="7" type="primary_name_ref" span="327:31:327:43">BorderLayout</jtok>
<jtok eid="7" type="qualified_name_ref" span="327:44:327:49">NORTH</jtok>
<jtok eid="7" type="line_comment" span="329:9:329:29">// Create type-label</jtok>
<jtok eid="7" type="primary_name_ref" span="330:9:330:18">typeLabel</jtok>
<jtok eid="7" type="constructor_call" span="330:25:330:34">TypeLabel</jtok>
<jtok eid="7" type="primary_name_ref" span="330:35:330:40">entry</jtok>
<jtok eid="7" type="method_call" span="330:41:330:48">getType</jtok>
<jtok eid="7" type="method_call" span="330:51:330:58">getName</jtok>
<jtok eid="7" type="primary_name_ref" span="331:9:331:16">leftPan</jtok>
<jtok eid="7" type="method_call" span="331:17:331:20">add</jtok>
<jtok eid="7" type="primary_name_ref" span="331:21:331:30">typeLabel</jtok>
<jtok eid="7" type="primary_name_ref" span="331:32:331:44">BorderLayout</jtok>
<jtok eid="7" type="qualified_name_ref" span="331:45:331:51">CENTER</jtok>
<jtok eid="7" type="line_comment" span="333:9:333:26">//tlb.add(typeL);</jtok>
<jtok eid="7" type="primary_name_ref" span="335:9:335:12">tlb</jtok>
<jtok eid="7" type="method_call" span="335:13:335:25">addSeparator</jtok>
<jtok eid="7" type="primary_name_ref" span="337:9:337:12">tlb</jtok>
<jtok eid="7" type="method_call" span="337:13:337:16">add</jtok>
<jtok eid="7" type="primary_name_ref" span="337:17:337:34">generateKeyAction</jtok>
<jtok eid="7" type="primary_name_ref" span="338:9:338:12">tlb</jtok>
<jtok eid="7" type="method_call" span="338:13:338:16">add</jtok>
<jtok eid="7" type="primary_name_ref" span="338:17:338:25">autoLink</jtok>
<jtok eid="7" type="primary_name_ref" span="340:9:340:12">tlb</jtok>
<jtok eid="7" type="method_call" span="340:13:340:16">add</jtok>
<jtok eid="7" type="primary_name_ref" span="340:17:340:25">writeXmp</jtok>
<jtok eid="7" type="primary_name_ref" span="342:9:342:12">tlb</jtok>
<jtok eid="7" type="method_call" span="342:13:342:25">addSeparator</jtok>
<jtok eid="7" type="primary_name_ref" span="344:9:344:12">tlb</jtok>
<jtok eid="7" type="method_call" span="344:13:344:16">add</jtok>
<jtok eid="7" type="primary_name_ref" span="344:17:344:29">deleteAction</jtok>
<jtok eid="7" type="primary_name_ref" span="345:9:345:12">tlb</jtok>
<jtok eid="7" type="method_call" span="345:13:345:16">add</jtok>
<jtok eid="7" type="primary_name_ref" span="345:17:345:32">prevEntryAction</jtok>
<jtok eid="7" type="primary_name_ref" span="346:9:346:12">tlb</jtok>
<jtok eid="7" type="method_call" span="346:13:346:16">add</jtok>
<jtok eid="7" type="primary_name_ref" span="346:17:346:32">nextEntryAction</jtok>
<jtok eid="7" type="primary_name_ref" span="348:9:348:12">tlb</jtok>
<jtok eid="7" type="method_call" span="348:13:348:25">addSeparator</jtok>
<jtok eid="7" type="primary_name_ref" span="350:9:350:12">tlb</jtok>
<jtok eid="7" type="method_call" span="350:13:350:16">add</jtok>
<jtok eid="7" type="primary_name_ref" span="350:17:350:27">helpAction</jtok>
<jtok eid="7" type="class_or_interface_ref" span="352:9:352:18">Component</jtok>
<jtok eid="7" type="local_variable_name" span="352:21:352:26">comps</jtok>
<jtok eid="7" type="primary_name_ref" span="352:29:352:32">tlb</jtok>
<jtok eid="7" type="method_call" span="352:33:352:46">getComponents</jtok>
<jtok eid="7" type="local_variable_name" span="354:18:354:19">i</jtok>
<jtok eid="7" type="primary_name_ref" span="354:25:354:26">i</jtok>
<jtok eid="7" type="primary_name_ref" span="354:29:354:34">comps</jtok>
<jtok eid="7" type="qualified_name_ref" span="354:35:354:41">length</jtok>
<jtok eid="7" type="primary_name_ref" span="354:43:354:44">i</jtok>
<jtok eid="7" type="class_or_interface_ref" span="355:15:355:25">JComponent</jtok>
<jtok eid="7" type="primary_name_ref" span="355:27:355:32">comps</jtok>
<jtok eid="7" type="primary_name_ref" span="355:33:355:34">i</jtok>
<jtok eid="7" type="method_call" span="355:37:355:46">setOpaque</jtok>
<jtok eid="7" type="primary_name_ref" span="357:9:357:16">leftPan</jtok>
<jtok eid="7" type="method_call" span="357:17:357:20">add</jtok>
<jtok eid="7" type="primary_name_ref" span="357:21:357:24">tlb</jtok>
<jtok eid="7" type="primary_name_ref" span="357:26:357:38">BorderLayout</jtok>
<jtok eid="7" type="qualified_name_ref" span="357:39:357:44">SOUTH</jtok>
<jtok eid="7" type="method_call" span="358:9:358:12">add</jtok>
<jtok eid="7" type="primary_name_ref" span="358:13:358:20">leftPan</jtok>
<jtok eid="7" type="primary_name_ref" span="358:22:358:34">BorderLayout</jtok>
<jtok eid="7" type="qualified_name_ref" span="358:35:358:39">WEST</jtok>
<jtok eid="1" type="block_comment" span="361:5:364:8">/**
     * Rebuild the field tabs. This is called e.g. when a new content selector
     * has been added.
     */</jtok>
<jtok eid="8" type="method_name" span="365:17:365:30">rebuildPanels</jtok>
<jtok eid="8" type="line_comment" span="366:9:366:77">// Remove change listener, because the rebuilding causes meaningless</jtok>
<jtok eid="8" type="line_comment" span="367:9:367:31">// events and trouble:</jtok>
<jtok eid="8" type="primary_name_ref" span="368:9:368:15">tabbed</jtok>
<jtok eid="8" type="method_call" span="368:16:368:36">removeChangeListener</jtok>
<jtok eid="8" type="primary_name_ref" span="368:37:368:48">tabListener</jtok>
<jtok eid="8" type="method_call" span="370:9:370:25">setupFieldPanels</jtok>
<jtok eid="8" type="line_comment" span="371:9:371:42">// Add the change listener again:</jtok>
<jtok eid="8" type="primary_name_ref" span="372:9:372:15">tabbed</jtok>
<jtok eid="8" type="method_call" span="372:16:372:33">addChangeListener</jtok>
<jtok eid="8" type="primary_name_ref" span="372:34:372:45">tabListener</jtok>
<jtok eid="8" type="method_call" span="373:9:373:19">revalidate</jtok>
<jtok eid="8" type="method_call" span="374:9:374:16">repaint</jtok>
<jtok eid="1" type="block_comment" span="377:5:386:8">/**
     * getExtra checks the field name against BibtexFields.getFieldExtras(name).
     * If the name has an entry, the proper component to be shown is created and
     * returned. Otherwise, null is returned. In addition, e.g. listeners can be
     * added to the field editor, even if no component is returned.
     * 
     * @param string
     *            Field name
     * @return Component to show, or null if none.
     */</jtok>
<jtok eid="9" type="class_or_interface_ref" span="387:12:387:22">JComponent</jtok>
<jtok eid="9" type="method_name" span="387:23:387:31">getExtra</jtok>
<jtok eid="9" type="parameter_type" span="387:32:387:38">String</jtok>
<jtok eid="9" type="parameter_name" span="387:39:387:45">string</jtok>
<jtok eid="9" type="parameter_type" span="387:53:387:64">FieldEditor</jtok>
<jtok eid="9" type="parameter_name" span="387:65:387:67">ed</jtok>
<jtok eid="9" type="line_comment" span="389:9:389:59">// fieldName and parameter string identically ????</jtok>
<jtok eid="9" type="class_or_interface_ref" span="390:15:390:21">String</jtok>
<jtok eid="9" type="local_variable_name" span="390:22:390:31">fieldName</jtok>
<jtok eid="9" type="primary_name_ref" span="390:34:390:36">ed</jtok>
<jtok eid="9" type="method_call" span="390:37:390:49">getFieldName</jtok>
<jtok eid="9" type="class_or_interface_ref" span="392:9:392:15">String</jtok>
<jtok eid="9" type="local_variable_name" span="392:16:392:17">s</jtok>
<jtok eid="9" type="primary_name_ref" span="392:20:392:32">BibtexFields</jtok>
<jtok eid="9" type="method_call" span="392:33:392:47">getFieldExtras</jtok>
<jtok eid="9" type="primary_name_ref" span="392:48:392:54">string</jtok>
<jtok eid="9" type="line_comment" span="394:9:394:62">// timestamp or a other field with datepicker command</jtok>
<jtok eid="9" type="primary_name_ref" span="395:14:395:23">fieldName</jtok>
<jtok eid="9" type="method_call" span="395:24:395:30">equals</jtok>
<jtok eid="9" type="primary_name_ref" span="395:31:395:38">Globals</jtok>
<jtok eid="9" type="qualified_name_ref" span="395:39:395:44">prefs</jtok>
<jtok eid="9" type="method_call" span="395:45:395:48">get</jtok>
<jtok eid="9" type="string_literal" span="395:49:395:65">"timeStampField"</jtok>
<jtok eid="9" type="primary_name_ref" span="396:18:396:19">s</jtok>
<jtok eid="9" type="primary_name_ref" span="396:32:396:33">s</jtok>
<jtok eid="9" type="method_call" span="396:34:396:40">equals</jtok>
<jtok eid="9" type="string_literal" span="396:41:396:53">"datepicker"</jtok>
<jtok eid="9" type="line_comment" span="397:13:397:77">// double click AND datefield =&gt; insert the current date (today)</jtok>
<jtok eid="9" type="class_or_interface_ref" span="398:15:398:24">JTextArea</jtok>
<jtok eid="9" type="primary_name_ref" span="398:26:398:28">ed</jtok>
<jtok eid="9" type="method_call" span="398:30:398:46">addMouseListener</jtok>
<jtok eid="9" type="constructor_call" span="398:51:398:63">MouseAdapter</jtok>
<jtok eid="11" type="method_name" span="399:29:399:41">mouseClicked</jtok>
<jtok eid="11" type="parameter_type" span="399:42:399:52">MouseEvent</jtok>
<jtok eid="11" type="parameter_name" span="399:53:399:54">e</jtok>
<jtok eid="11" type="primary_name_ref" span="400:25:400:26">e</jtok>
<jtok eid="11" type="method_call" span="400:27:400:40">getClickCount</jtok>
<jtok eid="11" type="line_comment" span="400:49:400:64">// double click</jtok>
<jtok eid="11" type="class_or_interface_ref" span="402:25:402:31">String</jtok>
<jtok eid="11" type="local_variable_name" span="402:32:402:36">date</jtok>
<jtok eid="11" type="primary_name_ref" span="402:39:402:43">Util</jtok>
<jtok eid="11" type="method_call" span="402:44:402:58">easyDateFormat</jtok>
<jtok eid="11" type="primary_name_ref" span="403:25:403:27">ed</jtok>
<jtok eid="11" type="method_call" span="403:28:403:35">setText</jtok>
<jtok eid="11" type="primary_name_ref" span="403:36:403:40">date</jtok>
<jtok eid="9" type="line_comment" span="408:13:408:78">// insert a datepicker, if the extras field contains this command</jtok>
<jtok eid="9" type="primary_name_ref" span="409:18:409:19">s</jtok>
<jtok eid="9" type="primary_name_ref" span="409:32:409:33">s</jtok>
<jtok eid="9" type="method_call" span="409:34:409:40">equals</jtok>
<jtok eid="9" type="string_literal" span="409:41:409:53">"datepicker"</jtok>
<jtok eid="9" type="class_or_interface_ref" span="410:17:410:33">DatePickerButton</jtok>
<jtok eid="9" type="local_variable_name" span="410:34:410:44">datePicker</jtok>
<jtok eid="9" type="constructor_call" span="410:51:410:67">DatePickerButton</jtok>
<jtok eid="9" type="primary_name_ref" span="410:68:410:70">ed</jtok>
<jtok eid="9" type="primary_name_ref" span="411:24:411:34">datePicker</jtok>
<jtok eid="9" type="method_call" span="411:35:411:48">getDatePicker</jtok>
<jtok eid="9" type="primary_name_ref" span="415:14:415:15">s</jtok>
<jtok eid="9" type="primary_name_ref" span="415:28:415:29">s</jtok>
<jtok eid="9" type="method_call" span="415:30:415:36">equals</jtok>
<jtok eid="9" type="string_literal" span="415:37:415:47">"external"</jtok>
<jtok eid="9" type="line_comment" span="417:13:417:72">// Add external viewer listener for "pdf" and "url" fields.</jtok>
<jtok eid="9" type="class_or_interface_ref" span="418:15:418:25">JComponent</jtok>
<jtok eid="9" type="primary_name_ref" span="418:27:418:29">ed</jtok>
<jtok eid="9" type="method_call" span="418:31:418:47">addMouseListener</jtok>
<jtok eid="9" type="constructor_call" span="418:52:418:74">ExternalViewerListener</jtok>
<jtok eid="9" type="primary_name_ref" span="421:21:421:22">s</jtok>
<jtok eid="9" type="primary_name_ref" span="421:35:421:36">s</jtok>
<jtok eid="9" type="method_call" span="421:37:421:43">equals</jtok>
<jtok eid="9" type="string_literal" span="421:44:421:58">"journalNames"</jtok>
<jtok eid="9" type="line_comment" span="422:13:422:79">// Add controls for switching between abbreviated and full journal</jtok>
<jtok eid="9" type="line_comment" span="423:13:423:22">// names.</jtok>
<jtok eid="9" type="line_comment" span="424:13:424:81">// If this field also has a FieldContentSelector, we need to combine</jtok>
<jtok eid="9" type="line_comment" span="425:13:425:22">// these.</jtok>
<jtok eid="9" type="class_or_interface_ref" span="426:13:426:19">JPanel</jtok>
<jtok eid="9" type="local_variable_name" span="426:20:426:28">controls</jtok>
<jtok eid="9" type="constructor_call" span="426:35:426:41">JPanel</jtok>
<jtok eid="9" type="primary_name_ref" span="427:13:427:21">controls</jtok>
<jtok eid="9" type="method_call" span="427:22:427:31">setLayout</jtok>
<jtok eid="9" type="constructor_call" span="427:36:427:48">BorderLayout</jtok>
<jtok eid="9" type="primary_name_ref" span="428:17:428:22">panel</jtok>
<jtok eid="9" type="qualified_name_ref" span="428:23:428:31">metaData</jtok>
<jtok eid="9" type="method_call" span="428:32:428:39">getData</jtok>
<jtok eid="9" type="primary_name_ref" span="428:40:428:47">Globals</jtok>
<jtok eid="9" type="qualified_name_ref" span="428:48:428:68">SELECTOR_META_PREFIX</jtok>
<jtok eid="9" type="primary_name_ref" span="428:71:428:73">ed</jtok>
<jtok eid="9" type="method_call" span="428:74:428:86">getFieldName</jtok>
<jtok eid="9" type="class_or_interface_ref" span="429:17:429:37">FieldContentSelector</jtok>
<jtok eid="9" type="local_variable_name" span="429:38:429:40">ws</jtok>
<jtok eid="9" type="constructor_call" span="429:47:429:67">FieldContentSelector</jtok>
<jtok eid="9" type="primary_name_ref" span="429:68:429:73">frame</jtok>
<jtok eid="9" type="primary_name_ref" span="429:75:429:80">panel</jtok>
<jtok eid="9" type="primary_name_ref" span="429:82:429:87">frame</jtok>
<jtok eid="9" type="primary_name_ref" span="429:89:429:91">ed</jtok>
<jtok eid="9" type="primary_name_ref" span="430:21:430:26">panel</jtok>
<jtok eid="9" type="qualified_name_ref" span="430:27:430:35">metaData</jtok>
<jtok eid="9" type="primary_name_ref" span="430:37:430:53">storeFieldAction</jtok>
<jtok eid="9" type="string_literal" span="430:62:430:66">", "</jtok>
<jtok eid="9" type="primary_name_ref" span="431:17:431:33">contentSelectors</jtok>
<jtok eid="9" type="method_call" span="431:34:431:37">add</jtok>
<jtok eid="9" type="primary_name_ref" span="431:38:431:40">ws</jtok>
<jtok eid="9" type="primary_name_ref" span="432:17:432:25">controls</jtok>
<jtok eid="9" type="method_call" span="432:26:432:29">add</jtok>
<jtok eid="9" type="primary_name_ref" span="432:30:432:32">ws</jtok>
<jtok eid="9" type="primary_name_ref" span="432:34:432:46">BorderLayout</jtok>
<jtok eid="9" type="qualified_name_ref" span="432:47:432:52">NORTH</jtok>
<jtok eid="9" type="primary_name_ref" span="434:13:434:21">controls</jtok>
<jtok eid="9" type="method_call" span="434:22:434:25">add</jtok>
<jtok eid="9" type="primary_name_ref" span="434:26:434:46">JournalAbbreviations</jtok>
<jtok eid="9" type="method_call" span="434:47:434:62">getNameSwitcher</jtok>
<jtok eid="9" type="primary_name_ref" span="434:69:434:71">ed</jtok>
<jtok eid="9" type="primary_name_ref" span="434:73:434:78">panel</jtok>
<jtok eid="9" type="qualified_name_ref" span="434:79:434:90">undoManager</jtok>
<jtok eid="9" type="primary_name_ref" span="435:17:435:29">BorderLayout</jtok>
<jtok eid="9" type="qualified_name_ref" span="435:30:435:35">SOUTH</jtok>
<jtok eid="9" type="primary_name_ref" span="436:20:436:28">controls</jtok>
<jtok eid="9" type="primary_name_ref" span="437:20:437:25">panel</jtok>
<jtok eid="9" type="qualified_name_ref" span="437:26:437:34">metaData</jtok>
<jtok eid="9" type="method_call" span="437:35:437:42">getData</jtok>
<jtok eid="9" type="primary_name_ref" span="437:43:437:50">Globals</jtok>
<jtok eid="9" type="qualified_name_ref" span="437:51:437:71">SELECTOR_META_PREFIX</jtok>
<jtok eid="9" type="primary_name_ref" span="437:74:437:76">ed</jtok>
<jtok eid="9" type="method_call" span="437:77:437:89">getFieldName</jtok>
<jtok eid="9" type="class_or_interface_ref" span="438:13:438:33">FieldContentSelector</jtok>
<jtok eid="9" type="local_variable_name" span="438:34:438:36">ws</jtok>
<jtok eid="9" type="constructor_call" span="438:43:438:63">FieldContentSelector</jtok>
<jtok eid="9" type="primary_name_ref" span="438:64:438:69">frame</jtok>
<jtok eid="9" type="primary_name_ref" span="438:71:438:76">panel</jtok>
<jtok eid="9" type="primary_name_ref" span="438:78:438:83">frame</jtok>
<jtok eid="9" type="primary_name_ref" span="438:85:438:87">ed</jtok>
<jtok eid="9" type="primary_name_ref" span="439:17:439:22">panel</jtok>
<jtok eid="9" type="qualified_name_ref" span="439:23:439:31">metaData</jtok>
<jtok eid="9" type="primary_name_ref" span="439:33:439:49">storeFieldAction</jtok>
<jtok eid="9" type="primary_name_ref" span="440:19:440:21">ed</jtok>
<jtok eid="9" type="method_call" span="440:22:440:34">getFieldName</jtok>
<jtok eid="9" type="method_call" span="440:37:440:43">equals</jtok>
<jtok eid="9" type="string_literal" span="440:44:440:52">"author"</jtok>
<jtok eid="9" type="primary_name_ref" span="440:57:440:59">ed</jtok>
<jtok eid="9" type="method_call" span="440:60:440:72">getFieldName</jtok>
<jtok eid="9" type="method_call" span="440:75:440:81">equals</jtok>
<jtok eid="9" type="string_literal" span="440:82:440:90">"editor"</jtok>
<jtok eid="9" type="string_literal" span="440:95:440:102">" and "</jtok>
<jtok eid="9" type="string_literal" span="440:105:440:109">", "</jtok>
<jtok eid="9" type="primary_name_ref" span="441:13:441:29">contentSelectors</jtok>
<jtok eid="9" type="method_call" span="441:30:441:33">add</jtok>
<jtok eid="9" type="primary_name_ref" span="441:34:441:36">ws</jtok>
<jtok eid="9" type="primary_name_ref" span="443:20:443:22">ws</jtok>
<jtok eid="9" type="primary_name_ref" span="444:21:444:22">s</jtok>
<jtok eid="9" type="primary_name_ref" span="444:35:444:36">s</jtok>
<jtok eid="9" type="method_call" span="444:37:444:43">equals</jtok>
<jtok eid="9" type="string_literal" span="444:44:444:52">"browse"</jtok>
<jtok eid="9" type="class_or_interface_ref" span="445:13:445:20">JButton</jtok>
<jtok eid="9" type="local_variable_name" span="445:21:445:24">but</jtok>
<jtok eid="9" type="constructor_call" span="445:31:445:38">JButton</jtok>
<jtok eid="9" type="primary_name_ref" span="445:39:445:46">Globals</jtok>
<jtok eid="9" type="method_call" span="445:47:445:51">lang</jtok>
<jtok eid="9" type="string_literal" span="445:52:445:60">"Browse"</jtok>
<jtok eid="9" type="class_or_interface_ref" span="446:15:446:25">JComponent</jtok>
<jtok eid="9" type="primary_name_ref" span="446:27:446:29">ed</jtok>
<jtok eid="9" type="method_call" span="446:31:446:47">addMouseListener</jtok>
<jtok eid="9" type="constructor_call" span="446:52:446:74">ExternalViewerListener</jtok>
<jtok eid="9" type="line_comment" span="448:13:448:56">// but.setBackground(GUIGlobals.lightGray);</jtok>
<jtok eid="9" type="primary_name_ref" span="449:13:449:16">but</jtok>
<jtok eid="9" type="method_call" span="449:17:449:34">addActionListener</jtok>
<jtok eid="9" type="constructor_call" span="449:39:449:53">ActionListener</jtok>
<jtok eid="13" type="method_name" span="450:29:450:44">actionPerformed</jtok>
<jtok eid="13" type="parameter_type" span="450:45:450:56">ActionEvent</jtok>
<jtok eid="13" type="parameter_name" span="450:57:450:58">e</jtok>
<jtok eid="13" type="class_or_interface_ref" span="451:21:451:27">String</jtok>
<jtok eid="13" type="local_variable_name" span="451:28:451:31">dir</jtok>
<jtok eid="13" type="primary_name_ref" span="451:34:451:36">ed</jtok>
<jtok eid="13" type="method_call" span="451:37:451:44">getText</jtok>
<jtok eid="13" type="primary_name_ref" span="453:25:453:28">dir</jtok>
<jtok eid="13" type="method_call" span="453:29:453:35">equals</jtok>
<jtok eid="13" type="string_literal" span="453:36:453:38">""</jtok>
<jtok eid="13" type="primary_name_ref" span="454:25:454:28">dir</jtok>
<jtok eid="13" type="primary_name_ref" span="454:31:454:36">prefs</jtok>
<jtok eid="13" type="method_call" span="454:37:454:40">get</jtok>
<jtok eid="13" type="primary_name_ref" span="454:41:454:50">fieldName</jtok>
<jtok eid="13" type="primary_name_ref" span="454:53:454:60">Globals</jtok>
<jtok eid="13" type="qualified_name_ref" span="454:61:454:79">FILETYPE_PREFS_EXT</jtok>
<jtok eid="13" type="string_literal" span="454:81:454:83">""</jtok>
<jtok eid="13" type="class_or_interface_ref" span="456:21:456:27">String</jtok>
<jtok eid="13" type="local_variable_name" span="456:28:456:38">chosenFile</jtok>
<jtok eid="13" type="primary_name_ref" span="456:41:456:52">FileDialogs</jtok>
<jtok eid="13" type="method_call" span="456:53:456:63">getNewFile</jtok>
<jtok eid="13" type="primary_name_ref" span="456:64:456:69">frame</jtok>
<jtok eid="13" type="constructor_call" span="456:75:456:79">File</jtok>
<jtok eid="13" type="primary_name_ref" span="456:80:456:83">dir</jtok>
<jtok eid="13" type="string_literal" span="456:86:456:89">"."</jtok>
<jtok eid="13" type="primary_name_ref" span="456:92:456:101">fieldName</jtok>
<jtok eid="13" type="primary_name_ref" span="457:25:457:37">JFileChooser</jtok>
<jtok eid="13" type="qualified_name_ref" span="457:38:457:49">OPEN_DIALOG</jtok>
<jtok eid="13" type="primary_name_ref" span="459:25:459:35">chosenFile</jtok>
<jtok eid="13" type="class_or_interface_ref" span="460:25:460:29">File</jtok>
<jtok eid="13" type="local_variable_name" span="460:30:460:37">newFile</jtok>
<jtok eid="13" type="constructor_call" span="460:44:460:48">File</jtok>
<jtok eid="13" type="primary_name_ref" span="460:49:460:59">chosenFile</jtok>
<jtok eid="13" type="line_comment" span="460:62:460:91">// chooser.getSelectedFile();</jtok>
<jtok eid="13" type="primary_name_ref" span="461:25:461:27">ed</jtok>
<jtok eid="13" type="method_call" span="461:28:461:35">setText</jtok>
<jtok eid="13" type="primary_name_ref" span="461:36:461:43">newFile</jtok>
<jtok eid="13" type="method_call" span="461:44:461:51">getPath</jtok>
<jtok eid="13" type="primary_name_ref" span="462:25:462:30">prefs</jtok>
<jtok eid="13" type="method_call" span="462:31:462:34">put</jtok>
<jtok eid="13" type="primary_name_ref" span="462:35:462:44">fieldName</jtok>
<jtok eid="13" type="primary_name_ref" span="462:47:462:54">Globals</jtok>
<jtok eid="13" type="qualified_name_ref" span="462:55:462:73">FILETYPE_PREFS_EXT</jtok>
<jtok eid="13" type="primary_name_ref" span="462:75:462:82">newFile</jtok>
<jtok eid="13" type="method_call" span="462:83:462:90">getPath</jtok>
<jtok eid="13" type="method_call" span="463:25:463:36">updateField</jtok>
<jtok eid="13" type="primary_name_ref" span="463:37:463:39">ed</jtok>
<jtok eid="9" type="primary_name_ref" span="468:20:468:23">but</jtok>
<jtok eid="9" type="line_comment" span="469:13:469:66">// } else if ((s != null) &amp;&amp; s.equals("browsePdf")) {</jtok>
<jtok eid="9" type="primary_name_ref" span="470:21:470:22">s</jtok>
<jtok eid="9" type="primary_name_ref" span="470:36:470:37">s</jtok>
<jtok eid="9" type="method_call" span="470:38:470:44">equals</jtok>
<jtok eid="9" type="string_literal" span="470:45:470:56">"browseDoc"</jtok>
<jtok eid="9" type="primary_name_ref" span="470:61:470:62">s</jtok>
<jtok eid="9" type="method_call" span="470:63:470:69">equals</jtok>
<jtok eid="9" type="string_literal" span="470:70:470:84">"browseDocZip"</jtok>
<jtok eid="9" type="class_or_interface_ref" span="472:19:472:25">String</jtok>
<jtok eid="9" type="local_variable_name" span="472:26:472:29">ext</jtok>
<jtok eid="9" type="string_literal" span="472:32:472:35">"."</jtok>
<jtok eid="9" type="primary_name_ref" span="472:38:472:47">fieldName</jtok>
<jtok eid="9" type="method_call" span="472:48:472:59">toLowerCase</jtok>
<jtok eid="9" type="class_or_interface_ref" span="473:19:473:33">OpenFileFilter</jtok>
<jtok eid="9" type="local_variable_name" span="473:34:473:37">off</jtok>
<jtok eid="9" type="primary_name_ref" span="474:17:474:18">s</jtok>
<jtok eid="9" type="method_call" span="474:19:474:25">equals</jtok>
<jtok eid="9" type="string_literal" span="474:26:474:40">"browseDocZip"</jtok>
<jtok eid="9" type="primary_name_ref" span="475:17:475:20">off</jtok>
<jtok eid="9" type="constructor_call" span="475:27:475:41">OpenFileFilter</jtok>
<jtok eid="9" type="constructor_call" span="475:46:475:52">String</jtok>
<jtok eid="9" type="primary_name_ref" span="475:57:475:60">ext</jtok>
<jtok eid="9" type="primary_name_ref" span="475:62:475:65">ext</jtok>
<jtok eid="9" type="string_literal" span="475:68:475:73">".gz"</jtok>
<jtok eid="9" type="primary_name_ref" span="475:75:475:78">ext</jtok>
<jtok eid="9" type="string_literal" span="475:81:475:87">".bz2"</jtok>
<jtok eid="9" type="primary_name_ref" span="477:17:477:20">off</jtok>
<jtok eid="9" type="constructor_call" span="477:27:477:41">OpenFileFilter</jtok>
<jtok eid="9" type="constructor_call" span="477:46:477:52">String</jtok>
<jtok eid="9" type="primary_name_ref" span="477:57:477:60">ext</jtok>
<jtok eid="9" type="class_or_interface_ref" span="479:13:479:30">ExternalFilePanel</jtok>
<jtok eid="9" type="local_variable_name" span="479:31:479:34">pan</jtok>
<jtok eid="9" type="constructor_call" span="479:41:479:58">ExternalFilePanel</jtok>
<jtok eid="9" type="primary_name_ref" span="479:59:479:64">frame</jtok>
<jtok eid="9" type="primary_name_ref" span="479:66:479:71">panel</jtok>
<jtok eid="9" type="method_call" span="479:72:479:80">metaData</jtok>
<jtok eid="9" type="primary_name_ref" span="479:90:479:99">fieldName</jtok>
<jtok eid="9" type="primary_name_ref" span="480:17:480:20">off</jtok>
<jtok eid="9" type="primary_name_ref" span="480:22:480:24">ed</jtok>
<jtok eid="9" type="primary_name_ref" span="481:20:481:23">pan</jtok>
<jtok eid="9" type="block_comment" span="483:9:486:12">/*
         * else if ((s != null) &amp;&amp; s.equals("browsePs")) { ExternalFilePanel pan =
         * new ExternalFilePanel(frame, this, "ps", off, ed); return pan; }
         */</jtok>
<jtok eid="9" type="primary_name_ref" span="487:19:487:20">s</jtok>
<jtok eid="9" type="primary_name_ref" span="487:33:487:34">s</jtok>
<jtok eid="9" type="method_call" span="487:35:487:41">equals</jtok>
<jtok eid="9" type="string_literal" span="487:42:487:47">"url"</jtok>
<jtok eid="9" type="class_or_interface_ref" span="488:15:488:25">JComponent</jtok>
<jtok eid="9" type="primary_name_ref" span="488:27:488:29">ed</jtok>
<jtok eid="9" type="method_call" span="488:31:488:44">setDropTarget</jtok>
<jtok eid="9" type="constructor_call" span="488:49:488:59">DropTarget</jtok>
<jtok eid="9" type="class_or_interface_ref" span="488:61:488:70">Component</jtok>
<jtok eid="9" type="primary_name_ref" span="488:72:488:74">ed</jtok>
<jtok eid="9" type="primary_name_ref" span="489:17:489:29">DnDConstants</jtok>
<jtok eid="9" type="qualified_name_ref" span="489:30:489:41">ACTION_NONE</jtok>
<jtok eid="9" type="constructor_call" span="489:47:489:64">SimpleUrlDragDrop</jtok>
<jtok eid="9" type="primary_name_ref" span="489:65:489:67">ed</jtok>
<jtok eid="9" type="primary_name_ref" span="489:69:489:85">storeFieldAction</jtok>
<jtok eid="9" type="primary_name_ref" span="494:19:494:20">s</jtok>
<jtok eid="9" type="primary_name_ref" span="494:34:494:35">s</jtok>
<jtok eid="9" type="method_call" span="494:36:494:42">equals</jtok>
<jtok eid="9" type="string_literal" span="494:43:494:53">"setOwner"</jtok>
<jtok eid="9" type="class_or_interface_ref" span="495:13:495:20">JButton</jtok>
<jtok eid="9" type="local_variable_name" span="495:21:495:27">button</jtok>
<jtok eid="9" type="constructor_call" span="495:34:495:41">JButton</jtok>
<jtok eid="9" type="primary_name_ref" span="495:42:495:49">Globals</jtok>
<jtok eid="9" type="method_call" span="495:50:495:54">lang</jtok>
<jtok eid="9" type="string_literal" span="495:55:495:61">"Auto"</jtok>
<jtok eid="9" type="primary_name_ref" span="496:13:496:19">button</jtok>
<jtok eid="9" type="method_call" span="496:20:496:37">addActionListener</jtok>
<jtok eid="9" type="constructor_call" span="496:42:496:56">ActionListener</jtok>
<jtok eid="15" type="method_name" span="497:29:497:44">actionPerformed</jtok>
<jtok eid="15" type="parameter_type" span="497:45:497:56">ActionEvent</jtok>
<jtok eid="15" type="parameter_name" span="497:57:497:68">actionEvent</jtok>
<jtok eid="15" type="primary_name_ref" span="498:21:498:23">ed</jtok>
<jtok eid="15" type="method_call" span="498:24:498:31">setText</jtok>
<jtok eid="15" type="primary_name_ref" span="498:32:498:39">Globals</jtok>
<jtok eid="15" type="qualified_name_ref" span="498:40:498:45">prefs</jtok>
<jtok eid="15" type="method_call" span="498:46:498:49">get</jtok>
<jtok eid="15" type="string_literal" span="498:50:498:64">"defaultOwner"</jtok>
<jtok eid="15" type="primary_name_ref" span="499:21:499:37">storeFieldAction</jtok>
<jtok eid="15" type="method_call" span="499:38:499:53">actionPerformed</jtok>
<jtok eid="15" type="constructor_call" span="499:58:499:69">ActionEvent</jtok>
<jtok eid="15" type="primary_name_ref" span="499:70:499:72">ed</jtok>
<jtok eid="15" type="string_literal" span="499:77:499:79">""</jtok>
<jtok eid="9" type="primary_name_ref" span="502:20:502:26">button</jtok>
<jtok eid="16" type="method_name" span="508:18:508:34">setupSourcePanel</jtok>
<jtok eid="16" type="primary_name_ref" span="509:9:509:15">source</jtok>
<jtok eid="16" type="constructor_call" span="509:22:509:31">JTextArea</jtok>
<jtok eid="16" type="block_comment" span="509:34:519:13">/* {
            private boolean antialias = Globals.prefs.getBoolean("antialias");

            public void paint(Graphics g) {
                Graphics2D g2 = (Graphics2D) g;
                if (antialias)
                    g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING,
                        RenderingHints.VALUE_ANTIALIAS_ON);
                super.paint(g2);
            }
        };*/</jtok>
<jtok eid="16" type="line_comment" span="521:9:521:62">//DefaultFormBuilder builder = new DefaultFormBuilder</jtok>
<jtok eid="16" type="line_comment" span="522:9:522:83">//        (srcPanel, new FormLayout( "fill:pref:grow", "fill:pref:grow"));</jtok>
<jtok eid="16" type="primary_name_ref" span="523:9:523:15">source</jtok>
<jtok eid="16" type="method_call" span="523:16:523:27">setEditable</jtok>
<jtok eid="16" type="line_comment" span="523:35:523:79">// prefs.getBoolean("enableSourceEditing"));</jtok>
<jtok eid="16" type="primary_name_ref" span="524:9:524:15">source</jtok>
<jtok eid="16" type="method_call" span="524:16:524:27">setLineWrap</jtok>
<jtok eid="16" type="primary_name_ref" span="525:9:525:15">source</jtok>
<jtok eid="16" type="method_call" span="525:16:525:26">setTabSize</jtok>
<jtok eid="16" type="primary_name_ref" span="525:27:525:37">GUIGlobals</jtok>
<jtok eid="16" type="qualified_name_ref" span="525:38:525:44">INDENT</jtok>
<jtok eid="16" type="primary_name_ref" span="526:9:526:15">source</jtok>
<jtok eid="16" type="method_call" span="526:16:526:32">addFocusListener</jtok>
<jtok eid="16" type="constructor_call" span="526:37:526:61">FieldEditorFocusListener</jtok>
<jtok eid="16" type="line_comment" span="527:9:527:79">// Add the global focus listener, so a menu item can see if this field</jtok>
<jtok eid="16" type="line_comment" span="528:9:528:28">// was focused when</jtok>
<jtok eid="16" type="line_comment" span="529:9:529:33">// an action was called.</jtok>
<jtok eid="16" type="primary_name_ref" span="530:9:530:15">source</jtok>
<jtok eid="16" type="method_call" span="530:16:530:32">addFocusListener</jtok>
<jtok eid="16" type="primary_name_ref" span="530:33:530:40">Globals</jtok>
<jtok eid="16" type="qualified_name_ref" span="530:41:530:54">focusListener</jtok>
<jtok eid="16" type="primary_name_ref" span="531:9:531:15">source</jtok>
<jtok eid="16" type="method_call" span="531:16:531:23">setFont</jtok>
<jtok eid="16" type="constructor_call" span="531:28:531:32">Font</jtok>
<jtok eid="16" type="string_literal" span="531:33:531:45">"Monospaced"</jtok>
<jtok eid="16" type="primary_name_ref" span="531:47:531:51">Font</jtok>
<jtok eid="16" type="qualified_name_ref" span="531:52:531:57">PLAIN</jtok>
<jtok eid="16" type="primary_name_ref" span="531:59:531:66">Globals</jtok>
<jtok eid="16" type="qualified_name_ref" span="531:67:531:72">prefs</jtok>
<jtok eid="16" type="method_call" span="531:73:531:79">getInt</jtok>
<jtok eid="16" type="string_literal" span="531:80:531:90">"fontSize"</jtok>
<jtok eid="16" type="method_call" span="532:9:532:28">setupJTextComponent</jtok>
<jtok eid="16" type="primary_name_ref" span="532:29:532:35">source</jtok>
<jtok eid="16" type="method_call" span="533:9:533:21">updateSource</jtok>
<jtok eid="16" type="class_or_interface_ref" span="535:9:535:20">JScrollPane</jtok>
<jtok eid="16" type="local_variable_name" span="535:21:535:23">sp</jtok>
<jtok eid="16" type="constructor_call" span="535:30:535:41">JScrollPane</jtok>
<jtok eid="16" type="primary_name_ref" span="535:42:535:48">source</jtok>
<jtok eid="16" type="primary_name_ref" span="535:50:535:61">JScrollPane</jtok>
<jtok eid="16" type="qualified_name_ref" span="535:62:535:90">VERTICAL_SCROLLBAR_AS_NEEDED</jtok>
<jtok eid="16" type="primary_name_ref" span="536:13:536:24">JScrollPane</jtok>
<jtok eid="16" type="qualified_name_ref" span="536:25:536:51">HORIZONTAL_SCROLLBAR_NEVER</jtok>
<jtok eid="16" type="line_comment" span="537:9:537:30">//builder.append(sp);</jtok>
<jtok eid="16" type="primary_name_ref" span="539:9:539:17">srcPanel</jtok>
<jtok eid="16" type="method_call" span="539:18:539:27">setLayout</jtok>
<jtok eid="16" type="constructor_call" span="539:32:539:44">BorderLayout</jtok>
<jtok eid="16" type="primary_name_ref" span="540:9:540:17">srcPanel</jtok>
<jtok eid="16" type="method_call" span="540:18:540:21">add</jtok>
<jtok eid="16" type="primary_name_ref" span="540:22:540:24">sp</jtok>
<jtok eid="16" type="primary_name_ref" span="540:26:540:38">BorderLayout</jtok>
<jtok eid="16" type="qualified_name_ref" span="540:39:540:45">CENTER</jtok>
<jtok eid="17" type="method_name" span="544:17:544:29">updateSource</jtok>
<jtok eid="17" type="primary_name_ref" span="545:13:545:25">updateSource</jtok>
<jtok eid="17" type="class_or_interface_ref" span="546:13:546:25">StringWriter</jtok>
<jtok eid="17" type="local_variable_name" span="546:26:546:28">sw</jtok>
<jtok eid="17" type="constructor_call" span="546:35:546:47">StringWriter</jtok>
<jtok eid="17" type="class_or_interface_ref" span="549:17:549:36">LatexFieldFormatter</jtok>
<jtok eid="17" type="local_variable_name" span="549:37:549:46">formatter</jtok>
<jtok eid="17" type="constructor_call" span="549:53:549:72">LatexFieldFormatter</jtok>
<jtok eid="17" type="primary_name_ref" span="550:17:550:26">formatter</jtok>
<jtok eid="17" type="method_call" span="550:27:550:47">setNeverFailOnHashes</jtok>
<jtok eid="17" type="primary_name_ref" span="551:17:551:22">entry</jtok>
<jtok eid="17" type="method_call" span="551:23:551:28">write</jtok>
<jtok eid="17" type="primary_name_ref" span="551:29:551:31">sw</jtok>
<jtok eid="17" type="primary_name_ref" span="551:33:551:42">formatter</jtok>
<jtok eid="17" type="class_or_interface_ref" span="553:17:553:23">String</jtok>
<jtok eid="17" type="local_variable_name" span="553:24:553:33">srcString</jtok>
<jtok eid="17" type="primary_name_ref" span="553:36:553:38">sw</jtok>
<jtok eid="17" type="method_call" span="553:39:553:48">getBuffer</jtok>
<jtok eid="17" type="method_call" span="553:51:553:59">toString</jtok>
<jtok eid="17" type="primary_name_ref" span="554:17:554:23">source</jtok>
<jtok eid="17" type="method_call" span="554:24:554:31">setText</jtok>
<jtok eid="17" type="primary_name_ref" span="554:32:554:41">srcString</jtok>
<jtok eid="17" type="primary_name_ref" span="555:17:555:41">lastSourceStringAccepted</jtok>
<jtok eid="17" type="primary_name_ref" span="555:44:555:53">srcString</jtok>
<jtok eid="17" type="line_comment" span="557:17:557:75">//////////////////////////////////////////////////////////</jtok>
<jtok eid="17" type="line_comment" span="558:17:558:57">// Set the current Entry to be selected.</jtok>
<jtok eid="17" type="line_comment" span="559:17:559:65">// Fixes the bug of losing selection after, e.g.</jtok>
<jtok eid="17" type="line_comment" span="560:17:560:54">// an autogeneration of a BibTeX key.</jtok>
<jtok eid="17" type="line_comment" span="561:17:561:40">// - ILC (16/02/2010) -</jtok>
<jtok eid="17" type="line_comment" span="562:17:562:75">//////////////////////////////////////////////////////////</jtok>
<jtok eid="17" type="primary_name_ref" span="563:17:563:31">SwingUtilities</jtok>
<jtok eid="17" type="method_call" span="563:32:563:43">invokeLater</jtok>
<jtok eid="17" type="constructor_call" span="563:48:563:56">Runnable</jtok>
<jtok eid="19" type="method_name" span="564:31:564:34">run</jtok>
<jtok eid="19" type="local_variable_name" span="565:31:565:34">row</jtok>
<jtok eid="19" type="primary_name_ref" span="565:37:565:42">panel</jtok>
<jtok eid="19" type="qualified_name_ref" span="565:43:565:52">mainTable</jtok>
<jtok eid="19" type="method_call" span="565:53:565:62">findEntry</jtok>
<jtok eid="19" type="primary_name_ref" span="565:63:565:68">entry</jtok>
<jtok eid="19" type="primary_name_ref" span="566:25:566:28">row</jtok>
<jtok eid="19" type="primary_name_ref" span="567:29:567:34">panel</jtok>
<jtok eid="19" type="qualified_name_ref" span="567:35:567:44">mainTable</jtok>
<jtok eid="19" type="method_call" span="567:45:567:64">getSelectedRowCount</jtok>
<jtok eid="19" type="primary_name_ref" span="568:29:568:34">panel</jtok>
<jtok eid="19" type="qualified_name_ref" span="568:35:568:44">mainTable</jtok>
<jtok eid="19" type="method_call" span="568:45:568:68">setRowSelectionInterval</jtok>
<jtok eid="19" type="primary_name_ref" span="568:69:568:72">row</jtok>
<jtok eid="19" type="primary_name_ref" span="568:74:568:77">row</jtok>
<jtok eid="19" type="line_comment" span="569:25:569:41">//scrollTo(row);</jtok>
<jtok eid="19" type="primary_name_ref" span="570:25:570:30">panel</jtok>
<jtok eid="19" type="qualified_name_ref" span="570:31:570:40">mainTable</jtok>
<jtok eid="19" type="method_call" span="570:41:570:54">ensureVisible</jtok>
<jtok eid="19" type="primary_name_ref" span="570:55:570:58">row</jtok>
<jtok eid="17" type="line_comment" span="574:17:574:75">//////////////////////////////////////////////////////////</jtok>
<jtok eid="17" type="class_or_interface_ref" span="576:22:576:33">IOException</jtok>
<jtok eid="17" type="local_variable_name" span="576:34:576:36">ex</jtok>
<jtok eid="17" type="primary_name_ref" span="577:17:577:23">source</jtok>
<jtok eid="17" type="method_call" span="577:24:577:31">setText</jtok>
<jtok eid="17" type="primary_name_ref" span="577:32:577:34">ex</jtok>
<jtok eid="17" type="method_call" span="577:35:577:45">getMessage</jtok>
<jtok eid="17" type="string_literal" span="577:50:577:56">"\n\n"</jtok>
<jtok eid="17" type="primary_name_ref" span="578:41:578:48">Globals</jtok>
<jtok eid="17" type="method_call" span="578:49:578:53">lang</jtok>
<jtok eid="17" type="string_literal" span="578:54:578:79">"Correct the entry, and "</jtok>
<jtok eid="17" type="string_literal" span="579:23:579:62">"reopen editor to display/edit source."</jtok>
<jtok eid="17" type="primary_name_ref" span="580:17:580:23">source</jtok>
<jtok eid="17" type="method_call" span="580:24:580:35">setEditable</jtok>
<jtok eid="1" type="block_comment" span="587:5:591:8">/**
     * NOTE: This method is only used for the source panel, not for the
     * other tabs. Look at EntryEditorTab for the setup of text components
     * in the other tabs.
     */</jtok>
<jtok eid="20" type="method_name" span="592:17:592:36">setupJTextComponent</jtok>
<jtok eid="20" type="parameter_type" span="592:37:592:51">JTextComponent</jtok>
<jtok eid="20" type="parameter_name" span="592:52:592:54">ta</jtok>
<jtok eid="20" type="line_comment" span="595:9:595:71">// Set up key bindings and focus listener for the FieldEditor.</jtok>
<jtok eid="20" type="class_or_interface_ref" span="596:9:596:17">InputMap</jtok>
<jtok eid="20" type="local_variable_name" span="596:18:596:20">im</jtok>
<jtok eid="20" type="primary_name_ref" span="596:23:596:25">ta</jtok>
<jtok eid="20" type="method_call" span="596:26:596:37">getInputMap</jtok>
<jtok eid="20" type="primary_name_ref" span="596:38:596:48">JComponent</jtok>
<jtok eid="20" type="qualified_name_ref" span="596:49:596:61">WHEN_FOCUSED</jtok>
<jtok eid="20" type="class_or_interface_ref" span="597:9:597:18">ActionMap</jtok>
<jtok eid="20" type="local_variable_name" span="597:19:597:21">am</jtok>
<jtok eid="20" type="primary_name_ref" span="597:24:597:26">ta</jtok>
<jtok eid="20" type="method_call" span="597:27:597:39">getActionMap</jtok>
<jtok eid="20" type="line_comment" span="599:9:599:73">// im.put(KeyStroke.getKeyStroke(GUIGlobals.closeKey), "close");</jtok>
<jtok eid="20" type="line_comment" span="600:9:600:41">// am.put("close", closeAction);</jtok>
<jtok eid="20" type="primary_name_ref" span="601:9:601:11">im</jtok>
<jtok eid="20" type="method_call" span="601:12:601:15">put</jtok>
<jtok eid="20" type="primary_name_ref" span="601:16:601:21">prefs</jtok>
<jtok eid="20" type="method_call" span="601:22:601:28">getKey</jtok>
<jtok eid="20" type="string_literal" span="601:29:601:56">"Entry editor, store field"</jtok>
<jtok eid="20" type="string_literal" span="601:59:601:66">"store"</jtok>
<jtok eid="20" type="primary_name_ref" span="602:9:602:11">am</jtok>
<jtok eid="20" type="method_call" span="602:12:602:15">put</jtok>
<jtok eid="20" type="string_literal" span="602:16:602:23">"store"</jtok>
<jtok eid="20" type="primary_name_ref" span="602:25:602:41">storeFieldAction</jtok>
<jtok eid="20" type="primary_name_ref" span="604:9:604:11">im</jtok>
<jtok eid="20" type="method_call" span="604:12:604:15">put</jtok>
<jtok eid="20" type="primary_name_ref" span="604:16:604:21">prefs</jtok>
<jtok eid="20" type="method_call" span="604:22:604:28">getKey</jtok>
<jtok eid="20" type="string_literal" span="604:29:604:55">"Entry editor, next panel"</jtok>
<jtok eid="20" type="string_literal" span="604:58:604:65">"right"</jtok>
<jtok eid="20" type="primary_name_ref" span="605:9:605:11">im</jtok>
<jtok eid="20" type="method_call" span="605:12:605:15">put</jtok>
<jtok eid="20" type="primary_name_ref" span="605:16:605:21">prefs</jtok>
<jtok eid="20" type="method_call" span="605:22:605:28">getKey</jtok>
<jtok eid="20" type="string_literal" span="605:29:605:57">"Entry editor, next panel 2"</jtok>
<jtok eid="20" type="string_literal" span="605:60:605:67">"right"</jtok>
<jtok eid="20" type="primary_name_ref" span="606:9:606:11">am</jtok>
<jtok eid="20" type="method_call" span="606:12:606:15">put</jtok>
<jtok eid="20" type="string_literal" span="606:16:606:23">"right"</jtok>
<jtok eid="20" type="primary_name_ref" span="606:25:606:42">switchRightAction</jtok>
<jtok eid="20" type="primary_name_ref" span="608:9:608:11">im</jtok>
<jtok eid="20" type="method_call" span="608:12:608:15">put</jtok>
<jtok eid="20" type="primary_name_ref" span="608:16:608:21">prefs</jtok>
<jtok eid="20" type="method_call" span="608:22:608:28">getKey</jtok>
<jtok eid="20" type="string_literal" span="608:29:608:59">"Entry editor, previous panel"</jtok>
<jtok eid="20" type="string_literal" span="608:62:608:68">"left"</jtok>
<jtok eid="20" type="primary_name_ref" span="609:9:609:11">im</jtok>
<jtok eid="20" type="method_call" span="609:12:609:15">put</jtok>
<jtok eid="20" type="primary_name_ref" span="609:16:609:21">prefs</jtok>
<jtok eid="20" type="method_call" span="609:22:609:28">getKey</jtok>
<jtok eid="20" type="string_literal" span="609:29:609:61">"Entry editor, previous panel 2"</jtok>
<jtok eid="20" type="string_literal" span="609:64:609:70">"left"</jtok>
<jtok eid="20" type="primary_name_ref" span="610:9:610:11">am</jtok>
<jtok eid="20" type="method_call" span="610:12:610:15">put</jtok>
<jtok eid="20" type="string_literal" span="610:16:610:22">"left"</jtok>
<jtok eid="20" type="primary_name_ref" span="610:24:610:40">switchLeftAction</jtok>
<jtok eid="20" type="primary_name_ref" span="612:9:612:11">im</jtok>
<jtok eid="20" type="method_call" span="612:12:612:15">put</jtok>
<jtok eid="20" type="primary_name_ref" span="612:16:612:21">prefs</jtok>
<jtok eid="20" type="method_call" span="612:22:612:28">getKey</jtok>
<jtok eid="20" type="string_literal" span="612:29:612:35">"Help"</jtok>
<jtok eid="20" type="string_literal" span="612:38:612:44">"help"</jtok>
<jtok eid="20" type="primary_name_ref" span="613:9:613:11">am</jtok>
<jtok eid="20" type="method_call" span="613:12:613:15">put</jtok>
<jtok eid="20" type="string_literal" span="613:16:613:22">"help"</jtok>
<jtok eid="20" type="primary_name_ref" span="613:24:613:34">helpAction</jtok>
<jtok eid="20" type="primary_name_ref" span="614:9:614:11">im</jtok>
<jtok eid="20" type="method_call" span="614:12:614:15">put</jtok>
<jtok eid="20" type="primary_name_ref" span="614:16:614:21">prefs</jtok>
<jtok eid="20" type="method_call" span="614:22:614:28">getKey</jtok>
<jtok eid="20" type="string_literal" span="614:29:614:44">"Save database"</jtok>
<jtok eid="20" type="string_literal" span="614:47:614:53">"save"</jtok>
<jtok eid="20" type="primary_name_ref" span="615:9:615:11">am</jtok>
<jtok eid="20" type="method_call" span="615:12:615:15">put</jtok>
<jtok eid="20" type="string_literal" span="615:16:615:22">"save"</jtok>
<jtok eid="20" type="primary_name_ref" span="615:24:615:42">saveDatabaseAction</jtok>
<jtok eid="20" type="primary_name_ref" span="617:9:617:11">im</jtok>
<jtok eid="20" type="method_call" span="617:12:617:15">put</jtok>
<jtok eid="20" type="primary_name_ref" span="617:16:617:23">Globals</jtok>
<jtok eid="20" type="qualified_name_ref" span="617:24:617:29">prefs</jtok>
<jtok eid="20" type="method_call" span="617:30:617:36">getKey</jtok>
<jtok eid="20" type="string_literal" span="617:37:617:47">"Next tab"</jtok>
<jtok eid="20" type="string_literal" span="617:50:617:59">"nexttab"</jtok>
<jtok eid="20" type="primary_name_ref" span="618:9:618:11">am</jtok>
<jtok eid="20" type="method_call" span="618:12:618:15">put</jtok>
<jtok eid="20" type="string_literal" span="618:16:618:25">"nexttab"</jtok>
<jtok eid="20" type="primary_name_ref" span="618:27:618:32">frame</jtok>
<jtok eid="20" type="qualified_name_ref" span="618:33:618:40">nextTab</jtok>
<jtok eid="20" type="primary_name_ref" span="619:9:619:11">im</jtok>
<jtok eid="20" type="method_call" span="619:12:619:15">put</jtok>
<jtok eid="20" type="primary_name_ref" span="619:16:619:23">Globals</jtok>
<jtok eid="20" type="qualified_name_ref" span="619:24:619:29">prefs</jtok>
<jtok eid="20" type="method_call" span="619:30:619:36">getKey</jtok>
<jtok eid="20" type="string_literal" span="619:37:619:51">"Previous tab"</jtok>
<jtok eid="20" type="string_literal" span="619:54:619:63">"prevtab"</jtok>
<jtok eid="20" type="primary_name_ref" span="620:9:620:11">am</jtok>
<jtok eid="20" type="method_call" span="620:12:620:15">put</jtok>
<jtok eid="20" type="string_literal" span="620:16:620:25">"prevtab"</jtok>
<jtok eid="20" type="primary_name_ref" span="620:27:620:32">frame</jtok>
<jtok eid="20" type="qualified_name_ref" span="620:33:620:40">prevTab</jtok>
<jtok eid="20" type="class_or_interface_ref" span="622:13:622:20">HashSet</jtok>
<jtok eid="20" type="class_or_interface_ref" span="622:21:622:33">AWTKeyStroke</jtok>
<jtok eid="20" type="local_variable_name" span="622:35:622:39">keys</jtok>
<jtok eid="20" type="constructor_call" span="622:46:622:53">HashSet</jtok>
<jtok eid="20" type="constructor_call" span="622:54:622:66">AWTKeyStroke</jtok>
<jtok eid="20" type="primary_name_ref" span="622:68:622:70">ta</jtok>
<jtok eid="20" type="method_call" span="623:18:623:39">getFocusTraversalKeys</jtok>
<jtok eid="20" type="primary_name_ref" span="623:40:623:60">KeyboardFocusManager</jtok>
<jtok eid="20" type="qualified_name_ref" span="623:61:623:83">FORWARD_TRAVERSAL_KEYS</jtok>
<jtok eid="20" type="primary_name_ref" span="624:13:624:17">keys</jtok>
<jtok eid="20" type="method_call" span="624:18:624:23">clear</jtok>
<jtok eid="20" type="primary_name_ref" span="625:13:625:17">keys</jtok>
<jtok eid="20" type="method_call" span="625:18:625:21">add</jtok>
<jtok eid="20" type="primary_name_ref" span="625:22:625:34">AWTKeyStroke</jtok>
<jtok eid="20" type="method_call" span="625:35:625:50">getAWTKeyStroke</jtok>
<jtok eid="20" type="string_literal" span="625:51:625:64">"pressed TAB"</jtok>
<jtok eid="20" type="primary_name_ref" span="626:13:626:15">ta</jtok>
<jtok eid="20" type="method_call" span="626:16:626:37">setFocusTraversalKeys</jtok>
<jtok eid="20" type="primary_name_ref" span="626:38:626:58">KeyboardFocusManager</jtok>
<jtok eid="20" type="qualified_name_ref" span="626:59:626:81">FORWARD_TRAVERSAL_KEYS</jtok>
<jtok eid="20" type="primary_name_ref" span="626:83:626:87">keys</jtok>
<jtok eid="20" type="primary_name_ref" span="627:13:627:17">keys</jtok>
<jtok eid="20" type="constructor_call" span="627:24:627:31">HashSet</jtok>
<jtok eid="20" type="constructor_call" span="627:32:627:44">AWTKeyStroke</jtok>
<jtok eid="20" type="primary_name_ref" span="627:46:627:48">ta</jtok>
<jtok eid="20" type="method_call" span="628:18:628:39">getFocusTraversalKeys</jtok>
<jtok eid="20" type="primary_name_ref" span="628:40:628:60">KeyboardFocusManager</jtok>
<jtok eid="20" type="qualified_name_ref" span="628:61:628:84">BACKWARD_TRAVERSAL_KEYS</jtok>
<jtok eid="20" type="primary_name_ref" span="629:13:629:17">keys</jtok>
<jtok eid="20" type="method_call" span="629:18:629:23">clear</jtok>
<jtok eid="20" type="primary_name_ref" span="630:13:630:17">keys</jtok>
<jtok eid="20" type="method_call" span="630:18:630:21">add</jtok>
<jtok eid="20" type="primary_name_ref" span="630:22:630:31">KeyStroke</jtok>
<jtok eid="20" type="method_call" span="630:32:630:44">getKeyStroke</jtok>
<jtok eid="20" type="string_literal" span="630:45:630:64">"shift pressed TAB"</jtok>
<jtok eid="20" type="primary_name_ref" span="631:13:631:15">ta</jtok>
<jtok eid="20" type="method_call" span="631:16:631:37">setFocusTraversalKeys</jtok>
<jtok eid="20" type="primary_name_ref" span="631:38:631:58">KeyboardFocusManager</jtok>
<jtok eid="20" type="qualified_name_ref" span="631:59:631:82">BACKWARD_TRAVERSAL_KEYS</jtok>
<jtok eid="20" type="primary_name_ref" span="631:84:631:88">keys</jtok>
<jtok eid="20" type="class_or_interface_ref" span="632:18:632:27">Throwable</jtok>
<jtok eid="20" type="local_variable_name" span="632:28:632:29">t</jtok>
<jtok eid="20" type="primary_name_ref" span="633:13:633:19">System</jtok>
<jtok eid="20" type="qualified_name_ref" span="633:20:633:23">err</jtok>
<jtok eid="20" type="method_call" span="633:24:633:31">println</jtok>
<jtok eid="20" type="primary_name_ref" span="633:32:633:33">t</jtok>
<jtok eid="20" type="primary_name_ref" span="636:9:636:11">ta</jtok>
<jtok eid="20" type="method_call" span="636:12:636:28">addFocusListener</jtok>
<jtok eid="20" type="constructor_call" span="636:33:636:46">FieldListener</jtok>
<jtok eid="21" type="method_name" span="639:17:639:29">requestFocus</jtok>
<jtok eid="21" type="method_call" span="640:9:640:24">activateVisible</jtok>
<jtok eid="22" type="method_name" span="643:18:643:33">activateVisible</jtok>
<jtok eid="22" type="class_or_interface_ref" span="644:9:644:15">Object</jtok>
<jtok eid="22" type="local_variable_name" span="644:16:644:25">activeTab</jtok>
<jtok eid="22" type="primary_name_ref" span="644:28:644:32">tabs</jtok>
<jtok eid="22" type="method_call" span="644:33:644:36">get</jtok>
<jtok eid="22" type="primary_name_ref" span="644:37:644:43">tabbed</jtok>
<jtok eid="22" type="method_call" span="644:44:644:60">getSelectedIndex</jtok>
<jtok eid="22" type="primary_name_ref" span="646:13:646:22">activeTab</jtok>
<jtok eid="22" type="class_or_interface_ref" span="646:34:646:48">EntryEditorTab</jtok>
<jtok eid="22" type="class_or_interface_ref" span="647:15:647:29">EntryEditorTab</jtok>
<jtok eid="22" type="primary_name_ref" span="647:31:647:40">activeTab</jtok>
<jtok eid="22" type="method_call" span="647:42:647:50">activate</jtok>
<jtok eid="22" type="constructor_call" span="649:17:649:31">FocusRequester</jtok>
<jtok eid="22" type="primary_name_ref" span="649:32:649:38">source</jtok>
<jtok eid="22" type="line_comment" span="650:9:650:51">// ((JComponent)activeTab).requestFocus();</jtok>
<jtok eid="1" type="block_comment" span="653:5:655:8">/**
     * Reports the enabled status of the editor, as set by setEnabled()
     */</jtok>
<jtok eid="23" type="method_name" span="656:20:656:29">isEnabled</jtok>
<jtok eid="23" type="primary_name_ref" span="657:16:657:22">source</jtok>
<jtok eid="23" type="method_call" span="657:23:657:32">isEnabled</jtok>
<jtok eid="1" type="block_comment" span="660:5:662:8">/**
     * Sets the enabled status of all text fields of the entry editor.
     */</jtok>
<jtok eid="24" type="method_name" span="663:17:663:27">setEnabled</jtok>
<jtok eid="24" type="parameter_name" span="663:36:663:43">enabled</jtok>
<jtok eid="24" type="class_or_interface_ref" span="664:14:664:22">Iterator</jtok>
<jtok eid="24" type="class_or_interface_ref" span="664:23:664:29">Object</jtok>
<jtok eid="24" type="local_variable_name" span="664:31:664:32">i</jtok>
<jtok eid="24" type="primary_name_ref" span="664:35:664:39">tabs</jtok>
<jtok eid="24" type="method_call" span="664:40:664:48">iterator</jtok>
<jtok eid="24" type="primary_name_ref" span="664:52:664:53">i</jtok>
<jtok eid="24" type="method_call" span="664:54:664:61">hasNext</jtok>
<jtok eid="24" type="class_or_interface_ref" span="665:13:665:19">Object</jtok>
<jtok eid="24" type="local_variable_name" span="665:20:665:21">o</jtok>
<jtok eid="24" type="primary_name_ref" span="665:24:665:25">i</jtok>
<jtok eid="24" type="method_call" span="665:26:665:30">next</jtok>
<jtok eid="24" type="primary_name_ref" span="666:17:666:18">o</jtok>
<jtok eid="24" type="class_or_interface_ref" span="666:30:666:44">EntryEditorTab</jtok>
<jtok eid="24" type="class_or_interface_ref" span="667:19:667:33">EntryEditorTab</jtok>
<jtok eid="24" type="primary_name_ref" span="667:35:667:36">o</jtok>
<jtok eid="24" type="method_call" span="667:38:667:48">setEnabled</jtok>
<jtok eid="24" type="primary_name_ref" span="667:49:667:56">enabled</jtok>
<jtok eid="24" type="primary_name_ref" span="670:9:670:15">source</jtok>
<jtok eid="24" type="method_call" span="670:16:670:26">setEnabled</jtok>
<jtok eid="24" type="primary_name_ref" span="670:27:670:34">enabled</jtok>
<jtok eid="1" type="block_comment" span="674:5:679:8">/**
     * Centers the given row, and highlights it.
     * 
     * @param row
     *            an &lt;code&gt;int&lt;/code&gt; value
     */</jtok>
<jtok eid="25" type="method_name" span="680:18:680:26">scrollTo</jtok>
<jtok eid="25" type="parameter_name" span="680:31:680:34">row</jtok>
<jtok eid="25" type="primary_name_ref" span="681:9:681:31">movingToDifferentEntry</jtok>
<jtok eid="25" type="primary_name_ref" span="682:9:682:14">panel</jtok>
<jtok eid="25" type="qualified_name_ref" span="682:15:682:24">mainTable</jtok>
<jtok eid="25" type="method_call" span="682:25:682:48">setRowSelectionInterval</jtok>
<jtok eid="25" type="primary_name_ref" span="682:49:682:52">row</jtok>
<jtok eid="25" type="primary_name_ref" span="682:54:682:57">row</jtok>
<jtok eid="25" type="primary_name_ref" span="683:9:683:14">panel</jtok>
<jtok eid="25" type="qualified_name_ref" span="683:15:683:24">mainTable</jtok>
<jtok eid="25" type="method_call" span="683:25:683:38">ensureVisible</jtok>
<jtok eid="25" type="primary_name_ref" span="683:39:683:42">row</jtok>
<jtok eid="1" type="block_comment" span="686:5:688:8">/**
     * Makes sure the current edit is stored.
     */</jtok>
<jtok eid="26" type="method_name" span="689:17:689:33">storeCurrentEdit</jtok>
<jtok eid="26" type="class_or_interface_ref" span="690:9:690:18">Component</jtok>
<jtok eid="26" type="local_variable_name" span="690:19:690:23">comp</jtok>
<jtok eid="26" type="primary_name_ref" span="690:26:690:33">Globals</jtok>
<jtok eid="26" type="qualified_name_ref" span="690:34:690:47">focusListener</jtok>
<jtok eid="26" type="method_call" span="690:48:690:58">getFocused</jtok>
<jtok eid="26" type="primary_name_ref" span="691:14:691:18">comp</jtok>
<jtok eid="26" type="primary_name_ref" span="691:22:691:28">source</jtok>
<jtok eid="26" type="primary_name_ref" span="691:35:691:39">comp</jtok>
<jtok eid="26" type="class_or_interface_ref" span="691:51:691:62">FieldEditor</jtok>
<jtok eid="26" type="method_call" span="691:72:691:84">isAncestorOf</jtok>
<jtok eid="26" type="primary_name_ref" span="691:85:691:89">comp</jtok>
<jtok eid="26" type="primary_name_ref" span="692:17:692:21">comp</jtok>
<jtok eid="26" type="class_or_interface_ref" span="692:33:692:44">FieldEditor</jtok>
<jtok eid="26" type="class_or_interface_ref" span="693:19:693:30">FieldEditor</jtok>
<jtok eid="26" type="primary_name_ref" span="693:31:693:35">comp</jtok>
<jtok eid="26" type="method_call" span="693:37:693:64">clearAutoCompleteSuggestion</jtok>
<jtok eid="26" type="primary_name_ref" span="694:13:694:29">storeFieldAction</jtok>
<jtok eid="26" type="method_call" span="694:30:694:45">actionPerformed</jtok>
<jtok eid="26" type="constructor_call" span="694:50:694:61">ActionEvent</jtok>
<jtok eid="26" type="primary_name_ref" span="694:62:694:66">comp</jtok>
<jtok eid="26" type="string_literal" span="694:71:694:73">""</jtok>
<jtok eid="1" type="block_comment" span="698:5:702:8">/**
     * Returns the index of the active (visible) panel.
     * 
     * @return an &lt;code&gt;int&lt;/code&gt; value
     */</jtok>
<jtok eid="27" type="method_name" span="703:16:703:31">getVisiblePanel</jtok>
<jtok eid="27" type="primary_name_ref" span="704:16:704:22">tabbed</jtok>
<jtok eid="27" type="method_call" span="704:23:704:39">getSelectedIndex</jtok>
<jtok eid="1" type="block_comment" span="707:5:707:65">/** Returns the name of the currently selected component. */</jtok>
<jtok eid="28" type="class_or_interface_ref" span="708:12:708:18">String</jtok>
<jtok eid="28" type="method_name" span="708:19:708:38">getVisiblePanelName</jtok>
<jtok eid="28" type="primary_name_ref" span="709:16:709:22">tabbed</jtok>
<jtok eid="28" type="method_call" span="709:23:709:43">getSelectedComponent</jtok>
<jtok eid="28" type="method_call" span="709:46:709:53">getName</jtok>
<jtok eid="1" type="block_comment" span="712:5:717:8">/**
     * Sets the panel with the given index visible.
     * 
     * @param i
     *            an &lt;code&gt;int&lt;/code&gt; value
     */</jtok>
<jtok eid="29" type="method_name" span="718:17:718:32">setVisiblePanel</jtok>
<jtok eid="29" type="parameter_name" span="718:37:718:38">i</jtok>
<jtok eid="29" type="primary_name_ref" span="719:9:719:15">tabbed</jtok>
<jtok eid="29" type="method_call" span="719:16:719:32">setSelectedIndex</jtok>
<jtok eid="29" type="primary_name_ref" span="719:33:719:37">Math</jtok>
<jtok eid="29" type="method_call" span="719:38:719:41">min</jtok>
<jtok eid="29" type="primary_name_ref" span="719:42:719:43">i</jtok>
<jtok eid="29" type="primary_name_ref" span="719:45:719:51">tabbed</jtok>
<jtok eid="29" type="method_call" span="719:52:719:63">getTabCount</jtok>
<jtok eid="30" type="method_name" span="722:17:722:32">setVisiblePanel</jtok>
<jtok eid="30" type="parameter_type" span="722:33:722:39">String</jtok>
<jtok eid="30" type="parameter_name" span="722:40:722:44">name</jtok>
<jtok eid="30" type="local_variable_name" span="723:18:723:19">i</jtok>
<jtok eid="30" type="primary_name_ref" span="723:25:723:26">i</jtok>
<jtok eid="30" type="primary_name_ref" span="723:29:723:35">tabbed</jtok>
<jtok eid="30" type="method_call" span="723:36:723:47">getTabCount</jtok>
<jtok eid="30" type="primary_name_ref" span="723:53:723:54">i</jtok>
<jtok eid="30" type="primary_name_ref" span="724:17:724:21">name</jtok>
<jtok eid="30" type="method_call" span="724:22:724:28">equals</jtok>
<jtok eid="30" type="primary_name_ref" span="724:29:724:35">tabbed</jtok>
<jtok eid="30" type="method_call" span="724:36:724:48">getComponent</jtok>
<jtok eid="30" type="primary_name_ref" span="724:49:724:50">i</jtok>
<jtok eid="30" type="method_call" span="724:52:724:59">getName</jtok>
<jtok eid="30" type="primary_name_ref" span="725:17:725:23">tabbed</jtok>
<jtok eid="30" type="method_call" span="725:24:725:40">setSelectedIndex</jtok>
<jtok eid="30" type="primary_name_ref" span="725:41:725:42">i</jtok>
<jtok eid="30" type="primary_name_ref" span="729:13:729:19">tabbed</jtok>
<jtok eid="30" type="method_call" span="729:20:729:31">getTabCount</jtok>
<jtok eid="30" type="primary_name_ref" span="730:13:730:19">tabbed</jtok>
<jtok eid="30" type="method_call" span="730:20:730:36">setSelectedIndex</jtok>
<jtok eid="1" type="block_comment" span="733:5:739:8">/**
     * Updates this editor to show the given entry, regardless of type
     * correspondence.
     * 
     * @param be
     *            a &lt;code&gt;BibtexEntry&lt;/code&gt; value
     */</jtok>
<jtok eid="31" type="method_name" span="740:30:740:38">switchTo</jtok>
<jtok eid="31" type="parameter_type" span="740:39:740:50">BibtexEntry</jtok>
<jtok eid="31" type="parameter_name" span="740:51:740:53">be</jtok>
<jtok eid="31" type="primary_name_ref" span="741:13:741:18">entry</jtok>
<jtok eid="31" type="primary_name_ref" span="741:22:741:24">be</jtok>
<jtok eid="31" type="method_call" span="744:9:744:25">storeCurrentEdit</jtok>
<jtok eid="31" type="line_comment" span="746:9:746:68">// Remove this instance as property listener for the entry:</jtok>
<jtok eid="31" type="primary_name_ref" span="747:9:747:14">entry</jtok>
<jtok eid="31" type="method_call" span="747:15:747:43">removePropertyChangeListener</jtok>
<jtok eid="31" type="line_comment" span="749:9:749:60">// Register as property listener for the new entry:</jtok>
<jtok eid="31" type="primary_name_ref" span="750:9:750:11">be</jtok>
<jtok eid="31" type="method_call" span="750:12:750:37">addPropertyChangeListener</jtok>
<jtok eid="31" type="primary_name_ref" span="752:9:752:14">entry</jtok>
<jtok eid="31" type="primary_name_ref" span="752:17:752:19">be</jtok>
<jtok eid="31" type="method_call" span="754:9:754:24">updateAllFields</jtok>
<jtok eid="31" type="method_call" span="755:9:755:26">validateAllFields</jtok>
<jtok eid="31" type="method_call" span="756:9:756:21">updateSource</jtok>
<jtok eid="31" type="primary_name_ref" span="757:9:757:14">panel</jtok>
<jtok eid="31" type="method_call" span="757:15:757:30">newEntryShowing</jtok>
<jtok eid="31" type="primary_name_ref" span="757:31:757:33">be</jtok>
<jtok eid="1" type="block_comment" span="761:5:764:8">/**
     * Returns false if the contents of the source panel has not been validated,
     * true othervise.
     */</jtok>
<jtok eid="32" type="method_name" span="765:20:765:38">lastSourceAccepted</jtok>
<jtok eid="32" type="primary_name_ref" span="766:13:766:19">tabbed</jtok>
<jtok eid="32" type="method_call" span="766:20:766:40">getSelectedComponent</jtok>
<jtok eid="32" type="primary_name_ref" span="766:46:766:54">srcPanel</jtok>
<jtok eid="32" type="method_call" span="767:13:767:24">storeSource</jtok>
<jtok eid="32" type="primary_name_ref" span="769:16:769:34">lastSourceAccepted</jtok>
<jtok eid="1" type="block_comment" span="772:5:775:8">/*
     * public boolean storeSourceIfNeeded() { if (tabbed.getSelectedIndex() ==
     * sourceIndex) return storeSource(); else return true; }
     */</jtok>
<jtok eid="33" type="method_name" span="776:20:776:31">storeSource</jtok>
<jtok eid="33" type="parameter_name" span="776:40:776:49">showError</jtok>
<jtok eid="33" type="line_comment" span="777:9:777:37">// Store edited bibtex code.</jtok>
<jtok eid="33" type="class_or_interface_ref" span="778:9:778:21">BibtexParser</jtok>
<jtok eid="33" type="local_variable_name" span="778:22:778:24">bp</jtok>
<jtok eid="33" type="constructor_call" span="778:31:778:43">BibtexParser</jtok>
<jtok eid="33" type="constructor_call" span="778:48:778:52">java</jtok>
<jtok eid="33" type="constructor_call" span="778:53:778:55">io</jtok>
<jtok eid="33" type="constructor_call" span="778:56:778:68">StringReader</jtok>
<jtok eid="33" type="primary_name_ref" span="778:69:778:75">source</jtok>
<jtok eid="33" type="method_call" span="778:76:778:83">getText</jtok>
<jtok eid="33" type="class_or_interface_ref" span="781:13:781:27">BibtexDatabase</jtok>
<jtok eid="33" type="local_variable_name" span="781:28:781:30">db</jtok>
<jtok eid="33" type="primary_name_ref" span="781:33:781:35">bp</jtok>
<jtok eid="33" type="method_call" span="781:36:781:41">parse</jtok>
<jtok eid="33" type="method_call" span="781:44:781:55">getDatabase</jtok>
<jtok eid="33" type="primary_name_ref" span="783:17:783:19">db</jtok>
<jtok eid="33" type="method_call" span="783:20:783:33">getEntryCount</jtok>
<jtok eid="33" type="constructor_call" span="784:27:784:36">Exception</jtok>
<jtok eid="33" type="string_literal" span="784:37:784:65">"More than one entry found."</jtok>
<jtok eid="33" type="primary_name_ref" span="786:17:786:19">db</jtok>
<jtok eid="33" type="method_call" span="786:20:786:33">getEntryCount</jtok>
<jtok eid="33" type="constructor_call" span="787:27:787:36">Exception</jtok>
<jtok eid="33" type="string_literal" span="787:37:787:56">"No entries found."</jtok>
<jtok eid="33" type="class_or_interface_ref" span="789:13:789:26">NamedCompound</jtok>
<jtok eid="33" type="local_variable_name" span="789:27:789:35">compound</jtok>
<jtok eid="33" type="constructor_call" span="789:42:789:55">NamedCompound</jtok>
<jtok eid="33" type="primary_name_ref" span="789:56:789:63">Globals</jtok>
<jtok eid="33" type="method_call" span="789:64:789:68">lang</jtok>
<jtok eid="33" type="string_literal" span="789:69:789:82">"source edit"</jtok>
<jtok eid="33" type="class_or_interface_ref" span="790:13:790:24">BibtexEntry</jtok>
<jtok eid="33" type="local_variable_name" span="790:25:790:27">nu</jtok>
<jtok eid="33" type="primary_name_ref" span="790:30:790:32">db</jtok>
<jtok eid="33" type="method_call" span="790:33:790:45">getEntryById</jtok>
<jtok eid="33" type="primary_name_ref" span="790:46:790:48">db</jtok>
<jtok eid="33" type="method_call" span="790:49:790:58">getKeySet</jtok>
<jtok eid="33" type="method_call" span="790:61:790:69">iterator</jtok>
<jtok eid="33" type="method_call" span="790:72:790:76">next</jtok>
<jtok eid="33" type="class_or_interface_ref" span="791:13:791:19">String</jtok>
<jtok eid="33" type="local_variable_name" span="791:20:791:22">id</jtok>
<jtok eid="33" type="primary_name_ref" span="791:25:791:30">entry</jtok>
<jtok eid="33" type="method_call" span="791:31:791:36">getId</jtok>
<jtok eid="33" type="class_or_interface_ref" span="792:13:792:19">String</jtok>
<jtok eid="33" type="line_comment" span="793:13:793:44">// oldKey = entry.getCiteKey(),</jtok>
<jtok eid="33" type="local_variable_name" span="794:13:794:19">newKey</jtok>
<jtok eid="33" type="primary_name_ref" span="794:22:794:24">nu</jtok>
<jtok eid="33" type="method_call" span="794:25:794:35">getCiteKey</jtok>
<jtok eid="33" type="local_variable_name" span="795:21:795:31">anyChanged</jtok>
<jtok eid="33" type="local_variable_name" span="796:21:796:32">changedType</jtok>
<jtok eid="33" type="local_variable_name" span="797:21:797:37">duplicateWarning</jtok>
<jtok eid="33" type="local_variable_name" span="798:21:798:33">emptyWarning</jtok>
<jtok eid="33" type="primary_name_ref" span="798:36:798:42">newKey</jtok>
<jtok eid="33" type="primary_name_ref" span="798:54:798:60">newKey</jtok>
<jtok eid="33" type="method_call" span="798:61:798:67">equals</jtok>
<jtok eid="33" type="string_literal" span="798:68:798:70">""</jtok>
<jtok eid="33" type="primary_name_ref" span="800:17:800:22">panel</jtok>
<jtok eid="33" type="qualified_name_ref" span="800:23:800:31">database</jtok>
<jtok eid="33" type="method_call" span="800:32:800:50">setCiteKeyForEntry</jtok>
<jtok eid="33" type="primary_name_ref" span="800:51:800:53">id</jtok>
<jtok eid="33" type="primary_name_ref" span="800:55:800:61">newKey</jtok>
<jtok eid="33" type="primary_name_ref" span="801:17:801:33">duplicateWarning</jtok>
<jtok eid="33" type="line_comment" span="803:17:803:68">// First, remove fields that the user have removed.</jtok>
<jtok eid="33" type="class_or_interface_ref" span="806:18:806:24">String</jtok>
<jtok eid="33" type="local_variable_name" span="806:25:806:30">field</jtok>
<jtok eid="33" type="primary_name_ref" span="806:33:806:38">entry</jtok>
<jtok eid="33" type="method_call" span="806:39:806:51">getAllFields</jtok>
<jtok eid="33" type="primary_name_ref" span="807:21:807:33">BibtexFields</jtok>
<jtok eid="33" type="method_call" span="807:34:807:52">isDisplayableField</jtok>
<jtok eid="33" type="primary_name_ref" span="807:53:807:58">field</jtok>
<jtok eid="33" type="method_call" span="807:59:807:67">toString</jtok>
<jtok eid="33" type="primary_name_ref" span="808:25:808:27">nu</jtok>
<jtok eid="33" type="method_call" span="808:28:808:36">getField</jtok>
<jtok eid="33" type="primary_name_ref" span="808:37:808:42">field</jtok>
<jtok eid="33" type="method_call" span="808:43:808:51">toString</jtok>
<jtok eid="33" type="primary_name_ref" span="809:25:809:33">compound</jtok>
<jtok eid="33" type="method_call" span="809:34:809:41">addEdit</jtok>
<jtok eid="33" type="constructor_call" span="809:46:809:65">UndoableFieldChange</jtok>
<jtok eid="33" type="primary_name_ref" span="809:66:809:71">entry</jtok>
<jtok eid="33" type="primary_name_ref" span="809:73:809:78">field</jtok>
<jtok eid="33" type="method_call" span="809:79:809:87">toString</jtok>
<jtok eid="33" type="primary_name_ref" span="809:91:809:96">entry</jtok>
<jtok eid="33" type="method_call" span="810:30:810:38">getField</jtok>
<jtok eid="33" type="primary_name_ref" span="810:39:810:44">field</jtok>
<jtok eid="33" type="method_call" span="810:45:810:53">toString</jtok>
<jtok eid="33" type="primary_name_ref" span="811:25:811:30">entry</jtok>
<jtok eid="33" type="method_call" span="811:31:811:41">clearField</jtok>
<jtok eid="33" type="primary_name_ref" span="811:42:811:47">field</jtok>
<jtok eid="33" type="method_call" span="811:48:811:56">toString</jtok>
<jtok eid="33" type="primary_name_ref" span="812:25:812:35">anyChanged</jtok>
<jtok eid="33" type="line_comment" span="817:13:817:67">// Then set all fields that have been set by the user.</jtok>
<jtok eid="33" type="class_or_interface_ref" span="818:18:818:24">String</jtok>
<jtok eid="33" type="local_variable_name" span="818:25:818:30">field</jtok>
<jtok eid="33" type="primary_name_ref" span="818:33:818:35">nu</jtok>
<jtok eid="33" type="method_call" span="818:36:818:48">getAllFields</jtok>
<jtok eid="33" type="primary_name_ref" span="819:21:819:26">entry</jtok>
<jtok eid="33" type="method_call" span="819:27:819:35">getField</jtok>
<jtok eid="33" type="primary_name_ref" span="819:36:819:41">field</jtok>
<jtok eid="33" type="method_call" span="819:42:819:50">toString</jtok>
<jtok eid="33" type="primary_name_ref" span="819:57:819:59">nu</jtok>
<jtok eid="33" type="method_call" span="819:60:819:68">getField</jtok>
<jtok eid="33" type="primary_name_ref" span="819:69:819:74">field</jtok>
<jtok eid="33" type="method_call" span="819:75:819:83">toString</jtok>
<jtok eid="33" type="class_or_interface_ref" span="820:21:820:27">String</jtok>
<jtok eid="33" type="local_variable_name" span="820:28:820:33">toSet</jtok>
<jtok eid="33" type="primary_name_ref" span="820:36:820:38">nu</jtok>
<jtok eid="33" type="method_call" span="820:39:820:47">getField</jtok>
<jtok eid="33" type="primary_name_ref" span="820:48:820:53">field</jtok>
<jtok eid="33" type="method_call" span="820:54:820:62">toString</jtok>
<jtok eid="33" type="line_comment" span="822:21:822:57">// Test if the field is legally set.</jtok>
<jtok eid="33" type="constructor_call" span="823:26:823:45">LatexFieldFormatter</jtok>
<jtok eid="33" type="method_call" span="823:49:823:55">format</jtok>
<jtok eid="33" type="primary_name_ref" span="823:56:823:61">toSet</jtok>
<jtok eid="33" type="primary_name_ref" span="823:63:823:68">field</jtok>
<jtok eid="33" type="method_call" span="823:69:823:77">toString</jtok>
<jtok eid="33" type="primary_name_ref" span="825:21:825:29">compound</jtok>
<jtok eid="33" type="method_call" span="825:30:825:37">addEdit</jtok>
<jtok eid="33" type="constructor_call" span="825:42:825:61">UndoableFieldChange</jtok>
<jtok eid="33" type="primary_name_ref" span="825:62:825:67">entry</jtok>
<jtok eid="33" type="primary_name_ref" span="825:69:825:74">field</jtok>
<jtok eid="33" type="method_call" span="825:75:825:83">toString</jtok>
<jtok eid="33" type="primary_name_ref" span="825:87:825:92">entry</jtok>
<jtok eid="33" type="method_call" span="826:26:826:34">getField</jtok>
<jtok eid="33" type="primary_name_ref" span="826:35:826:40">field</jtok>
<jtok eid="33" type="method_call" span="826:41:826:49">toString</jtok>
<jtok eid="33" type="primary_name_ref" span="826:54:826:59">toSet</jtok>
<jtok eid="33" type="primary_name_ref" span="827:21:827:26">entry</jtok>
<jtok eid="33" type="method_call" span="827:27:827:35">setField</jtok>
<jtok eid="33" type="primary_name_ref" span="827:36:827:41">field</jtok>
<jtok eid="33" type="method_call" span="827:42:827:50">toString</jtok>
<jtok eid="33" type="primary_name_ref" span="827:54:827:59">toSet</jtok>
<jtok eid="33" type="primary_name_ref" span="828:21:828:31">anyChanged</jtok>
<jtok eid="33" type="line_comment" span="832:13:832:59">// See if the user has changed the entry type:</jtok>
<jtok eid="33" type="primary_name_ref" span="833:17:833:19">nu</jtok>
<jtok eid="33" type="method_call" span="833:20:833:27">getType</jtok>
<jtok eid="33" type="primary_name_ref" span="833:33:833:38">entry</jtok>
<jtok eid="33" type="method_call" span="833:39:833:46">getType</jtok>
<jtok eid="33" type="primary_name_ref" span="834:17:834:25">compound</jtok>
<jtok eid="33" type="method_call" span="834:26:834:33">addEdit</jtok>
<jtok eid="33" type="constructor_call" span="834:38:834:56">UndoableChangeType</jtok>
<jtok eid="33" type="primary_name_ref" span="834:57:834:62">entry</jtok>
<jtok eid="33" type="primary_name_ref" span="835:23:835:28">entry</jtok>
<jtok eid="33" type="method_call" span="835:29:835:36">getType</jtok>
<jtok eid="33" type="primary_name_ref" span="835:40:835:42">nu</jtok>
<jtok eid="33" type="method_call" span="835:43:835:50">getType</jtok>
<jtok eid="33" type="primary_name_ref" span="836:17:836:22">entry</jtok>
<jtok eid="33" type="method_call" span="836:23:836:30">setType</jtok>
<jtok eid="33" type="primary_name_ref" span="836:31:836:33">nu</jtok>
<jtok eid="33" type="method_call" span="836:34:836:41">getType</jtok>
<jtok eid="33" type="primary_name_ref" span="837:17:837:27">anyChanged</jtok>
<jtok eid="33" type="primary_name_ref" span="838:17:838:28">changedType</jtok>
<jtok eid="33" type="primary_name_ref" span="840:13:840:21">compound</jtok>
<jtok eid="33" type="method_call" span="840:22:840:25">end</jtok>
<jtok eid="33" type="primary_name_ref" span="842:18:842:28">anyChanged</jtok>
<jtok eid="33" type="primary_name_ref" span="845:13:845:18">panel</jtok>
<jtok eid="33" type="qualified_name_ref" span="845:19:845:30">undoManager</jtok>
<jtok eid="33" type="method_call" span="845:31:845:38">addEdit</jtok>
<jtok eid="33" type="primary_name_ref" span="845:39:845:47">compound</jtok>
<jtok eid="33" type="block_comment" span="847:13:851:16">/*
             * if (((oldKey == null) &amp;&amp; (newKey != null)) || ((oldKey != null) &amp;&amp;
             * (newKey == null)) || ((oldKey != null) &amp;&amp; (newKey != null) &amp;&amp;
             * !oldKey.equals(newKey))) { }
             */</jtok>
<jtok eid="33" type="primary_name_ref" span="852:17:852:33">duplicateWarning</jtok>
<jtok eid="33" type="method_call" span="853:17:853:39">warnDuplicateBibtexkey</jtok>
<jtok eid="33" type="primary_name_ref" span="854:24:854:36">emptyWarning</jtok>
<jtok eid="33" type="primary_name_ref" span="854:40:854:49">showError</jtok>
<jtok eid="33" type="method_call" span="855:17:855:35">warnEmptyBibtexkey</jtok>
<jtok eid="33" type="primary_name_ref" span="857:17:857:22">panel</jtok>
<jtok eid="33" type="method_call" span="857:23:857:29">output</jtok>
<jtok eid="33" type="primary_name_ref" span="857:30:857:37">Globals</jtok>
<jtok eid="33" type="method_call" span="857:38:857:42">lang</jtok>
<jtok eid="33" type="string_literal" span="857:43:857:57">"Stored entry"</jtok>
<jtok eid="33" type="string_literal" span="857:61:857:64">"."</jtok>
<jtok eid="33" type="primary_name_ref" span="860:13:860:37">lastSourceStringAccepted</jtok>
<jtok eid="33" type="primary_name_ref" span="860:40:860:46">source</jtok>
<jtok eid="33" type="method_call" span="860:47:860:54">getText</jtok>
<jtok eid="33" type="primary_name_ref" span="861:18:861:29">changedType</jtok>
<jtok eid="33" type="method_call" span="862:17:862:32">updateAllFields</jtok>
<jtok eid="33" type="primary_name_ref" span="863:17:863:35">lastSourceAccepted</jtok>
<jtok eid="33" type="primary_name_ref" span="864:17:864:29">updateSource</jtok>
<jtok eid="33" type="primary_name_ref" span="867:17:867:22">panel</jtok>
<jtok eid="33" type="method_call" span="867:23:867:49">updateEntryEditorIfShowing</jtok>
<jtok eid="33" type="line_comment" span="869:13:869:70">// TODO: does updating work properly after source stored?</jtok>
<jtok eid="33" type="line_comment" span="870:13:870:41">// panel.tableModel.remap();</jtok>
<jtok eid="33" type="line_comment" span="871:13:871:43">// panel.entryTable.repaint();</jtok>
<jtok eid="33" type="line_comment" span="872:13:872:37">// panel.refreshTable();</jtok>
<jtok eid="33" type="primary_name_ref" span="873:13:873:18">panel</jtok>
<jtok eid="33" type="method_call" span="873:19:873:34">markBaseChanged</jtok>
<jtok eid="33" type="line_comment" span="874:1:874:56">///////////////////////////////////////////////////////</jtok>
<jtok eid="33" type="primary_name_ref" span="875:13:875:27">SwingUtilities</jtok>
<jtok eid="33" type="method_call" span="875:28:875:39">invokeLater</jtok>
<jtok eid="33" type="constructor_call" span="875:44:875:52">Runnable</jtok>
<jtok eid="35" type="method_name" span="876:29:876:32">run</jtok>
<jtok eid="35" type="local_variable_name" span="877:31:877:34">row</jtok>
<jtok eid="35" type="primary_name_ref" span="877:37:877:42">panel</jtok>
<jtok eid="35" type="qualified_name_ref" span="877:43:877:52">mainTable</jtok>
<jtok eid="35" type="method_call" span="877:53:877:62">findEntry</jtok>
<jtok eid="35" type="primary_name_ref" span="877:63:877:68">entry</jtok>
<jtok eid="35" type="primary_name_ref" span="878:25:878:28">row</jtok>
<jtok eid="35" type="line_comment" span="879:25:879:74">//if (panel.mainTable.getSelectedRowCount() == 0)</jtok>
<jtok eid="35" type="line_comment" span="880:25:880:81">//    panel.mainTable.setRowSelectionInterval(row, row);</jtok>
<jtok eid="35" type="line_comment" span="881:25:881:41">//scrollTo(row);</jtok>
<jtok eid="35" type="primary_name_ref" span="882:25:882:30">panel</jtok>
<jtok eid="35" type="qualified_name_ref" span="882:31:882:40">mainTable</jtok>
<jtok eid="35" type="method_call" span="882:41:882:54">ensureVisible</jtok>
<jtok eid="35" type="primary_name_ref" span="882:55:882:58">row</jtok>
<jtok eid="33" type="class_or_interface_ref" span="888:18:888:27">Throwable</jtok>
<jtok eid="33" type="local_variable_name" span="888:28:888:30">ex</jtok>
<jtok eid="33" type="line_comment" span="889:13:889:37">// ex.printStackTrace();</jtok>
<jtok eid="33" type="line_comment" span="890:13:890:70">// The source couldn't be parsed, so the user is given an</jtok>
<jtok eid="33" type="line_comment" span="891:13:891:76">// error message, and the choice to keep or revert the contents</jtok>
<jtok eid="33" type="line_comment" span="892:13:892:41">// of the source text field.</jtok>
<jtok eid="33" type="primary_name_ref" span="893:13:893:25">updateSource</jtok>
<jtok eid="33" type="primary_name_ref" span="894:13:894:31">lastSourceAccepted</jtok>
<jtok eid="33" type="primary_name_ref" span="895:13:895:19">tabbed</jtok>
<jtok eid="33" type="method_call" span="895:20:895:40">setSelectedComponent</jtok>
<jtok eid="33" type="primary_name_ref" span="895:41:895:49">srcPanel</jtok>
<jtok eid="33" type="primary_name_ref" span="897:17:897:26">showError</jtok>
<jtok eid="33" type="class_or_interface_ref" span="898:17:898:23">Object</jtok>
<jtok eid="33" type="local_variable_name" span="898:26:898:33">options</jtok>
<jtok eid="33" type="primary_name_ref" span="898:38:898:45">Globals</jtok>
<jtok eid="33" type="method_call" span="898:46:898:50">lang</jtok>
<jtok eid="33" type="string_literal" span="898:51:898:57">"Edit"</jtok>
<jtok eid="33" type="primary_name_ref" span="899:21:899:28">Globals</jtok>
<jtok eid="33" type="method_call" span="899:29:899:33">lang</jtok>
<jtok eid="33" type="string_literal" span="899:34:899:61">"Revert to original source"</jtok>
<jtok eid="33" type="local_variable_name" span="901:21:901:27">answer</jtok>
<jtok eid="33" type="primary_name_ref" span="901:30:901:41">JOptionPane</jtok>
<jtok eid="33" type="method_call" span="901:42:901:58">showOptionDialog</jtok>
<jtok eid="33" type="primary_name_ref" span="901:59:901:64">frame</jtok>
<jtok eid="33" type="primary_name_ref" span="901:66:901:73">Globals</jtok>
<jtok eid="33" type="method_call" span="901:74:901:78">lang</jtok>
<jtok eid="33" type="string_literal" span="901:79:901:86">"Error"</jtok>
<jtok eid="33" type="string_literal" span="901:90:901:94">": "</jtok>
<jtok eid="33" type="primary_name_ref" span="901:97:901:99">ex</jtok>
<jtok eid="33" type="method_call" span="901:100:901:110">getMessage</jtok>
<jtok eid="33" type="primary_name_ref" span="902:21:902:28">Globals</jtok>
<jtok eid="33" type="method_call" span="902:29:902:33">lang</jtok>
<jtok eid="33" type="string_literal" span="902:34:902:62">"Problem with parsing entry"</jtok>
<jtok eid="33" type="primary_name_ref" span="902:65:902:76">JOptionPane</jtok>
<jtok eid="33" type="qualified_name_ref" span="902:77:902:90">YES_NO_OPTION</jtok>
<jtok eid="33" type="primary_name_ref" span="903:21:903:32">JOptionPane</jtok>
<jtok eid="33" type="qualified_name_ref" span="903:33:903:46">ERROR_MESSAGE</jtok>
<jtok eid="33" type="primary_name_ref" span="903:54:903:61">options</jtok>
<jtok eid="33" type="primary_name_ref" span="903:63:903:70">options</jtok>
<jtok eid="33" type="primary_name_ref" span="905:21:905:27">answer</jtok>
<jtok eid="33" type="primary_name_ref" span="906:21:906:33">updateSource</jtok>
<jtok eid="33" type="method_call" span="907:21:907:33">updateSource</jtok>
<jtok eid="36" type="method_name" span="915:17:915:25">setField</jtok>
<jtok eid="36" type="parameter_type" span="915:26:915:32">String</jtok>
<jtok eid="36" type="parameter_name" span="915:33:915:42">fieldName</jtok>
<jtok eid="36" type="parameter_type" span="915:44:915:50">String</jtok>
<jtok eid="36" type="parameter_name" span="915:51:915:63">newFieldData</jtok>
<jtok eid="36" type="class_or_interface_ref" span="917:14:917:22">Iterator</jtok>
<jtok eid="36" type="class_or_interface_ref" span="917:23:917:29">Object</jtok>
<jtok eid="36" type="local_variable_name" span="917:31:917:32">i</jtok>
<jtok eid="36" type="primary_name_ref" span="917:35:917:39">tabs</jtok>
<jtok eid="36" type="method_call" span="917:40:917:48">iterator</jtok>
<jtok eid="36" type="primary_name_ref" span="917:52:917:53">i</jtok>
<jtok eid="36" type="method_call" span="917:54:917:61">hasNext</jtok>
<jtok eid="36" type="class_or_interface_ref" span="918:13:918:19">Object</jtok>
<jtok eid="36" type="local_variable_name" span="918:20:918:21">o</jtok>
<jtok eid="36" type="primary_name_ref" span="918:24:918:25">i</jtok>
<jtok eid="36" type="method_call" span="918:26:918:30">next</jtok>
<jtok eid="36" type="primary_name_ref" span="919:17:919:18">o</jtok>
<jtok eid="36" type="class_or_interface_ref" span="919:30:919:44">EntryEditorTab</jtok>
<jtok eid="36" type="class_or_interface_ref" span="920:19:920:33">EntryEditorTab</jtok>
<jtok eid="36" type="primary_name_ref" span="920:35:920:36">o</jtok>
<jtok eid="36" type="method_call" span="920:38:920:49">updateField</jtok>
<jtok eid="36" type="primary_name_ref" span="920:50:920:59">fieldName</jtok>
<jtok eid="36" type="primary_name_ref" span="920:61:920:73">newFieldData</jtok>
<jtok eid="1" type="block_comment" span="926:5:928:8">/**
     * Sets all the text areas according to the shown entry.
     */</jtok>
<jtok eid="37" type="method_name" span="929:17:929:32">updateAllFields</jtok>
<jtok eid="37" type="class_or_interface_ref" span="930:14:930:22">Iterator</jtok>
<jtok eid="37" type="class_or_interface_ref" span="930:23:930:29">Object</jtok>
<jtok eid="37" type="local_variable_name" span="930:31:930:32">i</jtok>
<jtok eid="37" type="primary_name_ref" span="930:35:930:39">tabs</jtok>
<jtok eid="37" type="method_call" span="930:40:930:48">iterator</jtok>
<jtok eid="37" type="primary_name_ref" span="930:52:930:53">i</jtok>
<jtok eid="37" type="method_call" span="930:54:930:61">hasNext</jtok>
<jtok eid="37" type="class_or_interface_ref" span="931:13:931:19">Object</jtok>
<jtok eid="37" type="local_variable_name" span="931:20:931:21">o</jtok>
<jtok eid="37" type="primary_name_ref" span="931:24:931:25">i</jtok>
<jtok eid="37" type="method_call" span="931:26:931:30">next</jtok>
<jtok eid="37" type="primary_name_ref" span="932:17:932:18">o</jtok>
<jtok eid="37" type="class_or_interface_ref" span="932:30:932:44">EntryEditorTab</jtok>
<jtok eid="37" type="class_or_interface_ref" span="933:19:933:33">EntryEditorTab</jtok>
<jtok eid="37" type="primary_name_ref" span="933:35:933:36">o</jtok>
<jtok eid="37" type="method_call" span="933:38:933:46">setEntry</jtok>
<jtok eid="37" type="primary_name_ref" span="933:47:933:52">entry</jtok>
<jtok eid="1" type="block_comment" span="938:5:940:8">/**
     * Removes the "invalid field" color from all text areas.
     */</jtok>
<jtok eid="38" type="method_name" span="941:17:941:34">validateAllFields</jtok>
<jtok eid="38" type="class_or_interface_ref" span="942:14:942:22">Iterator</jtok>
<jtok eid="38" type="class_or_interface_ref" span="942:23:942:29">Object</jtok>
<jtok eid="38" type="local_variable_name" span="942:31:942:32">i</jtok>
<jtok eid="38" type="primary_name_ref" span="942:35:942:39">tabs</jtok>
<jtok eid="38" type="method_call" span="942:40:942:48">iterator</jtok>
<jtok eid="38" type="primary_name_ref" span="942:52:942:53">i</jtok>
<jtok eid="38" type="method_call" span="942:54:942:61">hasNext</jtok>
<jtok eid="38" type="class_or_interface_ref" span="943:13:943:19">Object</jtok>
<jtok eid="38" type="local_variable_name" span="943:20:943:21">o</jtok>
<jtok eid="38" type="primary_name_ref" span="943:24:943:25">i</jtok>
<jtok eid="38" type="method_call" span="943:26:943:30">next</jtok>
<jtok eid="38" type="primary_name_ref" span="944:17:944:18">o</jtok>
<jtok eid="38" type="class_or_interface_ref" span="944:30:944:44">EntryEditorTab</jtok>
<jtok eid="38" type="class_or_interface_ref" span="945:19:945:33">EntryEditorTab</jtok>
<jtok eid="38" type="primary_name_ref" span="945:35:945:36">o</jtok>
<jtok eid="38" type="method_call" span="945:38:945:55">validateAllFields</jtok>
<jtok eid="39" type="method_name" span="950:17:950:42">updateAllContentSelectors</jtok>
<jtok eid="39" type="primary_name_ref" span="951:13:951:29">contentSelectors</jtok>
<jtok eid="39" type="method_call" span="951:30:951:34">size</jtok>
<jtok eid="39" type="class_or_interface_ref" span="952:18:952:26">Iterator</jtok>
<jtok eid="39" type="class_or_interface_ref" span="952:27:952:47">FieldContentSelector</jtok>
<jtok eid="39" type="local_variable_name" span="952:49:952:50">i</jtok>
<jtok eid="39" type="primary_name_ref" span="952:53:952:69">contentSelectors</jtok>
<jtok eid="39" type="method_call" span="952:70:952:78">iterator</jtok>
<jtok eid="39" type="primary_name_ref" span="952:82:952:83">i</jtok>
<jtok eid="39" type="method_call" span="952:84:952:91">hasNext</jtok>
<jtok eid="39" type="primary_name_ref" span="953:17:953:18">i</jtok>
<jtok eid="39" type="method_call" span="953:19:953:23">next</jtok>
<jtok eid="39" type="method_call" span="953:26:953:41">rebuildComboBox</jtok>
<jtok eid="1" type="block_comment" span="957:5:963:8">/*
     * Update the JTextArea when a field has changed.
     * 
     * (non-Javadoc)
     * 
     * @see java.beans.VetoableChangeListener#vetoableChange(java.beans.PropertyChangeEvent)
     */</jtok>
<jtok eid="40" type="method_name" span="964:17:964:31">vetoableChange</jtok>
<jtok eid="40" type="parameter_type" span="964:32:964:51">PropertyChangeEvent</jtok>
<jtok eid="40" type="parameter_name" span="964:52:964:53">e</jtok>
<jtok eid="40" type="class_or_interface_ref" span="965:9:965:15">String</jtok>
<jtok eid="40" type="local_variable_name" span="965:16:965:24">newValue</jtok>
<jtok eid="40" type="primary_name_ref" span="965:29:965:30">e</jtok>
<jtok eid="40" type="method_call" span="965:31:965:42">getNewValue</jtok>
<jtok eid="40" type="primary_name_ref" span="965:56:965:57">e</jtok>
<jtok eid="40" type="method_call" span="965:58:965:69">getNewValue</jtok>
<jtok eid="40" type="method_call" span="965:72:965:80">toString</jtok>
<jtok eid="40" type="string_literal" span="965:85:965:87">""</jtok>
<jtok eid="40" type="method_call" span="966:9:966:17">setField</jtok>
<jtok eid="40" type="primary_name_ref" span="966:18:966:19">e</jtok>
<jtok eid="40" type="method_call" span="966:20:966:35">getPropertyName</jtok>
<jtok eid="40" type="primary_name_ref" span="966:39:966:47">newValue</jtok>
<jtok eid="41" type="method_name" span="969:17:969:28">updateField</jtok>
<jtok eid="41" type="parameter_type" span="969:35:969:41">Object</jtok>
<jtok eid="41" type="parameter_name" span="969:42:969:48">source</jtok>
<jtok eid="41" type="primary_name_ref" span="970:9:970:25">storeFieldAction</jtok>
<jtok eid="41" type="method_call" span="970:26:970:41">actionPerformed</jtok>
<jtok eid="41" type="constructor_call" span="970:46:970:57">ActionEvent</jtok>
<jtok eid="41" type="primary_name_ref" span="970:58:970:64">source</jtok>
<jtok eid="41" type="string_literal" span="970:69:970:71">""</jtok>
<jtok eid="42" type="method_name" span="974:17:974:42">setMovingToDifferentEntry</jtok>
<jtok eid="42" type="primary_name_ref" span="975:9:975:31">movingToDifferentEntry</jtok>
<jtok eid="43" type="class_name" span="978:19:978:28">TypeLabel</jtok>
<jtok eid="43" type="class_or_interface_ref" span="978:37:978:43">JLabel</jtok>
<jtok eid="44" type="method_name" span="979:16:979:25">TypeLabel</jtok>
<jtok eid="44" type="parameter_type" span="979:26:979:32">String</jtok>
<jtok eid="44" type="parameter_name" span="979:33:979:37">type</jtok>
<jtok eid="44" type="primary_name_ref" span="980:19:980:23">type</jtok>
<jtok eid="44" type="string_literal" span="980:24:980:27">" "</jtok>
<jtok eid="44" type="method_call" span="981:13:981:18">setUI</jtok>
<jtok eid="44" type="constructor_call" span="981:23:981:38">VerticalLabelUI</jtok>
<jtok eid="44" type="method_call" span="982:13:982:26">setForeground</jtok>
<jtok eid="44" type="primary_name_ref" span="982:27:982:37">GUIGlobals</jtok>
<jtok eid="44" type="qualified_name_ref" span="982:38:982:53">validFieldColor</jtok>
<jtok eid="44" type="method_call" span="983:13:983:35">setHorizontalAlignment</jtok>
<jtok eid="44" type="primary_name_ref" span="983:36:983:41">RIGHT</jtok>
<jtok eid="44" type="method_call" span="984:13:984:20">setFont</jtok>
<jtok eid="44" type="primary_name_ref" span="984:21:984:31">GUIGlobals</jtok>
<jtok eid="44" type="qualified_name_ref" span="984:32:984:44">typeNameFont</jtok>
<jtok eid="44" type="method_call" span="985:13:985:29">addMouseListener</jtok>
<jtok eid="44" type="constructor_call" span="985:34:985:46">MouseAdapter</jtok>
<jtok eid="46" type="method_name" span="986:29:986:41">mouseClicked</jtok>
<jtok eid="46" type="parameter_type" span="986:42:986:52">MouseEvent</jtok>
<jtok eid="46" type="parameter_name" span="986:53:986:54">e</jtok>
<jtok eid="46" type="local_variable_name" span="987:29:987:38">ctrlClick</jtok>
<jtok eid="46" type="primary_name_ref" span="987:41:987:46">prefs</jtok>
<jtok eid="46" type="method_call" span="987:47:987:57">getBoolean</jtok>
<jtok eid="46" type="string_literal" span="987:58:987:69">"ctrlClick"</jtok>
<jtok eid="46" type="primary_name_ref" span="989:26:989:27">e</jtok>
<jtok eid="46" type="method_call" span="989:28:989:37">getButton</jtok>
<jtok eid="46" type="primary_name_ref" span="989:43:989:53">MouseEvent</jtok>
<jtok eid="46" type="qualified_name_ref" span="989:54:989:61">BUTTON3</jtok>
<jtok eid="46" type="primary_name_ref" span="990:29:990:38">ctrlClick</jtok>
<jtok eid="46" type="primary_name_ref" span="990:43:990:44">e</jtok>
<jtok eid="46" type="method_call" span="990:45:990:54">getButton</jtok>
<jtok eid="46" type="primary_name_ref" span="990:60:990:70">MouseEvent</jtok>
<jtok eid="46" type="qualified_name_ref" span="990:71:990:78">BUTTON1</jtok>
<jtok eid="46" type="primary_name_ref" span="990:83:990:84">e</jtok>
<jtok eid="46" type="method_call" span="990:85:990:98">isControlDown</jtok>
<jtok eid="46" type="class_or_interface_ref" span="991:25:991:35">JPopupMenu</jtok>
<jtok eid="46" type="local_variable_name" span="991:36:991:44">typeMenu</jtok>
<jtok eid="46" type="constructor_call" span="991:51:991:61">JPopupMenu</jtok>
<jtok eid="46" type="line_comment" span="993:25:993:52">// typeMenu.addSeparator();</jtok>
<jtok eid="46" type="class_or_interface_ref" span="994:30:994:36">String</jtok>
<jtok eid="46" type="local_variable_name" span="994:37:994:38">s</jtok>
<jtok eid="46" type="primary_name_ref" span="994:40:994:55">BibtexEntryType</jtok>
<jtok eid="46" type="qualified_name_ref" span="994:56:994:65">ALL_TYPES</jtok>
<jtok eid="46" type="method_call" span="994:66:994:72">keySet</jtok>
<jtok eid="46" type="primary_name_ref" span="995:29:995:37">typeMenu</jtok>
<jtok eid="46" type="method_call" span="995:38:995:41">add</jtok>
<jtok eid="46" type="constructor_call" span="995:46:995:62">ChangeTypeAction</jtok>
<jtok eid="46" type="primary_name_ref" span="995:63:995:78">BibtexEntryType</jtok>
<jtok eid="46" type="method_call" span="995:79:995:86">getType</jtok>
<jtok eid="46" type="primary_name_ref" span="995:87:995:88">s</jtok>
<jtok eid="46" type="primary_name_ref" span="995:91:995:96">panel</jtok>
<jtok eid="46" type="primary_name_ref" span="997:25:997:33">typeMenu</jtok>
<jtok eid="46" type="method_call" span="997:34:997:38">show</jtok>
<jtok eid="46" type="primary_name_ref" span="997:39:997:42">ths</jtok>
<jtok eid="46" type="primary_name_ref" span="997:44:997:45">e</jtok>
<jtok eid="46" type="method_call" span="997:46:997:50">getX</jtok>
<jtok eid="46" type="primary_name_ref" span="997:54:997:55">e</jtok>
<jtok eid="46" type="method_call" span="997:56:997:60">getY</jtok>
<jtok eid="47" type="method_name" span="1003:21:1003:35">paintComponent</jtok>
<jtok eid="47" type="parameter_type" span="1003:36:1003:44">Graphics</jtok>
<jtok eid="47" type="parameter_name" span="1003:45:1003:46">g</jtok>
<jtok eid="47" type="class_or_interface_ref" span="1004:13:1004:23">Graphics2D</jtok>
<jtok eid="47" type="local_variable_name" span="1004:24:1004:26">g2</jtok>
<jtok eid="47" type="class_or_interface_ref" span="1004:30:1004:40">Graphics2D</jtok>
<jtok eid="47" type="primary_name_ref" span="1004:42:1004:43">g</jtok>
<jtok eid="47" type="line_comment" span="1005:13:1005:55">//g2.setColor(GUIGlobals.validFieldColor);</jtok>
<jtok eid="47" type="line_comment" span="1006:13:1006:51">//g2.setFont(GUIGlobals.typeNameFont);</jtok>
<jtok eid="47" type="line_comment" span="1007:13:1007:52">//FontMetrics fm = g2.getFontMetrics();</jtok>
<jtok eid="47" type="line_comment" span="1008:13:1008:49">//int width = fm.stringWidth(label);</jtok>
<jtok eid="47" type="primary_name_ref" span="1009:13:1009:15">g2</jtok>
<jtok eid="47" type="method_call" span="1009:16:1009:32">setRenderingHint</jtok>
<jtok eid="47" type="primary_name_ref" span="1009:33:1009:47">RenderingHints</jtok>
<jtok eid="47" type="qualified_name_ref" span="1009:48:1009:64">KEY_ANTIALIASING</jtok>
<jtok eid="47" type="primary_name_ref" span="1009:66:1009:80">RenderingHints</jtok>
<jtok eid="47" type="qualified_name_ref" span="1009:81:1009:99">VALUE_ANTIALIAS_ON</jtok>
<jtok eid="47" type="method_call" span="1010:19:1010:33">paintComponent</jtok>
<jtok eid="47" type="primary_name_ref" span="1010:34:1010:36">g2</jtok>
<jtok eid="47" type="line_comment" span="1011:13:1011:45">//g2.rotate(-Math.PI / 2, 0, 0);</jtok>
<jtok eid="47" type="line_comment" span="1012:13:1012:52">//g2.drawString(label, -width - 7, 28);</jtok>
<jtok eid="48" type="class_name" span="1016:11:1016:24">FieldListener</jtok>
<jtok eid="48" type="class_or_interface_ref" span="1016:33:1016:45">FocusAdapter</jtok>
<jtok eid="48" type="block_comment" span="1017:9:1020:12">/*
         * Focus listener that fires the storeFieldAction when a FieldTextArea
         * loses focus.
         */</jtok>
<jtok eid="49" type="method_name" span="1021:21:1021:32">focusGained</jtok>
<jtok eid="49" type="parameter_type" span="1021:33:1021:43">FocusEvent</jtok>
<jtok eid="49" type="parameter_name" span="1021:44:1021:45">e</jtok>
<jtok eid="50" type="method_name" span="1024:21:1024:30">focusLost</jtok>
<jtok eid="50" type="parameter_type" span="1024:31:1024:41">FocusEvent</jtok>
<jtok eid="50" type="parameter_name" span="1024:42:1024:43">e</jtok>
<jtok eid="50" type="line_comment" span="1025:13:1025:80">// Util.pr("Lost focus "+e.getSource().toString().substring(0,30));</jtok>
<jtok eid="50" type="primary_name_ref" span="1026:18:1026:19">e</jtok>
<jtok eid="50" type="method_call" span="1026:20:1026:31">isTemporary</jtok>
<jtok eid="50" type="method_call" span="1027:17:1027:28">updateField</jtok>
<jtok eid="50" type="primary_name_ref" span="1027:29:1027:30">e</jtok>
<jtok eid="50" type="method_call" span="1027:31:1027:40">getSource</jtok>
<jtok eid="51" type="class_name" span="1031:11:1031:22">TabListener</jtok>
<jtok eid="51" type="class_or_interface_ref" span="1031:34:1031:48">ChangeListener</jtok>
<jtok eid="52" type="method_name" span="1032:21:1032:33">stateChanged</jtok>
<jtok eid="52" type="parameter_type" span="1032:34:1032:45">ChangeEvent</jtok>
<jtok eid="52" type="parameter_name" span="1032:46:1032:47">e</jtok>
<jtok eid="52" type="primary_name_ref" span="1034:13:1034:27">SwingUtilities</jtok>
<jtok eid="52" type="method_call" span="1034:28:1034:39">invokeLater</jtok>
<jtok eid="52" type="constructor_call" span="1034:44:1034:52">Runnable</jtok>
<jtok eid="54" type="method_name" span="1035:29:1035:32">run</jtok>
<jtok eid="54" type="method_call" span="1036:21:1036:36">activateVisible</jtok>
<jtok eid="52" type="line_comment" span="1040:13:1040:78">// After the initial event train has finished, we tell the editor</jtok>
<jtok eid="52" type="line_comment" span="1041:13:1041:33">// tab to update all</jtok>
<jtok eid="52" type="line_comment" span="1042:13:1042:79">// its fields. This makes sure they are updated even if the tab we</jtok>
<jtok eid="52" type="line_comment" span="1043:13:1043:39">// just left contained one</jtok>
<jtok eid="52" type="line_comment" span="1044:13:1044:55">// or more of the same fields as this one:</jtok>
<jtok eid="52" type="primary_name_ref" span="1045:13:1045:27">SwingUtilities</jtok>
<jtok eid="52" type="method_call" span="1045:28:1045:39">invokeLater</jtok>
<jtok eid="52" type="constructor_call" span="1045:44:1045:52">Runnable</jtok>
<jtok eid="56" type="method_name" span="1046:29:1046:32">run</jtok>
<jtok eid="56" type="class_or_interface_ref" span="1047:21:1047:27">Object</jtok>
<jtok eid="56" type="local_variable_name" span="1047:28:1047:37">activeTab</jtok>
<jtok eid="56" type="primary_name_ref" span="1047:40:1047:44">tabs</jtok>
<jtok eid="56" type="method_call" span="1047:45:1047:48">get</jtok>
<jtok eid="56" type="primary_name_ref" span="1047:49:1047:55">tabbed</jtok>
<jtok eid="56" type="method_call" span="1047:56:1047:72">getSelectedIndex</jtok>
<jtok eid="56" type="primary_name_ref" span="1048:25:1048:34">activeTab</jtok>
<jtok eid="56" type="class_or_interface_ref" span="1048:46:1048:60">EntryEditorTab</jtok>
<jtok eid="56" type="class_or_interface_ref" span="1049:27:1049:41">EntryEditorTab</jtok>
<jtok eid="56" type="primary_name_ref" span="1049:43:1049:52">activeTab</jtok>
<jtok eid="56" type="method_call" span="1049:54:1049:63">updateAll</jtok>
<jtok eid="57" type="class_name" span="1056:11:1056:23">DeleteAction</jtok>
<jtok eid="57" type="class_or_interface_ref" span="1056:32:1056:46">AbstractAction</jtok>
<jtok eid="58" type="method_name" span="1057:16:1057:28">DeleteAction</jtok>
<jtok eid="58" type="primary_name_ref" span="1058:19:1058:26">Globals</jtok>
<jtok eid="58" type="method_call" span="1058:27:1058:31">lang</jtok>
<jtok eid="58" type="string_literal" span="1058:32:1058:40">"Delete"</jtok>
<jtok eid="58" type="primary_name_ref" span="1058:43:1058:53">GUIGlobals</jtok>
<jtok eid="58" type="method_call" span="1058:54:1058:62">getImage</jtok>
<jtok eid="58" type="string_literal" span="1058:63:1058:71">"delete"</jtok>
<jtok eid="58" type="method_call" span="1059:13:1059:21">putValue</jtok>
<jtok eid="58" type="primary_name_ref" span="1059:22:1059:39">SHORT_DESCRIPTION</jtok>
<jtok eid="58" type="primary_name_ref" span="1059:41:1059:48">Globals</jtok>
<jtok eid="58" type="method_call" span="1059:49:1059:53">lang</jtok>
<jtok eid="58" type="string_literal" span="1059:54:1059:68">"Delete entry"</jtok>
<jtok eid="59" type="method_name" span="1062:21:1062:36">actionPerformed</jtok>
<jtok eid="59" type="parameter_type" span="1062:37:1062:48">ActionEvent</jtok>
<jtok eid="59" type="parameter_name" span="1062:49:1062:50">e</jtok>
<jtok eid="59" type="line_comment" span="1063:13:1063:57">// Show confirmation dialog if not disabled:</jtok>
<jtok eid="59" type="local_variable_name" span="1064:21:1064:25">goOn</jtok>
<jtok eid="59" type="primary_name_ref" span="1064:28:1064:33">panel</jtok>
<jtok eid="59" type="method_call" span="1064:34:1064:62">showDeleteConfirmationDialog</jtok>
<jtok eid="59" type="primary_name_ref" span="1066:18:1066:22">goOn</jtok>
<jtok eid="59" type="primary_name_ref" span="1069:13:1069:18">panel</jtok>
<jtok eid="59" type="method_call" span="1069:19:1069:37">entryEditorClosing</jtok>
<jtok eid="59" type="primary_name_ref" span="1069:38:1069:49">EntryEditor</jtok>
<jtok eid="59" type="primary_name_ref" span="1070:13:1070:18">panel</jtok>
<jtok eid="59" type="qualified_name_ref" span="1070:19:1070:27">database</jtok>
<jtok eid="59" type="method_call" span="1070:28:1070:39">removeEntry</jtok>
<jtok eid="59" type="primary_name_ref" span="1070:40:1070:45">entry</jtok>
<jtok eid="59" type="method_call" span="1070:46:1070:51">getId</jtok>
<jtok eid="59" type="primary_name_ref" span="1071:13:1071:18">panel</jtok>
<jtok eid="59" type="method_call" span="1071:19:1071:34">markBaseChanged</jtok>
<jtok eid="59" type="primary_name_ref" span="1072:13:1072:18">panel</jtok>
<jtok eid="59" type="qualified_name_ref" span="1072:19:1072:30">undoManager</jtok>
<jtok eid="59" type="method_call" span="1072:31:1072:38">addEdit</jtok>
<jtok eid="59" type="constructor_call" span="1072:43:1072:62">UndoableRemoveEntry</jtok>
<jtok eid="59" type="primary_name_ref" span="1072:63:1072:68">panel</jtok>
<jtok eid="59" type="qualified_name_ref" span="1072:69:1072:77">database</jtok>
<jtok eid="59" type="primary_name_ref" span="1072:79:1072:84">entry</jtok>
<jtok eid="59" type="primary_name_ref" span="1072:86:1072:91">panel</jtok>
<jtok eid="59" type="primary_name_ref" span="1073:13:1073:18">panel</jtok>
<jtok eid="59" type="method_call" span="1073:19:1073:25">output</jtok>
<jtok eid="59" type="primary_name_ref" span="1073:26:1073:33">Globals</jtok>
<jtok eid="59" type="method_call" span="1073:34:1073:38">lang</jtok>
<jtok eid="59" type="string_literal" span="1073:39:1073:48">"Deleted"</jtok>
<jtok eid="59" type="string_literal" span="1073:52:1073:55">" "</jtok>
<jtok eid="59" type="primary_name_ref" span="1073:58:1073:65">Globals</jtok>
<jtok eid="59" type="method_call" span="1073:66:1073:70">lang</jtok>
<jtok eid="59" type="string_literal" span="1073:71:1073:78">"entry"</jtok>
<jtok eid="60" type="class_name" span="1077:11:1077:22">CloseAction</jtok>
<jtok eid="60" type="class_or_interface_ref" span="1077:31:1077:45">AbstractAction</jtok>
<jtok eid="61" type="method_name" span="1078:16:1078:27">CloseAction</jtok>
<jtok eid="61" type="primary_name_ref" span="1079:19:1079:26">Globals</jtok>
<jtok eid="61" type="method_call" span="1079:27:1079:31">lang</jtok>
<jtok eid="61" type="string_literal" span="1079:32:1079:46">"Close window"</jtok>
<jtok eid="61" type="primary_name_ref" span="1079:49:1079:59">GUIGlobals</jtok>
<jtok eid="61" type="method_call" span="1079:60:1079:68">getImage</jtok>
<jtok eid="61" type="string_literal" span="1079:69:1079:76">"close"</jtok>
<jtok eid="61" type="method_call" span="1080:13:1080:21">putValue</jtok>
<jtok eid="61" type="primary_name_ref" span="1080:22:1080:39">SHORT_DESCRIPTION</jtok>
<jtok eid="61" type="primary_name_ref" span="1080:41:1080:48">Globals</jtok>
<jtok eid="61" type="method_call" span="1080:49:1080:53">lang</jtok>
<jtok eid="61" type="string_literal" span="1080:54:1080:68">"Close window"</jtok>
<jtok eid="62" type="method_name" span="1083:21:1083:36">actionPerformed</jtok>
<jtok eid="62" type="parameter_type" span="1083:37:1083:48">ActionEvent</jtok>
<jtok eid="62" type="parameter_name" span="1083:49:1083:50">e</jtok>
<jtok eid="62" type="primary_name_ref" span="1084:17:1084:23">tabbed</jtok>
<jtok eid="62" type="method_call" span="1084:24:1084:44">getSelectedComponent</jtok>
<jtok eid="62" type="primary_name_ref" span="1084:50:1084:58">srcPanel</jtok>
<jtok eid="62" type="method_call" span="1085:17:1085:28">updateField</jtok>
<jtok eid="62" type="primary_name_ref" span="1085:29:1085:35">source</jtok>
<jtok eid="62" type="primary_name_ref" span="1086:21:1086:39">lastSourceAccepted</jtok>
<jtok eid="62" type="primary_name_ref" span="1087:21:1087:26">panel</jtok>
<jtok eid="62" type="method_call" span="1087:27:1087:45">entryEditorClosing</jtok>
<jtok eid="62" type="primary_name_ref" span="1087:46:1087:57">EntryEditor</jtok>
<jtok eid="62" type="primary_name_ref" span="1089:17:1089:22">panel</jtok>
<jtok eid="62" type="method_call" span="1089:23:1089:41">entryEditorClosing</jtok>
<jtok eid="62" type="primary_name_ref" span="1089:42:1089:53">EntryEditor</jtok>
<jtok eid="63" type="class_name" span="1093:11:1093:24">CopyKeyAction</jtok>
<jtok eid="63" type="class_or_interface_ref" span="1093:33:1093:47">AbstractAction</jtok>
<jtok eid="64" type="method_name" span="1094:16:1094:29">CopyKeyAction</jtok>
<jtok eid="64" type="string_literal" span="1095:19:1095:49">"Copy BibTeX key to clipboard"</jtok>
<jtok eid="64" type="method_call" span="1096:13:1096:21">putValue</jtok>
<jtok eid="64" type="primary_name_ref" span="1096:22:1096:39">SHORT_DESCRIPTION</jtok>
<jtok eid="64" type="string_literal" span="1096:41:1096:80">"Copy BibTeX key to clipboard (Ctrl-K)"</jtok>
<jtok eid="64" type="line_comment" span="1097:13:1097:63">// putValue(MNEMONIC_KEY, GUIGlobals.copyKeyCode);</jtok>
<jtok eid="65" type="method_name" span="1100:21:1100:36">actionPerformed</jtok>
<jtok eid="65" type="parameter_type" span="1100:37:1100:48">ActionEvent</jtok>
<jtok eid="65" type="parameter_name" span="1100:49:1100:50">e</jtok>
<jtok eid="65" type="class_or_interface_ref" span="1101:13:1101:19">String</jtok>
<jtok eid="65" type="local_variable_name" span="1101:20:1101:21">s</jtok>
<jtok eid="65" type="primary_name_ref" span="1101:25:1101:30">entry</jtok>
<jtok eid="65" type="method_call" span="1101:31:1101:39">getField</jtok>
<jtok eid="65" type="primary_name_ref" span="1101:40:1101:52">BibtexFields</jtok>
<jtok eid="65" type="qualified_name_ref" span="1101:53:1101:62">KEY_FIELD</jtok>
<jtok eid="65" type="class_or_interface_ref" span="1102:13:1102:28">StringSelection</jtok>
<jtok eid="65" type="local_variable_name" span="1102:29:1102:31">ss</jtok>
<jtok eid="65" type="constructor_call" span="1102:38:1102:53">StringSelection</jtok>
<jtok eid="65" type="primary_name_ref" span="1102:54:1102:55">s</jtok>
<jtok eid="65" type="primary_name_ref" span="1104:17:1104:18">s</jtok>
<jtok eid="65" type="primary_name_ref" span="1105:17:1105:24">Toolkit</jtok>
<jtok eid="65" type="method_call" span="1105:25:1105:42">getDefaultToolkit</jtok>
<jtok eid="65" type="method_call" span="1105:45:1105:63">getSystemClipboard</jtok>
<jtok eid="65" type="method_call" span="1105:66:1105:77">setContents</jtok>
<jtok eid="65" type="primary_name_ref" span="1105:78:1105:80">ss</jtok>
<jtok eid="65" type="primary_name_ref" span="1105:82:1105:84">ss</jtok>
<jtok eid="66" type="class_name" span="1109:18:1109:34">StoreFieldAction</jtok>
<jtok eid="66" type="class_or_interface_ref" span="1109:43:1109:57">AbstractAction</jtok>
<jtok eid="67" type="method_name" span="1110:16:1110:32">StoreFieldAction</jtok>
<jtok eid="67" type="string_literal" span="1111:19:1111:38">"Store field value"</jtok>
<jtok eid="67" type="method_call" span="1112:13:1112:21">putValue</jtok>
<jtok eid="67" type="primary_name_ref" span="1112:22:1112:39">SHORT_DESCRIPTION</jtok>
<jtok eid="67" type="string_literal" span="1112:41:1112:60">"Store field value"</jtok>
<jtok eid="68" type="method_name" span="1115:21:1115:36">actionPerformed</jtok>
<jtok eid="68" type="parameter_type" span="1115:37:1115:48">ActionEvent</jtok>
<jtok eid="68" type="parameter_name" span="1115:49:1115:50">e</jtok>
<jtok eid="68" type="local_variable_name" span="1116:21:1116:31">movingAway</jtok>
<jtok eid="68" type="primary_name_ref" span="1116:34:1116:56">movingToDifferentEntry</jtok>
<jtok eid="68" type="primary_name_ref" span="1117:13:1117:35">movingToDifferentEntry</jtok>
<jtok eid="68" type="primary_name_ref" span="1119:17:1119:18">e</jtok>
<jtok eid="68" type="method_call" span="1119:19:1119:28">getSource</jtok>
<jtok eid="68" type="class_or_interface_ref" span="1119:42:1119:56">FieldTextField</jtok>
<jtok eid="68" type="line_comment" span="1120:17:1120:50">// Storage from bibtex key field.</jtok>
<jtok eid="68" type="class_or_interface_ref" span="1121:17:1121:31">FieldTextField</jtok>
<jtok eid="68" type="local_variable_name" span="1121:32:1121:34">fe</jtok>
<jtok eid="68" type="class_or_interface_ref" span="1121:38:1121:52">FieldTextField</jtok>
<jtok eid="68" type="primary_name_ref" span="1121:54:1121:55">e</jtok>
<jtok eid="68" type="method_call" span="1121:56:1121:65">getSource</jtok>
<jtok eid="68" type="class_or_interface_ref" span="1122:17:1122:23">String</jtok>
<jtok eid="68" type="local_variable_name" span="1122:24:1122:32">oldValue</jtok>
<jtok eid="68" type="primary_name_ref" span="1122:35:1122:40">entry</jtok>
<jtok eid="68" type="method_call" span="1122:41:1122:51">getCiteKey</jtok>
<jtok eid="68" type="class_or_interface_ref" span="1123:17:1123:23">String</jtok>
<jtok eid="68" type="local_variable_name" span="1123:24:1123:32">newValue</jtok>
<jtok eid="68" type="primary_name_ref" span="1123:35:1123:37">fe</jtok>
<jtok eid="68" type="method_call" span="1123:38:1123:45">getText</jtok>
<jtok eid="68" type="primary_name_ref" span="1125:21:1125:29">newValue</jtok>
<jtok eid="68" type="method_call" span="1125:30:1125:36">equals</jtok>
<jtok eid="68" type="string_literal" span="1125:37:1125:39">""</jtok>
<jtok eid="68" type="primary_name_ref" span="1126:21:1126:29">newValue</jtok>
<jtok eid="68" type="primary_name_ref" span="1128:23:1128:31">oldValue</jtok>
<jtok eid="68" type="primary_name_ref" span="1128:45:1128:53">newValue</jtok>
<jtok eid="68" type="primary_name_ref" span="1129:26:1129:34">oldValue</jtok>
<jtok eid="68" type="primary_name_ref" span="1129:48:1129:56">newValue</jtok>
<jtok eid="68" type="primary_name_ref" span="1129:69:1129:77">oldValue</jtok>
<jtok eid="68" type="method_call" span="1129:78:1129:84">equals</jtok>
<jtok eid="68" type="primary_name_ref" span="1129:85:1129:93">newValue</jtok>
<jtok eid="68" type="line_comment" span="1130:29:1130:42">// No change.</jtok>
<jtok eid="68" type="line_comment" span="1132:17:1132:47">// Make sure the key is legal:</jtok>
<jtok eid="68" type="class_or_interface_ref" span="1133:17:1133:23">String</jtok>
<jtok eid="68" type="local_variable_name" span="1133:24:1133:31">cleaned</jtok>
<jtok eid="68" type="primary_name_ref" span="1133:34:1133:38">Util</jtok>
<jtok eid="68" type="method_call" span="1133:39:1133:52">checkLegalKey</jtok>
<jtok eid="68" type="primary_name_ref" span="1133:53:1133:61">newValue</jtok>
<jtok eid="68" type="primary_name_ref" span="1134:22:1134:29">cleaned</jtok>
<jtok eid="68" type="primary_name_ref" span="1134:43:1134:50">cleaned</jtok>
<jtok eid="68" type="method_call" span="1134:51:1134:57">equals</jtok>
<jtok eid="68" type="primary_name_ref" span="1134:58:1134:66">newValue</jtok>
<jtok eid="68" type="primary_name_ref" span="1135:21:1135:32">JOptionPane</jtok>
<jtok eid="68" type="method_call" span="1135:33:1135:50">showMessageDialog</jtok>
<jtok eid="68" type="primary_name_ref" span="1135:51:1135:56">frame</jtok>
<jtok eid="68" type="primary_name_ref" span="1135:58:1135:65">Globals</jtok>
<jtok eid="68" type="method_call" span="1135:66:1135:70">lang</jtok>
<jtok eid="68" type="string_literal" span="1135:71:1135:91">"Invalid BibTeX key"</jtok>
<jtok eid="68" type="primary_name_ref" span="1136:25:1136:32">Globals</jtok>
<jtok eid="68" type="method_call" span="1136:33:1136:37">lang</jtok>
<jtok eid="68" type="string_literal" span="1136:38:1136:59">"Error setting field"</jtok>
<jtok eid="68" type="primary_name_ref" span="1136:62:1136:73">JOptionPane</jtok>
<jtok eid="68" type="qualified_name_ref" span="1136:74:1136:87">ERROR_MESSAGE</jtok>
<jtok eid="68" type="primary_name_ref" span="1137:21:1137:23">fe</jtok>
<jtok eid="68" type="method_call" span="1137:24:1137:37">setBackground</jtok>
<jtok eid="68" type="primary_name_ref" span="1137:38:1137:48">GUIGlobals</jtok>
<jtok eid="68" type="qualified_name_ref" span="1137:49:1137:71">invalidFieldBackground</jtok>
<jtok eid="68" type="primary_name_ref" span="1140:21:1140:23">fe</jtok>
<jtok eid="68" type="method_call" span="1140:24:1140:37">setBackground</jtok>
<jtok eid="68" type="block_comment" span="1140:38:1143:44">/*
                                         * fe.getTextComponent().hasFocus() ?
                                         * GUIGlobals.activeEditor :
                                         */</jtok>
<jtok eid="68" type="primary_name_ref" span="1144:21:1144:31">GUIGlobals</jtok>
<jtok eid="68" type="qualified_name_ref" span="1144:32:1144:52">validFieldBackground</jtok>
<jtok eid="68" type="local_variable_name" span="1147:25:1147:36">isDuplicate</jtok>
<jtok eid="68" type="primary_name_ref" span="1147:39:1147:44">panel</jtok>
<jtok eid="68" type="qualified_name_ref" span="1147:45:1147:53">database</jtok>
<jtok eid="68" type="method_call" span="1147:54:1147:72">setCiteKeyForEntry</jtok>
<jtok eid="68" type="primary_name_ref" span="1147:73:1147:78">entry</jtok>
<jtok eid="68" type="method_call" span="1147:79:1147:84">getId</jtok>
<jtok eid="68" type="primary_name_ref" span="1147:88:1147:96">newValue</jtok>
<jtok eid="68" type="primary_name_ref" span="1149:21:1149:29">newValue</jtok>
<jtok eid="68" type="primary_name_ref" span="1150:25:1150:36">isDuplicate</jtok>
<jtok eid="68" type="method_call" span="1151:25:1151:47">warnDuplicateBibtexkey</jtok>
<jtok eid="68" type="primary_name_ref" span="1153:25:1153:30">panel</jtok>
<jtok eid="68" type="method_call" span="1153:31:1153:37">output</jtok>
<jtok eid="68" type="primary_name_ref" span="1153:38:1153:45">Globals</jtok>
<jtok eid="68" type="method_call" span="1153:46:1153:50">lang</jtok>
<jtok eid="68" type="string_literal" span="1153:51:1153:74">"BibTeX key is unique."</jtok>
<jtok eid="68" type="line_comment" span="1154:26:1154:46">// key is null/empty</jtok>
<jtok eid="68" type="method_call" span="1155:21:1155:39">warnEmptyBibtexkey</jtok>
<jtok eid="68" type="line_comment" span="1158:17:1158:76">// Add an UndoableKeyChange to the baseframe's undoManager.</jtok>
<jtok eid="68" type="primary_name_ref" span="1159:17:1159:22">panel</jtok>
<jtok eid="68" type="qualified_name_ref" span="1159:23:1159:34">undoManager</jtok>
<jtok eid="68" type="method_call" span="1159:35:1159:42">addEdit</jtok>
<jtok eid="68" type="constructor_call" span="1159:47:1159:64">UndoableKeyChange</jtok>
<jtok eid="68" type="primary_name_ref" span="1159:65:1159:70">panel</jtok>
<jtok eid="68" type="qualified_name_ref" span="1159:71:1159:79">database</jtok>
<jtok eid="68" type="primary_name_ref" span="1159:81:1159:86">entry</jtok>
<jtok eid="68" type="method_call" span="1159:87:1159:92">getId</jtok>
<jtok eid="68" type="primary_name_ref" span="1160:21:1160:29">oldValue</jtok>
<jtok eid="68" type="primary_name_ref" span="1160:31:1160:39">newValue</jtok>
<jtok eid="68" type="primary_name_ref" span="1162:22:1162:30">newValue</jtok>
<jtok eid="68" type="primary_name_ref" span="1162:44:1162:52">newValue</jtok>
<jtok eid="68" type="method_call" span="1162:53:1162:59">length</jtok>
<jtok eid="68" type="line_comment" span="1163:21:1163:69">// fe.setLabelColor(GUIGlobals.validFieldColor);</jtok>
<jtok eid="68" type="primary_name_ref" span="1164:21:1164:23">fe</jtok>
<jtok eid="68" type="method_call" span="1164:24:1164:37">setBackground</jtok>
<jtok eid="68" type="primary_name_ref" span="1164:38:1164:48">GUIGlobals</jtok>
<jtok eid="68" type="qualified_name_ref" span="1164:49:1164:69">validFieldBackground</jtok>
<jtok eid="68" type="line_comment" span="1166:21:1166:68">// fe.setLabelColor(GUIGlobals.nullFieldColor);</jtok>
<jtok eid="68" type="primary_name_ref" span="1167:21:1167:23">fe</jtok>
<jtok eid="68" type="method_call" span="1167:24:1167:37">setBackground</jtok>
<jtok eid="68" type="primary_name_ref" span="1167:38:1167:48">GUIGlobals</jtok>
<jtok eid="68" type="qualified_name_ref" span="1167:49:1167:69">validFieldBackground</jtok>
<jtok eid="68" type="primary_name_ref" span="1169:21:1169:23">fe</jtok>
<jtok eid="68" type="method_call" span="1169:24:1169:40">getTextComponent</jtok>
<jtok eid="68" type="method_call" span="1169:43:1169:51">hasFocus</jtok>
<jtok eid="68" type="primary_name_ref" span="1170:21:1170:23">fe</jtok>
<jtok eid="68" type="method_call" span="1170:24:1170:37">setBackground</jtok>
<jtok eid="68" type="primary_name_ref" span="1170:38:1170:48">GUIGlobals</jtok>
<jtok eid="68" type="qualified_name_ref" span="1170:49:1170:61">activeEditor</jtok>
<jtok eid="68" type="method_call" span="1171:17:1171:29">updateSource</jtok>
<jtok eid="68" type="primary_name_ref" span="1172:17:1172:22">panel</jtok>
<jtok eid="68" type="method_call" span="1172:23:1172:38">markBaseChanged</jtok>
<jtok eid="68" type="primary_name_ref" span="1174:22:1174:23">e</jtok>
<jtok eid="68" type="method_call" span="1174:24:1174:33">getSource</jtok>
<jtok eid="68" type="class_or_interface_ref" span="1174:47:1174:58">FieldEditor</jtok>
<jtok eid="68" type="class_or_interface_ref" span="1175:17:1175:23">String</jtok>
<jtok eid="68" type="local_variable_name" span="1175:24:1175:29">toSet</jtok>
<jtok eid="68" type="class_or_interface_ref" span="1176:17:1176:28">FieldEditor</jtok>
<jtok eid="68" type="local_variable_name" span="1176:29:1176:31">fe</jtok>
<jtok eid="68" type="class_or_interface_ref" span="1176:35:1176:46">FieldEditor</jtok>
<jtok eid="68" type="primary_name_ref" span="1176:48:1176:49">e</jtok>
<jtok eid="68" type="method_call" span="1176:50:1176:59">getSource</jtok>
<jtok eid="68" type="local_variable_name" span="1177:25:1177:28">set</jtok>
<jtok eid="68" type="line_comment" span="1178:17:1178:54">// Trim the whitespace off this value</jtok>
<jtok eid="68" type="class_or_interface_ref" span="1179:17:1179:23">String</jtok>
<jtok eid="68" type="local_variable_name" span="1179:24:1179:35">currentText</jtok>
<jtok eid="68" type="primary_name_ref" span="1179:38:1179:40">fe</jtok>
<jtok eid="68" type="method_call" span="1179:41:1179:48">getText</jtok>
<jtok eid="68" type="class_or_interface_ref" span="1180:17:1180:23">String</jtok>
<jtok eid="68" type="local_variable_name" span="1180:24:1180:28">trim</jtok>
<jtok eid="68" type="primary_name_ref" span="1180:31:1180:42">currentText</jtok>
<jtok eid="68" type="method_call" span="1180:43:1180:47">trim</jtok>
<jtok eid="68" type="primary_name_ref" span="1181:21:1181:25">trim</jtok>
<jtok eid="68" type="method_call" span="1181:26:1181:32">length</jtok>
<jtok eid="68" type="primary_name_ref" span="1182:21:1182:26">toSet</jtok>
<jtok eid="68" type="primary_name_ref" span="1182:29:1182:33">trim</jtok>
<jtok eid="68" type="line_comment" span="1185:17:1185:77">// We check if the field has changed, since we don't want to</jtok>
<jtok eid="68" type="line_comment" span="1186:17:1186:74">// mark the base as changed unless we have a real change.</jtok>
<jtok eid="68" type="primary_name_ref" span="1187:21:1187:26">toSet</jtok>
<jtok eid="68" type="primary_name_ref" span="1188:25:1188:30">entry</jtok>
<jtok eid="68" type="method_call" span="1188:31:1188:39">getField</jtok>
<jtok eid="68" type="primary_name_ref" span="1188:40:1188:42">fe</jtok>
<jtok eid="68" type="method_call" span="1188:43:1188:55">getFieldName</jtok>
<jtok eid="68" type="primary_name_ref" span="1189:25:1189:28">set</jtok>
<jtok eid="68" type="primary_name_ref" span="1191:25:1191:28">set</jtok>
<jtok eid="68" type="primary_name_ref" span="1193:26:1193:31">entry</jtok>
<jtok eid="68" type="method_call" span="1193:32:1193:40">getField</jtok>
<jtok eid="68" type="primary_name_ref" span="1193:41:1193:43">fe</jtok>
<jtok eid="68" type="method_call" span="1193:44:1193:56">getFieldName</jtok>
<jtok eid="68" type="primary_name_ref" span="1194:28:1194:33">toSet</jtok>
<jtok eid="68" type="method_call" span="1194:34:1194:40">equals</jtok>
<jtok eid="68" type="primary_name_ref" span="1194:41:1194:46">entry</jtok>
<jtok eid="68" type="method_call" span="1194:47:1194:55">getField</jtok>
<jtok eid="68" type="primary_name_ref" span="1194:56:1194:58">fe</jtok>
<jtok eid="68" type="method_call" span="1194:59:1194:71">getFieldName</jtok>
<jtok eid="68" type="method_call" span="1194:75:1194:83">toString</jtok>
<jtok eid="68" type="primary_name_ref" span="1195:25:1195:28">set</jtok>
<jtok eid="68" type="primary_name_ref" span="1197:25:1197:28">set</jtok>
<jtok eid="68" type="primary_name_ref" span="1200:21:1200:24">set</jtok>
<jtok eid="68" type="line_comment" span="1202:25:1202:73">// The following statement attempts to write the</jtok>
<jtok eid="68" type="line_comment" span="1203:25:1203:75">// new contents into a StringWriter, and this will</jtok>
<jtok eid="68" type="line_comment" span="1204:25:1204:68">// cause an IOException if the field is not</jtok>
<jtok eid="68" type="line_comment" span="1205:25:1205:74">// properly formatted. If that happens, the field</jtok>
<jtok eid="68" type="line_comment" span="1206:25:1206:69">// is not stored and the textarea turns red.</jtok>
<jtok eid="68" type="primary_name_ref" span="1207:29:1207:34">toSet</jtok>
<jtok eid="68" type="constructor_call" span="1208:34:1208:53">LatexFieldFormatter</jtok>
<jtok eid="68" type="method_call" span="1208:57:1208:63">format</jtok>
<jtok eid="68" type="primary_name_ref" span="1208:64:1208:69">toSet</jtok>
<jtok eid="68" type="primary_name_ref" span="1208:71:1208:73">fe</jtok>
<jtok eid="68" type="method_call" span="1208:74:1208:86">getFieldName</jtok>
<jtok eid="68" type="class_or_interface_ref" span="1210:25:1210:31">String</jtok>
<jtok eid="68" type="local_variable_name" span="1210:32:1210:40">oldValue</jtok>
<jtok eid="68" type="primary_name_ref" span="1210:43:1210:48">entry</jtok>
<jtok eid="68" type="method_call" span="1210:49:1210:57">getField</jtok>
<jtok eid="68" type="primary_name_ref" span="1210:58:1210:60">fe</jtok>
<jtok eid="68" type="method_call" span="1210:61:1210:73">getFieldName</jtok>
<jtok eid="68" type="primary_name_ref" span="1212:29:1212:34">toSet</jtok>
<jtok eid="68" type="primary_name_ref" span="1213:29:1213:34">entry</jtok>
<jtok eid="68" type="method_call" span="1213:35:1213:43">setField</jtok>
<jtok eid="68" type="primary_name_ref" span="1213:44:1213:46">fe</jtok>
<jtok eid="68" type="method_call" span="1213:47:1213:59">getFieldName</jtok>
<jtok eid="68" type="primary_name_ref" span="1213:63:1213:68">toSet</jtok>
<jtok eid="68" type="primary_name_ref" span="1215:29:1215:34">entry</jtok>
<jtok eid="68" type="method_call" span="1215:35:1215:45">clearField</jtok>
<jtok eid="68" type="primary_name_ref" span="1215:46:1215:48">fe</jtok>
<jtok eid="68" type="method_call" span="1215:49:1215:61">getFieldName</jtok>
<jtok eid="68" type="primary_name_ref" span="1217:30:1217:35">toSet</jtok>
<jtok eid="68" type="primary_name_ref" span="1217:49:1217:54">toSet</jtok>
<jtok eid="68" type="method_call" span="1217:55:1217:61">length</jtok>
<jtok eid="68" type="line_comment" span="1218:29:1218:77">// fe.setLabelColor(GUIGlobals.validFieldColor);</jtok>
<jtok eid="68" type="primary_name_ref" span="1219:29:1219:31">fe</jtok>
<jtok eid="68" type="method_call" span="1219:32:1219:45">setBackground</jtok>
<jtok eid="68" type="primary_name_ref" span="1219:46:1219:56">GUIGlobals</jtok>
<jtok eid="68" type="qualified_name_ref" span="1219:57:1219:77">validFieldBackground</jtok>
<jtok eid="68" type="line_comment" span="1221:29:1221:76">// fe.setLabelColor(GUIGlobals.nullFieldColor);</jtok>
<jtok eid="68" type="primary_name_ref" span="1222:29:1222:31">fe</jtok>
<jtok eid="68" type="method_call" span="1222:32:1222:45">setBackground</jtok>
<jtok eid="68" type="primary_name_ref" span="1222:46:1222:56">GUIGlobals</jtok>
<jtok eid="68" type="qualified_name_ref" span="1222:57:1222:77">validFieldBackground</jtok>
<jtok eid="68" type="line_comment" span="1224:25:1224:79">// See if we need to update an AutoCompleter instance:</jtok>
<jtok eid="68" type="class_or_interface_ref" span="1225:25:1225:46">AbstractAutoCompleter</jtok>
<jtok eid="68" type="local_variable_name" span="1225:47:1225:52">aComp</jtok>
<jtok eid="68" type="primary_name_ref" span="1225:55:1225:60">panel</jtok>
<jtok eid="68" type="method_call" span="1225:61:1225:77">getAutoCompleter</jtok>
<jtok eid="68" type="primary_name_ref" span="1225:78:1225:80">fe</jtok>
<jtok eid="68" type="method_call" span="1225:81:1225:93">getFieldName</jtok>
<jtok eid="68" type="primary_name_ref" span="1226:29:1226:34">aComp</jtok>
<jtok eid="68" type="primary_name_ref" span="1227:29:1227:34">aComp</jtok>
<jtok eid="68" type="method_call" span="1227:35:1227:49">addBibtexEntry</jtok>
<jtok eid="68" type="primary_name_ref" span="1227:50:1227:55">entry</jtok>
<jtok eid="68" type="line_comment" span="1229:25:1229:73">// Add an UndoableFieldChange to the baseframe's</jtok>
<jtok eid="68" type="line_comment" span="1230:25:1230:40">// undoManager.</jtok>
<jtok eid="68" type="primary_name_ref" span="1231:25:1231:30">panel</jtok>
<jtok eid="68" type="qualified_name_ref" span="1231:31:1231:42">undoManager</jtok>
<jtok eid="68" type="method_call" span="1231:43:1231:50">addEdit</jtok>
<jtok eid="68" type="constructor_call" span="1231:55:1231:74">UndoableFieldChange</jtok>
<jtok eid="68" type="primary_name_ref" span="1231:75:1231:80">entry</jtok>
<jtok eid="68" type="primary_name_ref" span="1231:82:1231:84">fe</jtok>
<jtok eid="68" type="method_call" span="1231:85:1231:97">getFieldName</jtok>
<jtok eid="68" type="primary_name_ref" span="1232:29:1232:37">oldValue</jtok>
<jtok eid="68" type="primary_name_ref" span="1232:39:1232:44">toSet</jtok>
<jtok eid="68" type="method_call" span="1233:25:1233:37">updateSource</jtok>
<jtok eid="68" type="primary_name_ref" span="1234:25:1234:30">panel</jtok>
<jtok eid="68" type="method_call" span="1234:31:1234:46">markBaseChanged</jtok>
<jtok eid="68" type="class_or_interface_ref" span="1236:30:1236:54">IllegalArgumentException</jtok>
<jtok eid="68" type="local_variable_name" span="1236:55:1236:57">ex</jtok>
<jtok eid="68" type="primary_name_ref" span="1237:25:1237:36">JOptionPane</jtok>
<jtok eid="68" type="method_call" span="1237:37:1237:54">showMessageDialog</jtok>
<jtok eid="68" type="primary_name_ref" span="1237:55:1237:60">frame</jtok>
<jtok eid="68" type="primary_name_ref" span="1237:62:1237:69">Globals</jtok>
<jtok eid="68" type="method_call" span="1237:70:1237:74">lang</jtok>
<jtok eid="68" type="string_literal" span="1237:75:1237:82">"Error"</jtok>
<jtok eid="68" type="string_literal" span="1237:86:1237:90">": "</jtok>
<jtok eid="68" type="primary_name_ref" span="1237:93:1237:95">ex</jtok>
<jtok eid="68" type="method_call" span="1237:96:1237:106">getMessage</jtok>
<jtok eid="68" type="primary_name_ref" span="1237:110:1237:117">Globals</jtok>
<jtok eid="68" type="method_call" span="1238:30:1238:34">lang</jtok>
<jtok eid="68" type="string_literal" span="1238:35:1238:56">"Error setting field"</jtok>
<jtok eid="68" type="primary_name_ref" span="1238:59:1238:70">JOptionPane</jtok>
<jtok eid="68" type="qualified_name_ref" span="1238:71:1238:84">ERROR_MESSAGE</jtok>
<jtok eid="68" type="primary_name_ref" span="1239:25:1239:27">fe</jtok>
<jtok eid="68" type="method_call" span="1239:28:1239:41">setBackground</jtok>
<jtok eid="68" type="primary_name_ref" span="1239:42:1239:52">GUIGlobals</jtok>
<jtok eid="68" type="qualified_name_ref" span="1239:53:1239:75">invalidFieldBackground</jtok>
<jtok eid="68" type="line_comment" span="1242:21:1242:36">// set == false</jtok>
<jtok eid="68" type="line_comment" span="1243:21:1243:57">// We set the field and label color.</jtok>
<jtok eid="68" type="primary_name_ref" span="1244:21:1244:23">fe</jtok>
<jtok eid="68" type="method_call" span="1244:24:1244:37">setBackground</jtok>
<jtok eid="68" type="primary_name_ref" span="1244:38:1244:48">GUIGlobals</jtok>
<jtok eid="68" type="qualified_name_ref" span="1244:49:1244:69">validFieldBackground</jtok>
<jtok eid="68" type="primary_name_ref" span="1246:21:1246:23">fe</jtok>
<jtok eid="68" type="method_call" span="1246:24:1246:40">getTextComponent</jtok>
<jtok eid="68" type="method_call" span="1246:43:1246:51">hasFocus</jtok>
<jtok eid="68" type="primary_name_ref" span="1247:21:1247:23">fe</jtok>
<jtok eid="68" type="method_call" span="1247:24:1247:37">setBackground</jtok>
<jtok eid="68" type="primary_name_ref" span="1247:38:1247:48">GUIGlobals</jtok>
<jtok eid="68" type="qualified_name_ref" span="1247:49:1247:61">activeEditor</jtok>
<jtok eid="68" type="primary_name_ref" span="1248:25:1248:31">source</jtok>
<jtok eid="68" type="method_call" span="1248:32:1248:42">isEditable</jtok>
<jtok eid="68" type="primary_name_ref" span="1249:22:1249:28">source</jtok>
<jtok eid="68" type="method_call" span="1249:29:1249:36">getText</jtok>
<jtok eid="68" type="method_call" span="1249:39:1249:45">equals</jtok>
<jtok eid="68" type="primary_name_ref" span="1249:46:1249:70">lastSourceStringAccepted</jtok>
<jtok eid="68" type="local_variable_name" span="1250:25:1250:33">accepted</jtok>
<jtok eid="68" type="method_call" span="1250:36:1250:47">storeSource</jtok>
<jtok eid="68" type="primary_name_ref" span="1252:21:1252:29">accepted</jtok>
<jtok eid="68" type="line_comment" span="1255:1:1255:37">////////////////////////////////////</jtok>
<jtok eid="68" type="line_comment" span="1256:13:1256:74">// Make sure we scroll to the entry if it moved in the table.</jtok>
<jtok eid="68" type="line_comment" span="1257:13:1257:72">// Should only be done if this editor is currently showing:</jtok>
<jtok eid="68" type="line_comment" span="1258:13:1258:109">//System.out.println(getType().getName()+": movingAway="+movingAway+", isShowing="+isShowing());</jtok>
<jtok eid="68" type="primary_name_ref" span="1259:18:1259:28">movingAway</jtok>
<jtok eid="68" type="method_call" span="1259:32:1259:41">isShowing</jtok>
<jtok eid="68" type="primary_name_ref" span="1260:17:1260:31">SwingUtilities</jtok>
<jtok eid="68" type="method_call" span="1260:32:1260:43">invokeLater</jtok>
<jtok eid="68" type="constructor_call" span="1260:48:1260:56">Runnable</jtok>
<jtok eid="70" type="method_name" span="1261:33:1261:36">run</jtok>
<jtok eid="70" type="local_variable_name" span="1262:35:1262:38">row</jtok>
<jtok eid="70" type="primary_name_ref" span="1262:41:1262:46">panel</jtok>
<jtok eid="70" type="qualified_name_ref" span="1262:47:1262:56">mainTable</jtok>
<jtok eid="70" type="method_call" span="1262:57:1262:66">findEntry</jtok>
<jtok eid="70" type="primary_name_ref" span="1262:67:1262:72">entry</jtok>
<jtok eid="70" type="primary_name_ref" span="1263:29:1263:32">row</jtok>
<jtok eid="70" type="line_comment" span="1264:29:1264:78">//if (panel.mainTable.getSelectedRowCount() == 0)</jtok>
<jtok eid="70" type="line_comment" span="1265:29:1265:85">//    panel.mainTable.setRowSelectionInterval(row, row);</jtok>
<jtok eid="70" type="line_comment" span="1266:29:1266:45">//scrollTo(row);</jtok>
<jtok eid="70" type="primary_name_ref" span="1267:29:1267:34">panel</jtok>
<jtok eid="70" type="qualified_name_ref" span="1267:35:1267:44">mainTable</jtok>
<jtok eid="70" type="method_call" span="1267:45:1267:58">ensureVisible</jtok>
<jtok eid="70" type="primary_name_ref" span="1267:59:1267:62">row</jtok>
<jtok eid="71" type="class_name" span="1275:11:1275:27">SwitchLeftAction</jtok>
<jtok eid="71" type="class_or_interface_ref" span="1275:36:1275:50">AbstractAction</jtok>
<jtok eid="72" type="method_name" span="1276:16:1276:32">SwitchLeftAction</jtok>
<jtok eid="72" type="string_literal" span="1277:19:1277:52">"Switch to the panel to the left"</jtok>
<jtok eid="73" type="method_name" span="1280:21:1280:36">actionPerformed</jtok>
<jtok eid="73" type="parameter_type" span="1280:37:1280:48">ActionEvent</jtok>
<jtok eid="73" type="parameter_name" span="1280:49:1280:50">e</jtok>
<jtok eid="73" type="line_comment" span="1281:13:1281:50">// System.out.println("switch left");</jtok>
<jtok eid="73" type="local_variable_name" span="1282:17:1282:18">i</jtok>
<jtok eid="73" type="primary_name_ref" span="1282:21:1282:27">tabbed</jtok>
<jtok eid="73" type="method_call" span="1282:28:1282:44">getSelectedIndex</jtok>
<jtok eid="73" type="primary_name_ref" span="1283:13:1283:19">tabbed</jtok>
<jtok eid="73" type="method_call" span="1283:20:1283:36">setSelectedIndex</jtok>
<jtok eid="73" type="primary_name_ref" span="1283:39:1283:40">i</jtok>
<jtok eid="73" type="primary_name_ref" span="1283:49:1283:50">i</jtok>
<jtok eid="73" type="primary_name_ref" span="1283:59:1283:65">tabbed</jtok>
<jtok eid="73" type="method_call" span="1283:66:1283:77">getTabCount</jtok>
<jtok eid="73" type="method_call" span="1285:13:1285:28">activateVisible</jtok>
<jtok eid="74" type="class_name" span="1289:11:1289:28">SwitchRightAction</jtok>
<jtok eid="74" type="class_or_interface_ref" span="1289:37:1289:51">AbstractAction</jtok>
<jtok eid="75" type="method_name" span="1290:16:1290:33">SwitchRightAction</jtok>
<jtok eid="75" type="string_literal" span="1291:19:1291:53">"Switch to the panel to the right"</jtok>
<jtok eid="76" type="method_name" span="1294:21:1294:36">actionPerformed</jtok>
<jtok eid="76" type="parameter_type" span="1294:37:1294:48">ActionEvent</jtok>
<jtok eid="76" type="parameter_name" span="1294:49:1294:50">e</jtok>
<jtok eid="76" type="line_comment" span="1295:13:1295:51">// System.out.println("switch right");</jtok>
<jtok eid="76" type="local_variable_name" span="1296:17:1296:18">i</jtok>
<jtok eid="76" type="primary_name_ref" span="1296:21:1296:27">tabbed</jtok>
<jtok eid="76" type="method_call" span="1296:28:1296:44">getSelectedIndex</jtok>
<jtok eid="76" type="primary_name_ref" span="1297:13:1297:19">tabbed</jtok>
<jtok eid="76" type="method_call" span="1297:20:1297:36">setSelectedIndex</jtok>
<jtok eid="76" type="primary_name_ref" span="1297:38:1297:39">i</jtok>
<jtok eid="76" type="primary_name_ref" span="1297:43:1297:49">tabbed</jtok>
<jtok eid="76" type="method_call" span="1297:50:1297:61">getTabCount</jtok>
<jtok eid="76" type="primary_name_ref" span="1297:73:1297:74">i</jtok>
<jtok eid="76" type="method_call" span="1298:13:1298:28">activateVisible</jtok>
<jtok eid="77" type="class_name" span="1303:11:1303:26">NextEntryAction</jtok>
<jtok eid="77" type="class_or_interface_ref" span="1303:35:1303:49">AbstractAction</jtok>
<jtok eid="78" type="method_name" span="1304:16:1304:31">NextEntryAction</jtok>
<jtok eid="78" type="primary_name_ref" span="1305:19:1305:26">Globals</jtok>
<jtok eid="78" type="method_call" span="1305:27:1305:31">lang</jtok>
<jtok eid="78" type="string_literal" span="1305:32:1305:44">"Next entry"</jtok>
<jtok eid="78" type="primary_name_ref" span="1305:47:1305:57">GUIGlobals</jtok>
<jtok eid="78" type="method_call" span="1305:58:1305:66">getImage</jtok>
<jtok eid="78" type="string_literal" span="1305:67:1305:73">"down"</jtok>
<jtok eid="78" type="method_call" span="1307:13:1307:21">putValue</jtok>
<jtok eid="78" type="primary_name_ref" span="1307:22:1307:39">SHORT_DESCRIPTION</jtok>
<jtok eid="78" type="primary_name_ref" span="1307:41:1307:48">Globals</jtok>
<jtok eid="78" type="method_call" span="1307:49:1307:53">lang</jtok>
<jtok eid="78" type="string_literal" span="1307:54:1307:66">"Next entry"</jtok>
<jtok eid="79" type="method_name" span="1310:21:1310:36">actionPerformed</jtok>
<jtok eid="79" type="parameter_type" span="1310:37:1310:48">ActionEvent</jtok>
<jtok eid="79" type="parameter_name" span="1310:49:1310:50">e</jtok>
<jtok eid="79" type="local_variable_name" span="1312:17:1312:24">thisRow</jtok>
<jtok eid="79" type="primary_name_ref" span="1312:27:1312:32">panel</jtok>
<jtok eid="79" type="qualified_name_ref" span="1312:33:1312:42">mainTable</jtok>
<jtok eid="79" type="method_call" span="1312:43:1312:52">findEntry</jtok>
<jtok eid="79" type="primary_name_ref" span="1312:53:1312:58">entry</jtok>
<jtok eid="79" type="local_variable_name" span="1313:17:1313:23">newRow</jtok>
<jtok eid="79" type="primary_name_ref" span="1315:18:1315:25">thisRow</jtok>
<jtok eid="79" type="primary_name_ref" span="1315:33:1315:38">panel</jtok>
<jtok eid="79" type="qualified_name_ref" span="1315:39:1315:47">database</jtok>
<jtok eid="79" type="method_call" span="1315:48:1315:61">getEntryCount</jtok>
<jtok eid="79" type="primary_name_ref" span="1316:17:1316:23">newRow</jtok>
<jtok eid="79" type="primary_name_ref" span="1316:26:1316:33">thisRow</jtok>
<jtok eid="79" type="primary_name_ref" span="1317:22:1317:29">thisRow</jtok>
<jtok eid="79" type="primary_name_ref" span="1318:17:1318:23">newRow</jtok>
<jtok eid="79" type="line_comment" span="1320:25:1320:81">// newRow is still -1, so we can assume the database has</jtok>
<jtok eid="79" type="line_comment" span="1321:25:1321:43">// only one entry.</jtok>
<jtok eid="79" type="method_call" span="1323:13:1323:21">scrollTo</jtok>
<jtok eid="79" type="primary_name_ref" span="1323:22:1323:28">newRow</jtok>
<jtok eid="79" type="primary_name_ref" span="1324:13:1324:18">panel</jtok>
<jtok eid="79" type="qualified_name_ref" span="1324:19:1324:28">mainTable</jtok>
<jtok eid="79" type="method_call" span="1324:29:1324:52">setRowSelectionInterval</jtok>
<jtok eid="79" type="primary_name_ref" span="1324:53:1324:59">newRow</jtok>
<jtok eid="79" type="primary_name_ref" span="1324:61:1324:67">newRow</jtok>
<jtok eid="80" type="class_name" span="1329:11:1329:26">PrevEntryAction</jtok>
<jtok eid="80" type="class_or_interface_ref" span="1329:35:1329:49">AbstractAction</jtok>
<jtok eid="81" type="method_name" span="1330:16:1330:31">PrevEntryAction</jtok>
<jtok eid="81" type="primary_name_ref" span="1331:19:1331:26">Globals</jtok>
<jtok eid="81" type="method_call" span="1331:27:1331:31">lang</jtok>
<jtok eid="81" type="string_literal" span="1331:32:1331:48">"Previous entry"</jtok>
<jtok eid="81" type="primary_name_ref" span="1331:51:1331:61">GUIGlobals</jtok>
<jtok eid="81" type="method_call" span="1331:62:1331:70">getImage</jtok>
<jtok eid="81" type="string_literal" span="1331:71:1331:75">"up"</jtok>
<jtok eid="81" type="method_call" span="1333:13:1333:21">putValue</jtok>
<jtok eid="81" type="primary_name_ref" span="1333:22:1333:39">SHORT_DESCRIPTION</jtok>
<jtok eid="81" type="primary_name_ref" span="1333:41:1333:48">Globals</jtok>
<jtok eid="81" type="method_call" span="1333:49:1333:53">lang</jtok>
<jtok eid="81" type="string_literal" span="1333:54:1333:70">"Previous entry"</jtok>
<jtok eid="82" type="method_name" span="1336:21:1336:36">actionPerformed</jtok>
<jtok eid="82" type="parameter_type" span="1336:37:1336:48">ActionEvent</jtok>
<jtok eid="82" type="parameter_name" span="1336:49:1336:50">e</jtok>
<jtok eid="82" type="local_variable_name" span="1337:17:1337:24">thisRow</jtok>
<jtok eid="82" type="primary_name_ref" span="1337:27:1337:32">panel</jtok>
<jtok eid="82" type="qualified_name_ref" span="1337:33:1337:42">mainTable</jtok>
<jtok eid="82" type="method_call" span="1337:43:1337:52">findEntry</jtok>
<jtok eid="82" type="primary_name_ref" span="1337:53:1337:58">entry</jtok>
<jtok eid="82" type="local_variable_name" span="1338:17:1338:23">newRow</jtok>
<jtok eid="82" type="primary_name_ref" span="1340:18:1340:25">thisRow</jtok>
<jtok eid="82" type="primary_name_ref" span="1341:17:1341:23">newRow</jtok>
<jtok eid="82" type="primary_name_ref" span="1341:26:1341:33">thisRow</jtok>
<jtok eid="82" type="primary_name_ref" span="1342:22:1342:29">thisRow</jtok>
<jtok eid="82" type="primary_name_ref" span="1342:34:1342:39">panel</jtok>
<jtok eid="82" type="qualified_name_ref" span="1342:40:1342:48">database</jtok>
<jtok eid="82" type="method_call" span="1342:49:1342:62">getEntryCount</jtok>
<jtok eid="82" type="primary_name_ref" span="1343:17:1343:23">newRow</jtok>
<jtok eid="82" type="primary_name_ref" span="1343:26:1343:31">panel</jtok>
<jtok eid="82" type="qualified_name_ref" span="1343:32:1343:40">database</jtok>
<jtok eid="82" type="method_call" span="1343:41:1343:54">getEntryCount</jtok>
<jtok eid="82" type="line_comment" span="1345:25:1345:81">// newRow is still -1, so we can assume the database has</jtok>
<jtok eid="82" type="line_comment" span="1346:25:1346:43">// only one entry.</jtok>
<jtok eid="82" type="line_comment" span="1347:13:1347:58">// id = panel.tableModel.getIdForRow(newRow);</jtok>
<jtok eid="82" type="line_comment" span="1348:13:1348:29">// switchTo(id);</jtok>
<jtok eid="82" type="method_call" span="1350:13:1350:21">scrollTo</jtok>
<jtok eid="82" type="primary_name_ref" span="1350:22:1350:28">newRow</jtok>
<jtok eid="82" type="primary_name_ref" span="1351:13:1351:18">panel</jtok>
<jtok eid="82" type="qualified_name_ref" span="1351:19:1351:28">mainTable</jtok>
<jtok eid="82" type="method_call" span="1351:29:1351:52">setRowSelectionInterval</jtok>
<jtok eid="82" type="primary_name_ref" span="1351:53:1351:59">newRow</jtok>
<jtok eid="82" type="primary_name_ref" span="1351:61:1351:67">newRow</jtok>
<jtok eid="83" type="class_name" span="1356:11:1356:28">GenerateKeyAction</jtok>
<jtok eid="83" type="class_or_interface_ref" span="1356:37:1356:51">AbstractAction</jtok>
<jtok eid="83" type="class_or_interface_ref" span="1357:9:1357:20">JabRefFrame</jtok>
<jtok eid="83" type="field_name" span="1357:21:1357:27">parent</jtok>
<jtok eid="83" type="class_or_interface_ref" span="1359:9:1359:20">BibtexEntry</jtok>
<jtok eid="83" type="field_name" span="1359:21:1359:34">selectedEntry</jtok>
<jtok eid="84" type="method_name" span="1361:16:1361:33">GenerateKeyAction</jtok>
<jtok eid="84" type="parameter_type" span="1361:34:1361:45">JabRefFrame</jtok>
<jtok eid="84" type="parameter_name" span="1361:46:1361:57">parentFrame</jtok>
<jtok eid="84" type="primary_name_ref" span="1362:19:1362:26">Globals</jtok>
<jtok eid="84" type="method_call" span="1362:27:1362:31">lang</jtok>
<jtok eid="84" type="string_literal" span="1362:32:1362:53">"Generate BibTeX key"</jtok>
<jtok eid="84" type="primary_name_ref" span="1362:56:1362:66">GUIGlobals</jtok>
<jtok eid="84" type="method_call" span="1362:67:1362:75">getImage</jtok>
<jtok eid="84" type="string_literal" span="1362:76:1362:85">"makeKey"</jtok>
<jtok eid="84" type="primary_name_ref" span="1363:13:1363:19">parent</jtok>
<jtok eid="84" type="primary_name_ref" span="1363:22:1363:33">parentFrame</jtok>
<jtok eid="84" type="line_comment" span="1365:13:1365:42">// selectedEntry = newEntry ;</jtok>
<jtok eid="84" type="method_call" span="1366:13:1366:21">putValue</jtok>
<jtok eid="84" type="primary_name_ref" span="1366:22:1366:39">SHORT_DESCRIPTION</jtok>
<jtok eid="84" type="primary_name_ref" span="1366:41:1366:48">Globals</jtok>
<jtok eid="84" type="method_call" span="1366:49:1366:53">lang</jtok>
<jtok eid="84" type="string_literal" span="1366:54:1366:75">"Generate BibTeX key"</jtok>
<jtok eid="84" type="line_comment" span="1368:13:1368:66">// putValue(MNEMONIC_KEY, GUIGlobals.showGenKeyCode);</jtok>
<jtok eid="85" type="method_name" span="1371:21:1371:36">actionPerformed</jtok>
<jtok eid="85" type="parameter_type" span="1371:37:1371:48">ActionEvent</jtok>
<jtok eid="85" type="parameter_name" span="1371:49:1371:50">e</jtok>
<jtok eid="85" type="line_comment" span="1372:13:1372:67">// 1. get Bitexentry for selected index (already have)</jtok>
<jtok eid="85" type="line_comment" span="1373:13:1373:43">// 2. run the LabelMaker by it</jtok>
<jtok eid="85" type="line_comment" span="1375:17:1375:83">// Store the current edit in case this action is called during the</jtok>
<jtok eid="85" type="line_comment" span="1376:17:1376:39">// editing of a field:</jtok>
<jtok eid="85" type="method_call" span="1377:17:1377:33">storeCurrentEdit</jtok>
<jtok eid="85" type="line_comment" span="1379:17:1379:75">// this updates the table automatically, on close, but not</jtok>
<jtok eid="85" type="line_comment" span="1380:17:1380:34">// within the tab</jtok>
<jtok eid="85" type="class_or_interface_ref" span="1381:17:1381:23">Object</jtok>
<jtok eid="85" type="local_variable_name" span="1381:24:1381:32">oldValue</jtok>
<jtok eid="85" type="primary_name_ref" span="1381:35:1381:40">entry</jtok>
<jtok eid="85" type="method_call" span="1381:41:1381:49">getField</jtok>
<jtok eid="85" type="primary_name_ref" span="1381:50:1381:62">BibtexFields</jtok>
<jtok eid="85" type="qualified_name_ref" span="1381:63:1381:72">KEY_FIELD</jtok>
<jtok eid="85" type="line_comment" span="1383:17:1383:79">// entry = frame.labelMaker.applyRule(entry, panel.database) ;</jtok>
<jtok eid="85" type="primary_name_ref" span="1384:17:1384:33">LabelPatternUtil</jtok>
<jtok eid="85" type="method_call" span="1384:34:1384:43">makeLabel</jtok>
<jtok eid="85" type="primary_name_ref" span="1384:44:1384:49">prefs</jtok>
<jtok eid="85" type="method_call" span="1384:50:1384:63">getKeyPattern</jtok>
<jtok eid="85" type="primary_name_ref" span="1384:67:1384:72">panel</jtok>
<jtok eid="85" type="qualified_name_ref" span="1384:73:1384:81">database</jtok>
<jtok eid="85" type="primary_name_ref" span="1384:83:1384:88">entry</jtok>
<jtok eid="85" type="line_comment" span="1386:17:1386:43">// Store undo information:</jtok>
<jtok eid="85" type="primary_name_ref" span="1387:17:1387:22">panel</jtok>
<jtok eid="85" type="qualified_name_ref" span="1387:23:1387:34">undoManager</jtok>
<jtok eid="85" type="method_call" span="1387:35:1387:42">addEdit</jtok>
<jtok eid="85" type="constructor_call" span="1387:47:1387:64">UndoableKeyChange</jtok>
<jtok eid="85" type="primary_name_ref" span="1387:65:1387:70">panel</jtok>
<jtok eid="85" type="qualified_name_ref" span="1387:71:1387:79">database</jtok>
<jtok eid="85" type="primary_name_ref" span="1387:81:1387:86">entry</jtok>
<jtok eid="85" type="method_call" span="1387:87:1387:92">getId</jtok>
<jtok eid="85" type="class_or_interface_ref" span="1388:22:1388:28">String</jtok>
<jtok eid="85" type="primary_name_ref" span="1388:30:1388:38">oldValue</jtok>
<jtok eid="85" type="primary_name_ref" span="1388:40:1388:45">entry</jtok>
<jtok eid="85" type="method_call" span="1388:46:1388:54">getField</jtok>
<jtok eid="85" type="primary_name_ref" span="1388:55:1388:67">BibtexFields</jtok>
<jtok eid="85" type="qualified_name_ref" span="1388:68:1388:77">KEY_FIELD</jtok>
<jtok eid="85" type="line_comment" span="1390:17:1390:44">// here we update the field</jtok>
<jtok eid="85" type="class_or_interface_ref" span="1391:17:1391:23">String</jtok>
<jtok eid="85" type="local_variable_name" span="1391:24:1391:37">bibtexKeyData</jtok>
<jtok eid="85" type="primary_name_ref" span="1391:40:1391:45">entry</jtok>
<jtok eid="85" type="method_call" span="1391:46:1391:54">getField</jtok>
<jtok eid="85" type="primary_name_ref" span="1391:55:1391:67">BibtexFields</jtok>
<jtok eid="85" type="qualified_name_ref" span="1391:68:1391:77">KEY_FIELD</jtok>
<jtok eid="85" type="line_comment" span="1393:17:1393:55">// set the field named for "bibtexkey"</jtok>
<jtok eid="85" type="method_call" span="1394:17:1394:25">setField</jtok>
<jtok eid="85" type="primary_name_ref" span="1394:26:1394:38">BibtexFields</jtok>
<jtok eid="85" type="qualified_name_ref" span="1394:39:1394:48">KEY_FIELD</jtok>
<jtok eid="85" type="primary_name_ref" span="1394:50:1394:63">bibtexKeyData</jtok>
<jtok eid="85" type="method_call" span="1395:17:1395:29">updateSource</jtok>
<jtok eid="85" type="primary_name_ref" span="1396:17:1396:22">panel</jtok>
<jtok eid="85" type="method_call" span="1396:23:1396:38">markBaseChanged</jtok>
<jtok eid="85" type="class_or_interface_ref" span="1397:22:1397:31">Throwable</jtok>
<jtok eid="85" type="local_variable_name" span="1397:32:1397:33">t</jtok>
<jtok eid="85" type="primary_name_ref" span="1398:17:1398:23">System</jtok>
<jtok eid="85" type="qualified_name_ref" span="1398:24:1398:27">err</jtok>
<jtok eid="85" type="method_call" span="1398:28:1398:35">println</jtok>
<jtok eid="85" type="string_literal" span="1398:36:1398:57">"error setting key: "</jtok>
<jtok eid="85" type="primary_name_ref" span="1398:60:1398:61">t</jtok>
<jtok eid="86" type="class_name" span="1403:11:1403:21">UndoAction</jtok>
<jtok eid="86" type="class_or_interface_ref" span="1403:30:1403:44">AbstractAction</jtok>
<jtok eid="87" type="method_name" span="1404:16:1404:26">UndoAction</jtok>
<jtok eid="87" type="string_literal" span="1405:19:1405:25">"Undo"</jtok>
<jtok eid="87" type="primary_name_ref" span="1405:27:1405:37">GUIGlobals</jtok>
<jtok eid="87" type="method_call" span="1405:38:1405:46">getImage</jtok>
<jtok eid="87" type="string_literal" span="1405:47:1405:53">"undo"</jtok>
<jtok eid="87" type="method_call" span="1406:13:1406:21">putValue</jtok>
<jtok eid="87" type="primary_name_ref" span="1406:22:1406:39">SHORT_DESCRIPTION</jtok>
<jtok eid="87" type="string_literal" span="1406:41:1406:47">"Undo"</jtok>
<jtok eid="88" type="method_name" span="1409:21:1409:36">actionPerformed</jtok>
<jtok eid="88" type="parameter_type" span="1409:37:1409:48">ActionEvent</jtok>
<jtok eid="88" type="parameter_name" span="1409:49:1409:50">e</jtok>
<jtok eid="88" type="primary_name_ref" span="1411:17:1411:22">panel</jtok>
<jtok eid="88" type="method_call" span="1411:23:1411:33">runCommand</jtok>
<jtok eid="88" type="string_literal" span="1411:34:1411:40">"undo"</jtok>
<jtok eid="88" type="class_or_interface_ref" span="1412:22:1412:31">Throwable</jtok>
<jtok eid="88" type="local_variable_name" span="1412:32:1412:34">ex</jtok>
<jtok eid="89" type="class_name" span="1417:11:1417:21">RedoAction</jtok>
<jtok eid="89" type="class_or_interface_ref" span="1417:30:1417:44">AbstractAction</jtok>
<jtok eid="90" type="method_name" span="1418:16:1418:26">RedoAction</jtok>
<jtok eid="90" type="string_literal" span="1419:19:1419:25">"Undo"</jtok>
<jtok eid="90" type="primary_name_ref" span="1419:27:1419:37">GUIGlobals</jtok>
<jtok eid="90" type="method_call" span="1419:38:1419:46">getImage</jtok>
<jtok eid="90" type="string_literal" span="1419:47:1419:53">"redo"</jtok>
<jtok eid="90" type="method_call" span="1420:13:1420:21">putValue</jtok>
<jtok eid="90" type="primary_name_ref" span="1420:22:1420:39">SHORT_DESCRIPTION</jtok>
<jtok eid="90" type="string_literal" span="1420:41:1420:47">"Redo"</jtok>
<jtok eid="91" type="method_name" span="1423:21:1423:36">actionPerformed</jtok>
<jtok eid="91" type="parameter_type" span="1423:37:1423:48">ActionEvent</jtok>
<jtok eid="91" type="parameter_name" span="1423:49:1423:50">e</jtok>
<jtok eid="91" type="primary_name_ref" span="1425:17:1425:22">panel</jtok>
<jtok eid="91" type="method_call" span="1425:23:1425:33">runCommand</jtok>
<jtok eid="91" type="string_literal" span="1425:34:1425:40">"redo"</jtok>
<jtok eid="91" type="class_or_interface_ref" span="1426:22:1426:31">Throwable</jtok>
<jtok eid="91" type="local_variable_name" span="1426:32:1426:34">ex</jtok>
<jtok eid="92" type="class_name" span="1431:11:1431:29">SaveDatabaseAction</jtok>
<jtok eid="92" type="class_or_interface_ref" span="1431:38:1431:52">AbstractAction</jtok>
<jtok eid="93" type="method_name" span="1432:16:1432:34">SaveDatabaseAction</jtok>
<jtok eid="93" type="string_literal" span="1433:19:1433:34">"Save database"</jtok>
<jtok eid="94" type="method_name" span="1436:21:1436:36">actionPerformed</jtok>
<jtok eid="94" type="parameter_type" span="1436:37:1436:48">ActionEvent</jtok>
<jtok eid="94" type="parameter_name" span="1436:49:1436:50">e</jtok>
<jtok eid="94" type="class_or_interface_ref" span="1437:13:1437:19">Object</jtok>
<jtok eid="94" type="local_variable_name" span="1437:20:1437:29">activeTab</jtok>
<jtok eid="94" type="primary_name_ref" span="1437:32:1437:36">tabs</jtok>
<jtok eid="94" type="method_call" span="1437:37:1437:40">get</jtok>
<jtok eid="94" type="primary_name_ref" span="1437:41:1437:47">tabbed</jtok>
<jtok eid="94" type="method_call" span="1437:48:1437:64">getSelectedIndex</jtok>
<jtok eid="94" type="primary_name_ref" span="1438:17:1438:26">activeTab</jtok>
<jtok eid="94" type="class_or_interface_ref" span="1438:38:1438:52">EntryEditorTab</jtok>
<jtok eid="94" type="line_comment" span="1439:17:1439:33">// Normal panel.</jtok>
<jtok eid="94" type="class_or_interface_ref" span="1440:17:1440:31">EntryEditorTab</jtok>
<jtok eid="94" type="local_variable_name" span="1440:32:1440:34">fp</jtok>
<jtok eid="94" type="class_or_interface_ref" span="1440:38:1440:52">EntryEditorTab</jtok>
<jtok eid="94" type="primary_name_ref" span="1440:54:1440:63">activeTab</jtok>
<jtok eid="94" type="class_or_interface_ref" span="1441:17:1441:28">FieldEditor</jtok>
<jtok eid="94" type="local_variable_name" span="1441:29:1441:31">fe</jtok>
<jtok eid="94" type="primary_name_ref" span="1441:34:1441:36">fp</jtok>
<jtok eid="94" type="method_call" span="1441:37:1441:46">getActive</jtok>
<jtok eid="94" type="primary_name_ref" span="1442:17:1442:19">fe</jtok>
<jtok eid="94" type="method_call" span="1442:20:1442:47">clearAutoCompleteSuggestion</jtok>
<jtok eid="94" type="method_call" span="1443:17:1443:28">updateField</jtok>
<jtok eid="94" type="primary_name_ref" span="1443:29:1443:31">fe</jtok>
<jtok eid="94" type="line_comment" span="1445:17:1445:33">// Source panel.</jtok>
<jtok eid="94" type="method_call" span="1446:17:1446:28">updateField</jtok>
<jtok eid="94" type="primary_name_ref" span="1446:29:1446:38">activeTab</jtok>
<jtok eid="94" type="primary_name_ref" span="1449:17:1449:22">panel</jtok>
<jtok eid="94" type="method_call" span="1449:23:1449:33">runCommand</jtok>
<jtok eid="94" type="string_literal" span="1449:34:1449:40">"save"</jtok>
<jtok eid="94" type="class_or_interface_ref" span="1450:22:1450:31">Throwable</jtok>
<jtok eid="94" type="local_variable_name" span="1450:32:1450:34">ex</jtok>
<jtok eid="95" type="class_name" span="1455:11:1455:33">ExternalViewerListener</jtok>
<jtok eid="95" type="class_or_interface_ref" span="1455:42:1455:54">MouseAdapter</jtok>
<jtok eid="96" type="method_name" span="1456:21:1456:33">mouseClicked</jtok>
<jtok eid="96" type="parameter_type" span="1456:34:1456:44">MouseEvent</jtok>
<jtok eid="96" type="parameter_name" span="1456:45:1456:48">evt</jtok>
<jtok eid="96" type="primary_name_ref" span="1457:17:1457:20">evt</jtok>
<jtok eid="96" type="method_call" span="1457:21:1457:34">getClickCount</jtok>
<jtok eid="96" type="class_or_interface_ref" span="1458:17:1458:30">FieldTextArea</jtok>
<jtok eid="96" type="local_variable_name" span="1458:31:1458:33">tf</jtok>
<jtok eid="96" type="class_or_interface_ref" span="1458:37:1458:50">FieldTextArea</jtok>
<jtok eid="96" type="primary_name_ref" span="1458:52:1458:55">evt</jtok>
<jtok eid="96" type="method_call" span="1458:56:1458:65">getSource</jtok>
<jtok eid="96" type="primary_name_ref" span="1460:21:1460:23">tf</jtok>
<jtok eid="96" type="method_call" span="1460:24:1460:31">getText</jtok>
<jtok eid="96" type="method_call" span="1460:34:1460:40">equals</jtok>
<jtok eid="96" type="string_literal" span="1460:41:1460:43">""</jtok>
<jtok eid="96" type="primary_name_ref" span="1463:17:1463:19">tf</jtok>
<jtok eid="96" type="method_call" span="1463:20:1463:29">selectAll</jtok>
<jtok eid="96" type="class_or_interface_ref" span="1465:17:1465:23">String</jtok>
<jtok eid="96" type="local_variable_name" span="1465:24:1465:28">link</jtok>
<jtok eid="96" type="primary_name_ref" span="1465:31:1465:33">tf</jtok>
<jtok eid="96" type="method_call" span="1465:34:1465:41">getText</jtok>
<jtok eid="96" type="line_comment" span="1465:45:1465:69">// get selected ? String</jtok>
<jtok eid="96" type="line_comment" span="1467:17:1467:37">// getSelectedText()</jtok>
<jtok eid="96" type="primary_name_ref" span="1469:21:1469:25">Util</jtok>
<jtok eid="96" type="method_call" span="1469:26:1469:44">openExternalViewer</jtok>
<jtok eid="96" type="primary_name_ref" span="1469:45:1469:50">panel</jtok>
<jtok eid="96" type="method_call" span="1469:51:1469:59">metaData</jtok>
<jtok eid="96" type="primary_name_ref" span="1469:63:1469:67">link</jtok>
<jtok eid="96" type="primary_name_ref" span="1469:69:1469:71">tf</jtok>
<jtok eid="96" type="method_call" span="1469:72:1469:84">getFieldName</jtok>
<jtok eid="96" type="class_or_interface_ref" span="1470:26:1470:37">IOException</jtok>
<jtok eid="96" type="local_variable_name" span="1470:38:1470:40">ex</jtok>
<jtok eid="96" type="primary_name_ref" span="1471:21:1471:27">System</jtok>
<jtok eid="96" type="qualified_name_ref" span="1471:28:1471:31">err</jtok>
<jtok eid="96" type="method_call" span="1471:32:1471:39">println</jtok>
<jtok eid="96" type="string_literal" span="1471:40:1471:61">"Error opening file."</jtok>
<jtok eid="97" type="class_name" span="1477:11:1477:27">ChangeTypeAction</jtok>
<jtok eid="97" type="class_or_interface_ref" span="1477:36:1477:50">AbstractAction</jtok>
<jtok eid="97" type="class_or_interface_ref" span="1478:9:1478:24">BibtexEntryType</jtok>
<jtok eid="97" type="field_name" span="1478:25:1478:29">type</jtok>
<jtok eid="97" type="class_or_interface_ref" span="1480:9:1480:18">BasePanel</jtok>
<jtok eid="97" type="field_name" span="1480:19:1480:24">panel</jtok>
<jtok eid="98" type="method_name" span="1482:16:1482:32">ChangeTypeAction</jtok>
<jtok eid="98" type="parameter_type" span="1482:33:1482:48">BibtexEntryType</jtok>
<jtok eid="98" type="parameter_name" span="1482:49:1482:53">type</jtok>
<jtok eid="98" type="parameter_type" span="1482:55:1482:64">BasePanel</jtok>
<jtok eid="98" type="parameter_name" span="1482:65:1482:67">bp</jtok>
<jtok eid="98" type="primary_name_ref" span="1483:19:1483:23">type</jtok>
<jtok eid="98" type="method_call" span="1483:24:1483:31">getName</jtok>
<jtok eid="98" type="qualified_name_ref" span="1484:18:1484:22">type</jtok>
<jtok eid="98" type="primary_name_ref" span="1484:25:1484:29">type</jtok>
<jtok eid="98" type="primary_name_ref" span="1485:13:1485:18">panel</jtok>
<jtok eid="98" type="primary_name_ref" span="1485:21:1485:23">bp</jtok>
<jtok eid="99" type="method_name" span="1488:21:1488:36">actionPerformed</jtok>
<jtok eid="99" type="parameter_type" span="1488:37:1488:48">ActionEvent</jtok>
<jtok eid="99" type="parameter_name" span="1488:49:1488:52">evt</jtok>
<jtok eid="99" type="primary_name_ref" span="1489:13:1489:18">panel</jtok>
<jtok eid="99" type="method_call" span="1489:19:1489:29">changeType</jtok>
<jtok eid="99" type="primary_name_ref" span="1489:30:1489:35">entry</jtok>
<jtok eid="99" type="primary_name_ref" span="1489:37:1489:41">type</jtok>
<jtok eid="100" type="method_name" span="1493:18:1493:40">warnDuplicateBibtexkey</jtok>
<jtok eid="100" type="primary_name_ref" span="1494:9:1494:14">panel</jtok>
<jtok eid="100" type="method_call" span="1494:15:1494:21">output</jtok>
<jtok eid="100" type="primary_name_ref" span="1494:22:1494:29">Globals</jtok>
<jtok eid="100" type="method_call" span="1494:30:1494:34">lang</jtok>
<jtok eid="100" type="string_literal" span="1494:35:1494:44">"Warning"</jtok>
<jtok eid="100" type="string_literal" span="1494:48:1494:52">": "</jtok>
<jtok eid="100" type="primary_name_ref" span="1494:55:1494:62">Globals</jtok>
<jtok eid="100" type="method_call" span="1494:63:1494:67">lang</jtok>
<jtok eid="100" type="string_literal" span="1494:68:1494:91">"Duplicate BibTeX key."</jtok>
<jtok eid="100" type="primary_name_ref" span="1496:13:1496:18">prefs</jtok>
<jtok eid="100" type="method_call" span="1496:19:1496:29">getBoolean</jtok>
<jtok eid="100" type="string_literal" span="1496:30:1496:60">"dialogWarningForDuplicateKey"</jtok>
<jtok eid="100" type="line_comment" span="1497:13:1497:29">// JZTODO lyrics</jtok>
<jtok eid="100" type="class_or_interface_ref" span="1498:13:1498:28">CheckBoxMessage</jtok>
<jtok eid="100" type="local_variable_name" span="1498:29:1498:32">jcb</jtok>
<jtok eid="100" type="constructor_call" span="1498:39:1498:54">CheckBoxMessage</jtok>
<jtok eid="100" type="primary_name_ref" span="1498:55:1498:62">Globals</jtok>
<jtok eid="100" type="method_call" span="1498:63:1498:67">lang</jtok>
<jtok eid="100" type="string_literal" span="1498:68:1498:77">"Warning"</jtok>
<jtok eid="100" type="string_literal" span="1498:81:1498:85">": "</jtok>
<jtok eid="100" type="primary_name_ref" span="1499:19:1499:26">Globals</jtok>
<jtok eid="100" type="method_call" span="1499:27:1499:31">lang</jtok>
<jtok eid="100" type="string_literal" span="1499:32:1499:93">"Duplicate BibTeX key. Grouping may not work for this entry."</jtok>
<jtok eid="100" type="primary_name_ref" span="1500:17:1500:24">Globals</jtok>
<jtok eid="100" type="method_call" span="1500:25:1500:29">lang</jtok>
<jtok eid="100" type="string_literal" span="1500:30:1500:59">"Disable this warning dialog"</jtok>
<jtok eid="100" type="primary_name_ref" span="1501:13:1501:24">JOptionPane</jtok>
<jtok eid="100" type="method_call" span="1501:25:1501:42">showMessageDialog</jtok>
<jtok eid="100" type="primary_name_ref" span="1501:43:1501:48">frame</jtok>
<jtok eid="100" type="primary_name_ref" span="1501:50:1501:53">jcb</jtok>
<jtok eid="100" type="primary_name_ref" span="1501:55:1501:62">Globals</jtok>
<jtok eid="100" type="method_call" span="1501:63:1501:67">lang</jtok>
<jtok eid="100" type="string_literal" span="1501:68:1501:77">"Warning"</jtok>
<jtok eid="100" type="primary_name_ref" span="1502:17:1502:28">JOptionPane</jtok>
<jtok eid="100" type="qualified_name_ref" span="1502:29:1502:44">WARNING_MESSAGE</jtok>
<jtok eid="100" type="primary_name_ref" span="1504:17:1504:20">jcb</jtok>
<jtok eid="100" type="method_call" span="1504:21:1504:31">isSelected</jtok>
<jtok eid="100" type="primary_name_ref" span="1505:17:1505:22">prefs</jtok>
<jtok eid="100" type="method_call" span="1505:23:1505:33">putBoolean</jtok>
<jtok eid="100" type="string_literal" span="1505:34:1505:64">"dialogWarningForDuplicateKey"</jtok>
<jtok eid="101" type="method_name" span="1509:18:1509:36">warnEmptyBibtexkey</jtok>
<jtok eid="101" type="line_comment" span="1510:9:1510:25">// JZTODO lyrics</jtok>
<jtok eid="101" type="primary_name_ref" span="1511:9:1511:14">panel</jtok>
<jtok eid="101" type="method_call" span="1511:15:1511:21">output</jtok>
<jtok eid="101" type="primary_name_ref" span="1511:22:1511:29">Globals</jtok>
<jtok eid="101" type="method_call" span="1511:30:1511:34">lang</jtok>
<jtok eid="101" type="string_literal" span="1511:35:1511:44">"Warning"</jtok>
<jtok eid="101" type="string_literal" span="1511:48:1511:52">": "</jtok>
<jtok eid="101" type="primary_name_ref" span="1511:55:1511:62">Globals</jtok>
<jtok eid="101" type="method_call" span="1511:63:1511:67">lang</jtok>
<jtok eid="101" type="string_literal" span="1511:68:1511:87">"Empty BibTeX key."</jtok>
<jtok eid="101" type="primary_name_ref" span="1513:13:1513:18">prefs</jtok>
<jtok eid="101" type="method_call" span="1513:19:1513:29">getBoolean</jtok>
<jtok eid="101" type="string_literal" span="1513:30:1513:56">"dialogWarningForEmptyKey"</jtok>
<jtok eid="101" type="line_comment" span="1514:13:1514:29">// JZTODO lyrics</jtok>
<jtok eid="101" type="class_or_interface_ref" span="1515:13:1515:28">CheckBoxMessage</jtok>
<jtok eid="101" type="local_variable_name" span="1515:29:1515:32">jcb</jtok>
<jtok eid="101" type="constructor_call" span="1515:39:1515:54">CheckBoxMessage</jtok>
<jtok eid="101" type="primary_name_ref" span="1515:55:1515:62">Globals</jtok>
<jtok eid="101" type="method_call" span="1515:63:1515:67">lang</jtok>
<jtok eid="101" type="string_literal" span="1515:68:1515:77">"Warning"</jtok>
<jtok eid="101" type="string_literal" span="1515:81:1515:85">": "</jtok>
<jtok eid="101" type="primary_name_ref" span="1516:19:1516:26">Globals</jtok>
<jtok eid="101" type="method_call" span="1516:27:1516:31">lang</jtok>
<jtok eid="101" type="string_literal" span="1516:32:1516:89">"Empty BibTeX key. Grouping may not work for this entry."</jtok>
<jtok eid="101" type="primary_name_ref" span="1516:92:1516:99">Globals</jtok>
<jtok eid="101" type="method_call" span="1517:18:1517:22">lang</jtok>
<jtok eid="101" type="string_literal" span="1517:23:1517:52">"Disable this warning dialog"</jtok>
<jtok eid="101" type="primary_name_ref" span="1518:13:1518:24">JOptionPane</jtok>
<jtok eid="101" type="method_call" span="1518:25:1518:42">showMessageDialog</jtok>
<jtok eid="101" type="primary_name_ref" span="1518:43:1518:48">frame</jtok>
<jtok eid="101" type="primary_name_ref" span="1518:50:1518:53">jcb</jtok>
<jtok eid="101" type="primary_name_ref" span="1518:55:1518:62">Globals</jtok>
<jtok eid="101" type="method_call" span="1518:63:1518:67">lang</jtok>
<jtok eid="101" type="string_literal" span="1518:68:1518:77">"Warning"</jtok>
<jtok eid="101" type="primary_name_ref" span="1519:17:1519:28">JOptionPane</jtok>
<jtok eid="101" type="qualified_name_ref" span="1519:29:1519:44">WARNING_MESSAGE</jtok>
<jtok eid="101" type="primary_name_ref" span="1521:17:1521:20">jcb</jtok>
<jtok eid="101" type="method_call" span="1521:21:1521:31">isSelected</jtok>
<jtok eid="101" type="primary_name_ref" span="1522:17:1522:22">prefs</jtok>
<jtok eid="101" type="method_call" span="1522:23:1522:33">putBoolean</jtok>
<jtok eid="101" type="string_literal" span="1522:34:1522:60">"dialogWarningForEmptyKey"</jtok>
<jtok eid="102" type="class_name" span="1527:11:1527:28">AutoSetFileAction</jtok>
<jtok eid="102" type="class_or_interface_ref" span="1527:37:1527:51">AbstractAction</jtok>
<jtok eid="103" type="method_name" span="1528:16:1528:33">AutoSetFileAction</jtok>
<jtok eid="103" type="method_call" span="1529:13:1529:21">putValue</jtok>
<jtok eid="103" type="primary_name_ref" span="1529:22:1529:32">SMALL_ICON</jtok>
<jtok eid="103" type="primary_name_ref" span="1529:34:1529:44">GUIGlobals</jtok>
<jtok eid="103" type="method_call" span="1529:45:1529:53">getImage</jtok>
<jtok eid="103" type="string_literal" span="1529:54:1529:65">"autoGroup"</jtok>
<jtok eid="103" type="method_call" span="1530:13:1530:21">putValue</jtok>
<jtok eid="103" type="primary_name_ref" span="1530:22:1530:39">SHORT_DESCRIPTION</jtok>
<jtok eid="103" type="primary_name_ref" span="1530:41:1530:48">Globals</jtok>
<jtok eid="103" type="method_call" span="1530:49:1530:53">lang</jtok>
<jtok eid="103" type="string_literal" span="1530:54:1530:99">"Automatically set file links for this entry"</jtok>
<jtok eid="103" type="string_literal" span="1531:22:1531:32">" (Alt-F)"</jtok>
<jtok eid="104" type="method_name" span="1534:21:1534:36">actionPerformed</jtok>
<jtok eid="104" type="parameter_type" span="1534:37:1534:48">ActionEvent</jtok>
<jtok eid="104" type="parameter_name" span="1534:49:1534:54">event</jtok>
<jtok eid="104" type="class_or_interface_ref" span="1535:13:1535:20">JDialog</jtok>
<jtok eid="104" type="local_variable_name" span="1535:21:1535:25">diag</jtok>
<jtok eid="104" type="constructor_call" span="1535:32:1535:39">JDialog</jtok>
<jtok eid="104" type="primary_name_ref" span="1535:40:1535:45">frame</jtok>
<jtok eid="104" type="class_or_interface_ref" span="1536:19:1536:37">FileListTableModel</jtok>
<jtok eid="104" type="local_variable_name" span="1536:38:1536:48">tableModel</jtok>
<jtok eid="104" type="constructor_call" span="1536:55:1536:73">FileListTableModel</jtok>
<jtok eid="104" type="primary_name_ref" span="1537:13:1537:23">tableModel</jtok>
<jtok eid="104" type="method_call" span="1537:24:1537:34">setContent</jtok>
<jtok eid="104" type="primary_name_ref" span="1537:35:1537:40">entry</jtok>
<jtok eid="104" type="method_call" span="1537:41:1537:49">getField</jtok>
<jtok eid="104" type="primary_name_ref" span="1537:50:1537:60">GUIGlobals</jtok>
<jtok eid="104" type="qualified_name_ref" span="1537:61:1537:71">FILE_FIELD</jtok>
<jtok eid="104" type="primary_name_ref" span="1538:13:1538:27">FileListEditor</jtok>
<jtok eid="104" type="method_call" span="1538:28:1538:40">autoSetLinks</jtok>
<jtok eid="104" type="primary_name_ref" span="1538:41:1538:46">entry</jtok>
<jtok eid="104" type="primary_name_ref" span="1538:48:1538:58">tableModel</jtok>
<jtok eid="104" type="primary_name_ref" span="1538:60:1538:65">panel</jtok>
<jtok eid="104" type="method_call" span="1538:66:1538:74">metaData</jtok>
<jtok eid="104" type="constructor_call" span="1538:82:1538:96">ActionListener</jtok>
<jtok eid="106" type="method_name" span="1539:29:1539:44">actionPerformed</jtok>
<jtok eid="106" type="parameter_type" span="1539:45:1539:56">ActionEvent</jtok>
<jtok eid="106" type="parameter_name" span="1539:57:1539:58">e</jtok>
<jtok eid="106" type="primary_name_ref" span="1540:25:1540:26">e</jtok>
<jtok eid="106" type="method_call" span="1540:27:1540:32">getID</jtok>
<jtok eid="106" type="primary_name_ref" span="1541:25:1541:30">entry</jtok>
<jtok eid="106" type="method_call" span="1541:31:1541:39">setField</jtok>
<jtok eid="106" type="primary_name_ref" span="1541:40:1541:50">GUIGlobals</jtok>
<jtok eid="106" type="qualified_name_ref" span="1541:51:1541:61">FILE_FIELD</jtok>
<jtok eid="106" type="primary_name_ref" span="1541:63:1541:73">tableModel</jtok>
<jtok eid="106" type="method_call" span="1541:74:1541:97">getStringRepresentation</jtok>
<jtok eid="106" type="primary_name_ref" span="1542:25:1542:30">frame</jtok>
<jtok eid="106" type="method_call" span="1542:31:1542:37">output</jtok>
<jtok eid="106" type="primary_name_ref" span="1542:38:1542:45">Globals</jtok>
<jtok eid="106" type="method_call" span="1542:46:1542:50">lang</jtok>
<jtok eid="106" type="string_literal" span="1542:51:1542:89">"Finished autosetting external links."</jtok>
<jtok eid="106" type="primary_name_ref" span="1544:26:1544:31">frame</jtok>
<jtok eid="106" type="method_call" span="1544:32:1544:38">output</jtok>
<jtok eid="106" type="primary_name_ref" span="1544:39:1544:46">Globals</jtok>
<jtok eid="106" type="method_call" span="1544:47:1544:51">lang</jtok>
<jtok eid="106" type="string_literal" span="1544:52:1544:90">"Finished autosetting external links."</jtok>
<jtok eid="106" type="string_literal" span="1545:26:1545:29">" "</jtok>
<jtok eid="106" type="primary_name_ref" span="1545:30:1545:37">Globals</jtok>
<jtok eid="106" type="method_call" span="1545:38:1545:42">lang</jtok>
<jtok eid="106" type="string_literal" span="1545:43:1545:60">"No files found."</jtok>
<jtok eid="104" type="primary_name_ref" span="1547:16:1547:20">diag</jtok>
</jdoc>