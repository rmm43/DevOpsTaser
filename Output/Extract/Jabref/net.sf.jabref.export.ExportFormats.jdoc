<?xml version="1.0" encoding="utf-8"?>
<jdoc cUnit="net.sf.jabref.export.ExportFormats" jls="java5">
<jent id="0" type="file" span="0:0:316:1">Source/jabref/src/java/net/sf/jabref/export/ExportFormats.java</jent>
<jent id="1" pid="0" type="class" span="26:1:316:1">net.sf.jabref.export.ExportFormats</jent>
<jent id="2" pid="1" type="method" span="33:5:118:5">net.sf.jabref.export.ExportFormats.initAllExports()</jent>
<jent id="3" pid="2" type="class" span="78:34:101:5">net.sf.jabref.export.ExportFormats.initAllExports().$1</jent>
<jent id="4" pid="3" type="method" span="80:6:82:6">net.sf.jabref.export.ExportFormats.initAllExports().$1.getConsoleName()</jent>
<jent id="5" pid="3" type="method" span="84:6:86:6">net.sf.jabref.export.ExportFormats.initAllExports().$1.getDisplayName()</jent>
<jent id="6" pid="3" type="method" span="88:6:90:6">net.sf.jabref.export.ExportFormats.initAllExports().$1.getFileFilter()</jent>
<jent id="7" pid="3" type="method" span="93:6:100:6">net.sf.jabref.export.ExportFormats.initAllExports().$1.performExport(BibtexDatabase,MetaData,String,String,Set&lt;String&gt;)</jent>
<jent id="8" pid="1" type="method" span="130:2:147:2">net.sf.jabref.export.ExportFormats.getConsoleExportList(int,int,String)</jent>
<jent id="9" pid="1" type="method" span="153:5:156:5">net.sf.jabref.export.ExportFormats.getExportFormats()</jent>
<jent id="10" pid="1" type="method" span="166:2:168:2">net.sf.jabref.export.ExportFormats.getExportFormat(String)</jent>
<jent id="11" pid="1" type="method" span="180:2:288:2">net.sf.jabref.export.ExportFormats.getExportAction(JabRefFrame,boolean)</jent>
<jent id="12" pid="11" type="class" span="182:3:285:3">net.sf.jabref.export.ExportFormats.getExportAction(JabRefFrame,boolean).ExportAction</jent>
<jent id="13" pid="12" type="method" span="190:4:194:4">net.sf.jabref.export.ExportFormats.getExportAction(JabRefFrame,boolean).ExportAction.ExportAction(JabRefFrame,boolean)</jent>
<jent id="14" pid="12" type="method" span="196:4:284:4">net.sf.jabref.export.ExportFormats.getExportAction(JabRefFrame,boolean).ExportAction.actionPerformed(ActionEvent)</jent>
<jent id="15" pid="14" type="class" span="244:72:277:21">net.sf.jabref.export.ExportFormats.getExportAction(JabRefFrame,boolean).ExportAction.actionPerformed(ActionEvent).$1</jent>
<jent id="16" pid="15" type="method" span="246:25:260:25">net.sf.jabref.export.ExportFormats.getExportAction(JabRefFrame,boolean).ExportAction.actionPerformed(ActionEvent).$1.run()</jent>
<jent id="17" pid="15" type="method" span="262:25:276:25">net.sf.jabref.export.ExportFormats.getExportAction(JabRefFrame,boolean).ExportAction.actionPerformed(ActionEvent).$1.update()</jent>
<jent id="18" pid="1" type="method" span="291:5:310:2">net.sf.jabref.export.ExportFormats.createExportFileChooser(String)</jent>
<jent id="19" pid="1" type="method" span="312:2:314:2">net.sf.jabref.export.ExportFormats.putFormat(IExportFormat)</jent>
<jtok eid="0" type="block_comment" span="19:1:25:4">/**
 * User: alver
 * 
 * Date: Oct 18, 2006 
 * 
 * Time: 9:35:08 PM 
 */</jtok>
<jtok eid="1" type="class_name" span="26:14:26:27">ExportFormats</jtok>
<jtok eid="1" type="class_or_interface_ref" span="28:17:28:20">Map</jtok>
<jtok eid="1" type="class_or_interface_ref" span="28:21:28:27">String</jtok>
<jtok eid="1" type="class_or_interface_ref" span="28:28:28:41">IExportFormat</jtok>
<jtok eid="1" type="field_name" span="28:43:28:56">exportFormats</jtok>
<jtok eid="1" type="constructor_call" span="28:63:28:70">TreeMap</jtok>
<jtok eid="1" type="constructor_call" span="28:71:28:77">String</jtok>
<jtok eid="1" type="constructor_call" span="28:78:28:91">IExportFormat</jtok>
<jtok eid="1" type="line_comment" span="30:5:30:80">// Global variable that is used for counting output entries when exporting:</jtok>
<jtok eid="1" type="field_name" span="31:23:31:34">entryNumber</jtok>
<jtok eid="2" type="method_name" span="33:24:33:38">initAllExports</jtok>
<jtok eid="2" type="primary_name_ref" span="35:9:35:22">exportFormats</jtok>
<jtok eid="2" type="method_call" span="35:23:35:28">clear</jtok>
<jtok eid="2" type="line_comment" span="37:9:37:46">// Initialize Build-In Export Formats</jtok>
<jtok eid="2" type="method_call" span="38:9:38:18">putFormat</jtok>
<jtok eid="2" type="constructor_call" span="38:23:38:35">ExportFormat</jtok>
<jtok eid="2" type="primary_name_ref" span="39:17:39:24">Globals</jtok>
<jtok eid="2" type="method_call" span="39:25:39:29">lang</jtok>
<jtok eid="2" type="string_literal" span="39:30:39:36">"HTML"</jtok>
<jtok eid="2" type="string_literal" span="39:39:39:45">"html"</jtok>
<jtok eid="2" type="string_literal" span="39:47:39:53">"html"</jtok>
<jtok eid="2" type="string_literal" span="39:61:39:68">".html"</jtok>
<jtok eid="2" type="method_call" span="40:9:40:18">putFormat</jtok>
<jtok eid="2" type="constructor_call" span="40:23:40:35">ExportFormat</jtok>
<jtok eid="2" type="primary_name_ref" span="41:17:41:24">Globals</jtok>
<jtok eid="2" type="method_call" span="41:25:41:29">lang</jtok>
<jtok eid="2" type="string_literal" span="41:30:41:43">"Simple HTML"</jtok>
<jtok eid="2" type="string_literal" span="41:46:41:58">"simplehtml"</jtok>
<jtok eid="2" type="string_literal" span="41:60:41:72">"simplehtml"</jtok>
<jtok eid="2" type="string_literal" span="41:80:41:87">".html"</jtok>
<jtok eid="2" type="method_call" span="42:9:42:18">putFormat</jtok>
<jtok eid="2" type="constructor_call" span="42:23:42:35">ExportFormat</jtok>
<jtok eid="2" type="primary_name_ref" span="42:36:42:43">Globals</jtok>
<jtok eid="2" type="method_call" span="42:44:42:48">lang</jtok>
<jtok eid="2" type="string_literal" span="42:49:42:58">"Docbook"</jtok>
<jtok eid="2" type="string_literal" span="42:61:42:70">"docbook"</jtok>
<jtok eid="2" type="string_literal" span="42:72:42:81">"docbook"</jtok>
<jtok eid="2" type="string_literal" span="42:89:42:95">".xml"</jtok>
<jtok eid="2" type="method_call" span="43:9:43:18">putFormat</jtok>
<jtok eid="2" type="constructor_call" span="43:23:43:35">ExportFormat</jtok>
<jtok eid="2" type="primary_name_ref" span="43:36:43:43">Globals</jtok>
<jtok eid="2" type="method_call" span="43:44:43:48">lang</jtok>
<jtok eid="2" type="string_literal" span="43:49:43:59">"BibTeXML"</jtok>
<jtok eid="2" type="string_literal" span="43:62:43:72">"bibtexml"</jtok>
<jtok eid="2" type="string_literal" span="43:74:43:84">"bibtexml"</jtok>
<jtok eid="2" type="string_literal" span="43:92:43:98">".xml"</jtok>
<jtok eid="2" type="method_call" span="44:9:44:18">putFormat</jtok>
<jtok eid="2" type="constructor_call" span="44:23:44:35">ExportFormat</jtok>
<jtok eid="2" type="primary_name_ref" span="44:36:44:43">Globals</jtok>
<jtok eid="2" type="method_call" span="44:44:44:48">lang</jtok>
<jtok eid="2" type="string_literal" span="44:49:44:59">"BibO RDF"</jtok>
<jtok eid="2" type="string_literal" span="44:62:44:71">"bibordf"</jtok>
<jtok eid="2" type="string_literal" span="44:73:44:82">"bibordf"</jtok>
<jtok eid="2" type="string_literal" span="44:90:44:96">".rdf"</jtok>
<jtok eid="2" type="method_call" span="45:9:45:18">putFormat</jtok>
<jtok eid="2" type="constructor_call" span="45:23:45:39">ModsExportFormat</jtok>
<jtok eid="2" type="method_call" span="46:9:46:18">putFormat</jtok>
<jtok eid="2" type="constructor_call" span="46:23:46:35">ExportFormat</jtok>
<jtok eid="2" type="primary_name_ref" span="46:36:46:43">Globals</jtok>
<jtok eid="2" type="method_call" span="46:44:46:48">lang</jtok>
<jtok eid="2" type="string_literal" span="46:49:46:61">"HTML table"</jtok>
<jtok eid="2" type="string_literal" span="47:17:47:28">"tablerefs"</jtok>
<jtok eid="2" type="string_literal" span="47:30:47:41">"tablerefs"</jtok>
<jtok eid="2" type="string_literal" span="47:43:47:54">"tablerefs"</jtok>
<jtok eid="2" type="string_literal" span="47:56:47:63">".html"</jtok>
<jtok eid="2" type="method_call" span="48:9:48:18">putFormat</jtok>
<jtok eid="2" type="constructor_call" span="48:23:48:35">ExportFormat</jtok>
<jtok eid="2" type="primary_name_ref" span="48:36:48:43">Globals</jtok>
<jtok eid="2" type="method_call" span="48:44:48:48">lang</jtok>
<jtok eid="2" type="string_literal" span="48:49:48:86">"HTML table (with Abstract &amp; BibTeX)"</jtok>
<jtok eid="2" type="string_literal" span="49:17:49:34">"tablerefsabsbib"</jtok>
<jtok eid="2" type="string_literal" span="49:36:49:53">"tablerefsabsbib"</jtok>
<jtok eid="2" type="string_literal" span="49:55:49:72">"tablerefsabsbib"</jtok>
<jtok eid="2" type="string_literal" span="49:74:49:81">".html"</jtok>
<jtok eid="2" type="method_call" span="50:9:50:18">putFormat</jtok>
<jtok eid="2" type="constructor_call" span="50:23:50:35">ExportFormat</jtok>
<jtok eid="2" type="primary_name_ref" span="50:36:50:43">Globals</jtok>
<jtok eid="2" type="method_call" span="50:44:50:48">lang</jtok>
<jtok eid="2" type="string_literal" span="50:49:50:62">"Harvard RTF"</jtok>
<jtok eid="2" type="string_literal" span="50:65:50:74">"harvard"</jtok>
<jtok eid="2" type="string_literal" span="50:76:50:85">"harvard"</jtok>
<jtok eid="2" type="string_literal" span="51:17:51:26">"harvard"</jtok>
<jtok eid="2" type="string_literal" span="51:28:51:34">".rtf"</jtok>
<jtok eid="2" type="method_call" span="52:9:52:18">putFormat</jtok>
<jtok eid="2" type="constructor_call" span="52:23:52:35">ExportFormat</jtok>
<jtok eid="2" type="primary_name_ref" span="52:36:52:43">Globals</jtok>
<jtok eid="2" type="method_call" span="52:44:52:48">lang</jtok>
<jtok eid="2" type="string_literal" span="52:49:52:58">"Endnote"</jtok>
<jtok eid="2" type="string_literal" span="52:61:52:70">"endnote"</jtok>
<jtok eid="2" type="string_literal" span="52:72:52:81">"EndNote"</jtok>
<jtok eid="2" type="string_literal" span="53:17:53:26">"endnote"</jtok>
<jtok eid="2" type="string_literal" span="53:28:53:34">".txt"</jtok>
<jtok eid="2" type="method_call" span="54:9:54:18">putFormat</jtok>
<jtok eid="2" type="constructor_call" span="54:23:54:35">ExportFormat</jtok>
<jtok eid="2" type="primary_name_ref" span="54:36:54:43">Globals</jtok>
<jtok eid="2" type="method_call" span="54:44:54:48">lang</jtok>
<jtok eid="2" type="string_literal" span="54:49:54:65">"OpenOffice CSV"</jtok>
<jtok eid="2" type="string_literal" span="54:68:54:75">"oocsv"</jtok>
<jtok eid="2" type="string_literal" span="54:77:54:93">"openoffice-csv"</jtok>
<jtok eid="2" type="string_literal" span="55:13:55:25">"openoffice"</jtok>
<jtok eid="2" type="string_literal" span="55:27:55:33">".csv"</jtok>
<jtok eid="2" type="class_or_interface_ref" span="56:9:56:21">ExportFormat</jtok>
<jtok eid="2" type="local_variable_name" span="56:22:56:24">ef</jtok>
<jtok eid="2" type="constructor_call" span="56:31:56:43">ExportFormat</jtok>
<jtok eid="2" type="primary_name_ref" span="56:44:56:51">Globals</jtok>
<jtok eid="2" type="method_call" span="56:52:56:56">lang</jtok>
<jtok eid="2" type="string_literal" span="56:57:56:62">"RIS"</jtok>
<jtok eid="2" type="string_literal" span="56:65:56:70">"ris"</jtok>
<jtok eid="2" type="string_literal" span="56:72:56:77">"ris"</jtok>
<jtok eid="2" type="string_literal" span="56:79:56:84">"ris"</jtok>
<jtok eid="2" type="string_literal" span="56:86:56:92">".ris"</jtok>
<jtok eid="2" type="primary_name_ref" span="57:9:57:11">ef</jtok>
<jtok eid="2" type="qualified_name_ref" span="57:12:57:20">encoding</jtok>
<jtok eid="2" type="string_literal" span="57:23:57:30">"UTF-8"</jtok>
<jtok eid="2" type="method_call" span="58:9:58:18">putFormat</jtok>
<jtok eid="2" type="primary_name_ref" span="58:19:58:21">ef</jtok>
<jtok eid="2" type="method_call" span="59:9:59:18">putFormat</jtok>
<jtok eid="2" type="constructor_call" span="59:23:59:48">OpenOfficeDocumentCreator</jtok>
<jtok eid="2" type="method_call" span="60:9:60:18">putFormat</jtok>
<jtok eid="2" type="constructor_call" span="60:23:60:53">OpenDocumentSpreadsheetCreator</jtok>
<jtok eid="2" type="method_call" span="61:9:61:18">putFormat</jtok>
<jtok eid="2" type="constructor_call" span="61:23:61:40">MSBibExportFormat</jtok>
<jtok eid="2" type="method_call" span="62:9:62:18">putFormat</jtok>
<jtok eid="2" type="constructor_call" span="62:23:62:34">MySQLExport</jtok>
<jtok eid="2" type="line_comment" span="64:9:64:53">// Add Export Formats contributed by Plugins</jtok>
<jtok eid="2" type="class_or_interface_ref" span="65:9:65:21">JabRefPlugin</jtok>
<jtok eid="2" type="local_variable_name" span="65:22:65:28">plugin</jtok>
<jtok eid="2" type="primary_name_ref" span="65:31:65:43">JabRefPlugin</jtok>
<jtok eid="2" type="method_call" span="65:44:65:55">getInstance</jtok>
<jtok eid="2" type="primary_name_ref" span="65:56:65:66">PluginCore</jtok>
<jtok eid="2" type="method_call" span="65:67:65:77">getManager</jtok>
<jtok eid="2" type="primary_name_ref" span="66:7:66:13">plugin</jtok>
<jtok eid="2" type="line_comment" span="68:4:68:42">// 1. ExportFormats based on Templates</jtok>
<jtok eid="2" type="class_or_interface_ref" span="69:9:69:38">ExportFormatTemplateExtension</jtok>
<jtok eid="2" type="local_variable_name" span="69:39:69:40">e</jtok>
<jtok eid="2" type="primary_name_ref" span="69:43:69:49">plugin</jtok>
<jtok eid="2" type="method_call" span="69:50:69:83">getExportFormatTemplateExtensions</jtok>
<jtok eid="2" type="class_or_interface_ref" span="70:5:70:17">ExportFormat</jtok>
<jtok eid="2" type="local_variable_name" span="70:18:70:24">format</jtok>
<jtok eid="2" type="primary_name_ref" span="70:27:70:50">PluginBasedExportFormat</jtok>
<jtok eid="2" type="method_call" span="70:51:70:60">getFormat</jtok>
<jtok eid="2" type="primary_name_ref" span="70:61:70:62">e</jtok>
<jtok eid="2" type="primary_name_ref" span="71:9:71:15">format</jtok>
<jtok eid="2" type="method_call" span="72:6:72:15">putFormat</jtok>
<jtok eid="2" type="primary_name_ref" span="72:16:72:22">format</jtok>
<jtok eid="2" type="line_comment" span="76:4:76:30">// 2. ExportFormat classed</jtok>
<jtok eid="2" type="class_or_interface_ref" span="77:15:77:36">ExportFormatExtension</jtok>
<jtok eid="2" type="local_variable_name" span="77:37:77:38">e</jtok>
<jtok eid="2" type="primary_name_ref" span="77:41:77:47">plugin</jtok>
<jtok eid="2" type="method_call" span="77:48:77:73">getExportFormatExtensions</jtok>
<jtok eid="2" type="method_call" span="78:5:78:14">putFormat</jtok>
<jtok eid="2" type="constructor_call" span="78:19:78:32">IExportFormat</jtok>
<jtok eid="4" type="class_or_interface_ref" span="80:13:80:19">String</jtok>
<jtok eid="4" type="method_name" span="80:20:80:34">getConsoleName</jtok>
<jtok eid="4" type="primary_name_ref" span="81:14:81:15">e</jtok>
<jtok eid="4" type="method_call" span="81:16:81:30">getConsoleName</jtok>
<jtok eid="5" type="class_or_interface_ref" span="84:13:84:19">String</jtok>
<jtok eid="5" type="method_name" span="84:20:84:34">getDisplayName</jtok>
<jtok eid="5" type="primary_name_ref" span="85:14:85:15">e</jtok>
<jtok eid="5" type="method_call" span="85:16:85:30">getDisplayName</jtok>
<jtok eid="6" type="class_or_interface_ref" span="88:13:88:23">FileFilter</jtok>
<jtok eid="6" type="method_name" span="88:24:88:37">getFileFilter</jtok>
<jtok eid="6" type="constructor_call" span="89:18:89:34">ExportFileFilter</jtok>
<jtok eid="6" type="primary_name_ref" span="89:41:89:42">e</jtok>
<jtok eid="6" type="method_call" span="89:43:89:55">getExtension</jtok>
<jtok eid="3" type="class_or_interface_ref" span="92:6:92:19">IExportFormat</jtok>
<jtok eid="3" type="field_name" span="92:20:92:27">wrapped</jtok>
<jtok eid="7" type="method_name" span="93:18:93:31">performExport</jtok>
<jtok eid="7" type="parameter_type" span="93:32:93:46">BibtexDatabase</jtok>
<jtok eid="7" type="parameter_name" span="93:47:93:55">database</jtok>
<jtok eid="7" type="parameter_type" span="93:57:93:65">MetaData</jtok>
<jtok eid="7" type="parameter_name" span="93:66:93:74">metaData</jtok>
<jtok eid="7" type="parameter_type" span="94:7:94:13">String</jtok>
<jtok eid="7" type="parameter_name" span="94:14:94:18">file</jtok>
<jtok eid="7" type="parameter_type" span="94:20:94:26">String</jtok>
<jtok eid="7" type="parameter_name" span="94:27:94:35">encoding</jtok>
<jtok eid="7" type="parameter_type" span="94:37:94:40">Set</jtok>
<jtok eid="7" type="parameter_type" span="94:41:94:47">String</jtok>
<jtok eid="7" type="parameter_name" span="94:49:94:57">entryIds</jtok>
<jtok eid="7" type="throws" span="95:14:95:23">Exception</jtok>
<jtok eid="7" type="primary_name_ref" span="97:11:97:18">wrapped</jtok>
<jtok eid="7" type="primary_name_ref" span="98:8:98:15">wrapped</jtok>
<jtok eid="7" type="primary_name_ref" span="98:18:98:19">e</jtok>
<jtok eid="7" type="method_call" span="98:20:98:35">getExportFormat</jtok>
<jtok eid="7" type="primary_name_ref" span="99:7:99:14">wrapped</jtok>
<jtok eid="7" type="method_call" span="99:15:99:28">performExport</jtok>
<jtok eid="7" type="primary_name_ref" span="99:29:99:37">database</jtok>
<jtok eid="7" type="primary_name_ref" span="99:39:99:47">metaData</jtok>
<jtok eid="7" type="primary_name_ref" span="99:49:99:53">file</jtok>
<jtok eid="7" type="primary_name_ref" span="99:55:99:63">encoding</jtok>
<jtok eid="7" type="primary_name_ref" span="99:65:99:73">entryIds</jtok>
<jtok eid="2" type="line_comment" span="104:4:104:56">// 3. Formatters provided by Export Format Providers</jtok>
<jtok eid="2" type="class_or_interface_ref" span="105:9:105:38">ExportFormatProviderExtension</jtok>
<jtok eid="2" type="local_variable_name" span="105:39:105:40">e</jtok>
<jtok eid="2" type="primary_name_ref" span="105:43:105:49">plugin</jtok>
<jtok eid="2" type="method_call" span="105:50:105:83">getExportFormatProviderExtensions</jtok>
<jtok eid="2" type="class_or_interface_ref" span="106:5:106:26">IExportFormatProvider</jtok>
<jtok eid="2" type="local_variable_name" span="106:27:106:41">formatProvider</jtok>
<jtok eid="2" type="primary_name_ref" span="106:44:106:45">e</jtok>
<jtok eid="2" type="method_call" span="106:46:106:63">getFormatProvider</jtok>
<jtok eid="2" type="class_or_interface_ref" span="107:10:107:23">IExportFormat</jtok>
<jtok eid="2" type="local_variable_name" span="107:24:107:36">exportFormat</jtok>
<jtok eid="2" type="primary_name_ref" span="107:39:107:53">formatProvider</jtok>
<jtok eid="2" type="method_call" span="107:54:107:70">getExportFormats</jtok>
<jtok eid="2" type="method_call" span="108:6:108:15">putFormat</jtok>
<jtok eid="2" type="primary_name_ref" span="108:16:108:28">exportFormat</jtok>
<jtok eid="2" type="line_comment" span="113:9:113:41">// Now add custom export formats</jtok>
<jtok eid="2" type="class_or_interface_ref" span="114:9:114:16">TreeMap</jtok>
<jtok eid="2" type="class_or_interface_ref" span="114:17:114:23">String</jtok>
<jtok eid="2" type="class_or_interface_ref" span="114:25:114:37">ExportFormat</jtok>
<jtok eid="2" type="local_variable_name" span="114:39:114:52">customFormats</jtok>
<jtok eid="2" type="primary_name_ref" span="114:55:114:62">Globals</jtok>
<jtok eid="2" type="qualified_name_ref" span="114:63:114:68">prefs</jtok>
<jtok eid="2" type="qualified_name_ref" span="114:69:114:82">customExports</jtok>
<jtok eid="2" type="method_call" span="114:83:114:105">getCustomExportFormats</jtok>
<jtok eid="2" type="class_or_interface_ref" span="115:14:115:27">IExportFormat</jtok>
<jtok eid="2" type="local_variable_name" span="115:28:115:34">format</jtok>
<jtok eid="2" type="primary_name_ref" span="115:37:115:50">customFormats</jtok>
<jtok eid="2" type="method_call" span="115:51:115:57">values</jtok>
<jtok eid="2" type="method_call" span="116:13:116:22">putFormat</jtok>
<jtok eid="2" type="primary_name_ref" span="116:23:116:29">format</jtok>
<jtok eid="1" type="block_comment" span="120:2:129:5">/**
	 * Build a string listing of all available export formats.
	 * 
	 * @param maxLineLength
	 *            The max line length before a line break must be added.
	 * @param linePrefix
	 *            If a line break is added, this prefix will be inserted at the
	 *            beginning of the next line.
	 * @return The string describing available formats.
	 */</jtok>
<jtok eid="8" type="class_or_interface_ref" span="130:16:130:22">String</jtok>
<jtok eid="8" type="method_name" span="130:23:130:43">getConsoleExportList</jtok>
<jtok eid="8" type="parameter_name" span="130:48:130:61">maxLineLength</jtok>
<jtok eid="8" type="parameter_name" span="130:67:130:81">firstLineSubtr</jtok>
<jtok eid="8" type="parameter_type" span="131:3:131:9">String</jtok>
<jtok eid="8" type="parameter_name" span="131:10:131:20">linePrefix</jtok>
<jtok eid="8" type="class_or_interface_ref" span="132:3:132:15">StringBuffer</jtok>
<jtok eid="8" type="local_variable_name" span="132:16:132:18">sb</jtok>
<jtok eid="8" type="constructor_call" span="132:25:132:37">StringBuffer</jtok>
<jtok eid="8" type="local_variable_name" span="133:7:133:16">lastBreak</jtok>
<jtok eid="8" type="primary_name_ref" span="133:20:133:34">firstLineSubtr</jtok>
<jtok eid="8" type="class_or_interface_ref" span="135:8:135:16">Iterator</jtok>
<jtok eid="8" type="class_or_interface_ref" span="135:17:135:23">String</jtok>
<jtok eid="8" type="local_variable_name" span="135:25:135:26">i</jtok>
<jtok eid="8" type="primary_name_ref" span="135:29:135:42">exportFormats</jtok>
<jtok eid="8" type="method_call" span="135:43:135:49">keySet</jtok>
<jtok eid="8" type="method_call" span="135:52:135:60">iterator</jtok>
<jtok eid="8" type="primary_name_ref" span="135:64:135:65">i</jtok>
<jtok eid="8" type="method_call" span="135:66:135:73">hasNext</jtok>
<jtok eid="8" type="class_or_interface_ref" span="136:4:136:10">String</jtok>
<jtok eid="8" type="local_variable_name" span="136:11:136:15">name</jtok>
<jtok eid="8" type="primary_name_ref" span="136:18:136:19">i</jtok>
<jtok eid="8" type="method_call" span="136:20:136:24">next</jtok>
<jtok eid="8" type="primary_name_ref" span="137:8:137:10">sb</jtok>
<jtok eid="8" type="method_call" span="137:11:137:17">length</jtok>
<jtok eid="8" type="primary_name_ref" span="137:26:137:30">name</jtok>
<jtok eid="8" type="method_call" span="137:31:137:37">length</jtok>
<jtok eid="8" type="primary_name_ref" span="137:42:137:51">lastBreak</jtok>
<jtok eid="8" type="primary_name_ref" span="137:54:137:67">maxLineLength</jtok>
<jtok eid="8" type="primary_name_ref" span="138:5:138:7">sb</jtok>
<jtok eid="8" type="method_call" span="138:8:138:14">append</jtok>
<jtok eid="8" type="string_literal" span="138:15:138:20">",\n"</jtok>
<jtok eid="8" type="primary_name_ref" span="139:5:139:14">lastBreak</jtok>
<jtok eid="8" type="primary_name_ref" span="139:17:139:19">sb</jtok>
<jtok eid="8" type="method_call" span="139:20:139:26">length</jtok>
<jtok eid="8" type="primary_name_ref" span="140:5:140:7">sb</jtok>
<jtok eid="8" type="method_call" span="140:8:140:14">append</jtok>
<jtok eid="8" type="primary_name_ref" span="140:15:140:25">linePrefix</jtok>
<jtok eid="8" type="primary_name_ref" span="141:15:141:17">sb</jtok>
<jtok eid="8" type="method_call" span="141:18:141:24">length</jtok>
<jtok eid="8" type="primary_name_ref" span="142:5:142:7">sb</jtok>
<jtok eid="8" type="method_call" span="142:8:142:14">append</jtok>
<jtok eid="8" type="string_literal" span="142:15:142:19">", "</jtok>
<jtok eid="8" type="primary_name_ref" span="143:4:143:6">sb</jtok>
<jtok eid="8" type="method_call" span="143:7:143:13">append</jtok>
<jtok eid="8" type="primary_name_ref" span="143:14:143:18">name</jtok>
<jtok eid="8" type="primary_name_ref" span="146:10:146:12">sb</jtok>
<jtok eid="8" type="method_call" span="146:13:146:21">toString</jtok>
<jtok eid="1" type="block_comment" span="149:5:152:8">/**
     * Get a Map of all export formats.
     * @return A Map containing all export formats, mapped to their console names.
     */</jtok>
<jtok eid="9" type="class_or_interface_ref" span="153:19:153:22">Map</jtok>
<jtok eid="9" type="class_or_interface_ref" span="153:23:153:29">String</jtok>
<jtok eid="9" type="class_or_interface_ref" span="153:31:153:44">IExportFormat</jtok>
<jtok eid="9" type="method_name" span="153:46:153:62">getExportFormats</jtok>
<jtok eid="9" type="line_comment" span="154:9:154:80">// It is perhaps overly paranoid to make a defensive copy in this case:</jtok>
<jtok eid="9" type="primary_name_ref" span="155:16:155:27">Collections</jtok>
<jtok eid="9" type="method_call" span="155:28:155:43">unmodifiableMap</jtok>
<jtok eid="9" type="primary_name_ref" span="155:44:155:57">exportFormats</jtok>
<jtok eid="1" type="block_comment" span="158:5:165:5">/**
	 * Look up the named export format.
	 * 
	 * @param consoleName
	 *            The export name given in the JabRef console help information.
	 * @return The ExportFormat, or null if no exportformat with that name is
	 *         registered.
	 */</jtok>
<jtok eid="10" type="class_or_interface_ref" span="166:16:166:29">IExportFormat</jtok>
<jtok eid="10" type="method_name" span="166:30:166:45">getExportFormat</jtok>
<jtok eid="10" type="parameter_type" span="166:46:166:52">String</jtok>
<jtok eid="10" type="parameter_name" span="166:53:166:64">consoleName</jtok>
<jtok eid="10" type="primary_name_ref" span="167:10:167:23">exportFormats</jtok>
<jtok eid="10" type="method_call" span="167:24:167:27">get</jtok>
<jtok eid="10" type="primary_name_ref" span="167:28:167:39">consoleName</jtok>
<jtok eid="1" type="block_comment" span="170:2:179:5">/**
	 * Create an AbstractAction for performing an export operation.
	 * 
	 * @param frame
	 *            The JabRefFrame of this JabRef instance.
	 * @param selectedOnly
	 *            true indicates that only selected entries should be exported,
	 *            false indicates that all entries should be exported.
	 * @return The action.
	 */</jtok>
<jtok eid="11" type="class_or_interface_ref" span="180:16:180:30">AbstractAction</jtok>
<jtok eid="11" type="method_name" span="180:31:180:46">getExportAction</jtok>
<jtok eid="11" type="parameter_type" span="180:47:180:58">JabRefFrame</jtok>
<jtok eid="11" type="parameter_name" span="180:59:180:64">frame</jtok>
<jtok eid="11" type="parameter_name" span="180:74:180:86">selectedOnly</jtok>
<jtok eid="12" type="class_name" span="182:9:182:21">ExportAction</jtok>
<jtok eid="12" type="class_or_interface_ref" span="182:30:182:49">MnemonicAwareAction</jtok>
<jtok eid="12" type="field_name" span="184:30:184:46">serialVersionUID</jtok>
<jtok eid="12" type="class_or_interface_ref" span="186:12:186:23">JabRefFrame</jtok>
<jtok eid="12" type="field_name" span="186:24:186:29">frame</jtok>
<jtok eid="12" type="field_name" span="188:20:188:32">selectedOnly</jtok>
<jtok eid="13" type="method_name" span="190:11:190:23">ExportAction</jtok>
<jtok eid="13" type="parameter_type" span="190:24:190:35">JabRefFrame</jtok>
<jtok eid="13" type="parameter_name" span="190:36:190:41">frame</jtok>
<jtok eid="13" type="parameter_name" span="190:51:190:63">selectedOnly</jtok>
<jtok eid="13" type="qualified_name_ref" span="191:10:191:15">frame</jtok>
<jtok eid="13" type="primary_name_ref" span="191:18:191:23">frame</jtok>
<jtok eid="13" type="qualified_name_ref" span="192:10:192:22">selectedOnly</jtok>
<jtok eid="13" type="primary_name_ref" span="192:25:192:37">selectedOnly</jtok>
<jtok eid="13" type="method_call" span="193:5:193:13">putValue</jtok>
<jtok eid="13" type="primary_name_ref" span="193:14:193:18">NAME</jtok>
<jtok eid="13" type="primary_name_ref" span="193:20:193:32">selectedOnly</jtok>
<jtok eid="13" type="string_literal" span="193:35:193:60">"Export selected entries"</jtok>
<jtok eid="13" type="string_literal" span="193:63:193:71">"Export"</jtok>
<jtok eid="14" type="method_name" span="196:16:196:31">actionPerformed</jtok>
<jtok eid="14" type="parameter_type" span="196:32:196:43">ActionEvent</jtok>
<jtok eid="14" type="parameter_name" span="196:44:196:45">e</jtok>
<jtok eid="14" type="primary_name_ref" span="197:5:197:18">ExportFormats</jtok>
<jtok eid="14" type="method_call" span="197:19:197:33">initAllExports</jtok>
<jtok eid="14" type="class_or_interface_ref" span="198:5:198:17">JFileChooser</jtok>
<jtok eid="14" type="local_variable_name" span="198:18:198:20">fc</jtok>
<jtok eid="14" type="primary_name_ref" span="198:23:198:36">ExportFormats</jtok>
<jtok eid="14" type="method_call" span="198:37:198:60">createExportFileChooser</jtok>
<jtok eid="14" type="primary_name_ref" span="199:21:199:28">Globals</jtok>
<jtok eid="14" type="qualified_name_ref" span="199:29:199:34">prefs</jtok>
<jtok eid="14" type="method_call" span="199:35:199:38">get</jtok>
<jtok eid="14" type="string_literal" span="199:39:199:63">"exportWorkingDirectory"</jtok>
<jtok eid="14" type="primary_name_ref" span="200:5:200:7">fc</jtok>
<jtok eid="14" type="method_call" span="200:8:200:22">showSaveDialog</jtok>
<jtok eid="14" type="primary_name_ref" span="200:23:200:28">frame</jtok>
<jtok eid="14" type="class_or_interface_ref" span="201:5:201:9">File</jtok>
<jtok eid="14" type="local_variable_name" span="201:10:201:14">file</jtok>
<jtok eid="14" type="primary_name_ref" span="201:17:201:19">fc</jtok>
<jtok eid="14" type="method_call" span="201:20:201:35">getSelectedFile</jtok>
<jtok eid="14" type="primary_name_ref" span="202:9:202:13">file</jtok>
<jtok eid="14" type="class_or_interface_ref" span="204:5:204:15">FileFilter</jtok>
<jtok eid="14" type="local_variable_name" span="204:16:204:18">ff</jtok>
<jtok eid="14" type="primary_name_ref" span="204:21:204:23">fc</jtok>
<jtok eid="14" type="method_call" span="204:24:204:37">getFileFilter</jtok>
<jtok eid="14" type="primary_name_ref" span="205:9:205:11">ff</jtok>
<jtok eid="14" type="class_or_interface_ref" span="205:23:205:39">ExportFileFilter</jtok>
<jtok eid="14" type="class_or_interface_ref" span="208:21:208:37">ExportFileFilter</jtok>
<jtok eid="14" type="local_variable_name" span="208:38:208:41">eff</jtok>
<jtok eid="14" type="class_or_interface_ref" span="208:45:208:61">ExportFileFilter</jtok>
<jtok eid="14" type="primary_name_ref" span="208:63:208:65">ff</jtok>
<jtok eid="14" type="class_or_interface_ref" span="209:21:209:27">String</jtok>
<jtok eid="14" type="local_variable_name" span="209:28:209:32">path</jtok>
<jtok eid="14" type="primary_name_ref" span="209:35:209:39">file</jtok>
<jtok eid="14" type="method_call" span="209:40:209:47">getPath</jtok>
<jtok eid="14" type="primary_name_ref" span="210:26:210:30">path</jtok>
<jtok eid="14" type="method_call" span="210:31:210:39">endsWith</jtok>
<jtok eid="14" type="primary_name_ref" span="210:40:210:43">eff</jtok>
<jtok eid="14" type="method_call" span="210:44:210:56">getExtension</jtok>
<jtok eid="14" type="primary_name_ref" span="211:25:211:29">path</jtok>
<jtok eid="14" type="primary_name_ref" span="211:32:211:36">path</jtok>
<jtok eid="14" type="primary_name_ref" span="211:39:211:42">eff</jtok>
<jtok eid="14" type="method_call" span="211:43:211:55">getExtension</jtok>
<jtok eid="14" type="primary_name_ref" span="212:21:212:25">file</jtok>
<jtok eid="14" type="constructor_call" span="212:32:212:36">File</jtok>
<jtok eid="14" type="primary_name_ref" span="212:37:212:41">path</jtok>
<jtok eid="14" type="primary_name_ref" span="213:25:213:29">file</jtok>
<jtok eid="14" type="method_call" span="213:30:213:36">exists</jtok>
<jtok eid="14" type="line_comment" span="214:25:214:54">// Warn that the file exists:</jtok>
<jtok eid="14" type="primary_name_ref" span="215:29:215:40">JOptionPane</jtok>
<jtok eid="14" type="method_call" span="215:41:215:58">showConfirmDialog</jtok>
<jtok eid="14" type="primary_name_ref" span="215:59:215:64">frame</jtok>
<jtok eid="14" type="string_literal" span="215:66:215:69">"'"</jtok>
<jtok eid="14" type="primary_name_ref" span="215:72:215:76">file</jtok>
<jtok eid="14" type="method_call" span="215:77:215:84">getName</jtok>
<jtok eid="14" type="string_literal" span="215:89:215:93">"' "</jtok>
<jtok eid="14" type="primary_name_ref" span="216:31:216:38">Globals</jtok>
<jtok eid="14" type="method_call" span="216:39:216:43">lang</jtok>
<jtok eid="14" type="string_literal" span="216:44:216:69">"exists. Overwrite file?"</jtok>
<jtok eid="14" type="primary_name_ref" span="216:72:216:79">Globals</jtok>
<jtok eid="14" type="method_call" span="216:80:216:84">lang</jtok>
<jtok eid="14" type="string_literal" span="216:85:216:93">"Export"</jtok>
<jtok eid="14" type="primary_name_ref" span="217:29:217:40">JOptionPane</jtok>
<jtok eid="14" type="qualified_name_ref" span="217:41:217:57">OK_CANCEL_OPTION</jtok>
<jtok eid="14" type="primary_name_ref" span="217:62:217:73">JOptionPane</jtok>
<jtok eid="14" type="qualified_name_ref" span="217:74:217:83">OK_OPTION</jtok>
<jtok eid="14" type="class_or_interface_ref" span="220:27:220:40">IExportFormat</jtok>
<jtok eid="14" type="local_variable_name" span="220:41:220:47">format</jtok>
<jtok eid="14" type="primary_name_ref" span="220:50:220:53">eff</jtok>
<jtok eid="14" type="method_call" span="220:54:220:69">getExportFormat</jtok>
<jtok eid="14" type="class_or_interface_ref" span="221:21:221:24">Set</jtok>
<jtok eid="14" type="class_or_interface_ref" span="221:25:221:31">String</jtok>
<jtok eid="14" type="local_variable_name" span="221:33:221:41">entryIds</jtok>
<jtok eid="14" type="primary_name_ref" span="222:25:222:37">selectedOnly</jtok>
<jtok eid="14" type="class_or_interface_ref" span="223:25:223:36">BibtexEntry</jtok>
<jtok eid="14" type="local_variable_name" span="223:39:223:47">selected</jtok>
<jtok eid="14" type="primary_name_ref" span="223:50:223:55">frame</jtok>
<jtok eid="14" type="method_call" span="223:56:223:65">basePanel</jtok>
<jtok eid="14" type="method_call" span="223:68:223:86">getSelectedEntries</jtok>
<jtok eid="14" type="primary_name_ref" span="224:25:224:33">entryIds</jtok>
<jtok eid="14" type="constructor_call" span="224:40:224:47">HashSet</jtok>
<jtok eid="14" type="constructor_call" span="224:48:224:54">String</jtok>
<jtok eid="14" type="local_variable_name" span="225:34:225:35">i</jtok>
<jtok eid="14" type="primary_name_ref" span="225:41:225:42">i</jtok>
<jtok eid="14" type="primary_name_ref" span="225:45:225:53">selected</jtok>
<jtok eid="14" type="qualified_name_ref" span="225:54:225:60">length</jtok>
<jtok eid="14" type="primary_name_ref" span="225:62:225:63">i</jtok>
<jtok eid="14" type="class_or_interface_ref" span="226:29:226:40">BibtexEntry</jtok>
<jtok eid="14" type="local_variable_name" span="226:41:226:52">bibtexEntry</jtok>
<jtok eid="14" type="primary_name_ref" span="226:55:226:63">selected</jtok>
<jtok eid="14" type="primary_name_ref" span="226:64:226:65">i</jtok>
<jtok eid="14" type="primary_name_ref" span="227:29:227:37">entryIds</jtok>
<jtok eid="14" type="method_call" span="227:38:227:41">add</jtok>
<jtok eid="14" type="primary_name_ref" span="227:42:227:53">bibtexEntry</jtok>
<jtok eid="14" type="method_call" span="227:54:227:59">getId</jtok>
<jtok eid="14" type="line_comment" span="231:21:231:100">// Set the global variable for this database's file directory before exporting,</jtok>
<jtok eid="14" type="line_comment" span="232:21:232:73">// so formatters can resolve linked files correctly.</jtok>
<jtok eid="14" type="line_comment" span="233:21:233:47">// (This is an ugly hack!)</jtok>
<jtok eid="14" type="primary_name_ref" span="234:21:234:28">Globals</jtok>
<jtok eid="14" type="qualified_name_ref" span="234:29:234:34">prefs</jtok>
<jtok eid="14" type="qualified_name_ref" span="234:35:234:53">fileDirForDatabase</jtok>
<jtok eid="14" type="primary_name_ref" span="234:56:234:61">frame</jtok>
<jtok eid="14" type="method_call" span="234:62:234:71">basePanel</jtok>
<jtok eid="14" type="method_call" span="234:74:234:82">metaData</jtok>
<jtok eid="14" type="method_call" span="235:30:235:46">getFileDirectory</jtok>
<jtok eid="14" type="primary_name_ref" span="235:47:235:57">GUIGlobals</jtok>
<jtok eid="14" type="qualified_name_ref" span="235:58:235:68">FILE_FIELD</jtok>
<jtok eid="14" type="line_comment" span="237:21:237:75">// Make sure we remember which filter was used, to set</jtok>
<jtok eid="14" type="line_comment" span="238:21:238:50">// the default for next time:</jtok>
<jtok eid="14" type="primary_name_ref" span="239:21:239:28">Globals</jtok>
<jtok eid="14" type="qualified_name_ref" span="239:29:239:34">prefs</jtok>
<jtok eid="14" type="method_call" span="239:35:239:38">put</jtok>
<jtok eid="14" type="string_literal" span="239:39:239:55">"lastUsedExport"</jtok>
<jtok eid="14" type="primary_name_ref" span="239:57:239:63">format</jtok>
<jtok eid="14" type="method_call" span="239:64:239:78">getConsoleName</jtok>
<jtok eid="14" type="primary_name_ref" span="240:21:240:28">Globals</jtok>
<jtok eid="14" type="qualified_name_ref" span="240:29:240:34">prefs</jtok>
<jtok eid="14" type="method_call" span="240:35:240:38">put</jtok>
<jtok eid="14" type="string_literal" span="240:39:240:63">"exportWorkingDirectory"</jtok>
<jtok eid="14" type="primary_name_ref" span="240:65:240:69">file</jtok>
<jtok eid="14" type="method_call" span="240:70:240:79">getParent</jtok>
<jtok eid="14" type="class_or_interface_ref" span="242:27:242:31">File</jtok>
<jtok eid="14" type="local_variable_name" span="242:32:242:39">finFile</jtok>
<jtok eid="14" type="primary_name_ref" span="242:42:242:46">file</jtok>
<jtok eid="14" type="class_or_interface_ref" span="243:27:243:30">Set</jtok>
<jtok eid="14" type="class_or_interface_ref" span="243:31:243:37">String</jtok>
<jtok eid="14" type="local_variable_name" span="243:39:243:50">finEntryIDs</jtok>
<jtok eid="14" type="primary_name_ref" span="243:53:243:61">entryIds</jtok>
<jtok eid="14" type="class_or_interface_ref" span="244:21:244:35">AbstractWorker</jtok>
<jtok eid="14" type="local_variable_name" span="244:36:244:48">exportWorker</jtok>
<jtok eid="14" type="constructor_call" span="244:55:244:69">AbstractWorker</jtok>
<jtok eid="15" type="class_or_interface_ref" span="245:25:245:31">String</jtok>
<jtok eid="15" type="field_name" span="245:32:245:44">errorMessage</jtok>
<jtok eid="16" type="method_name" span="246:37:246:40">run</jtok>
<jtok eid="16" type="primary_name_ref" span="248:33:248:39">format</jtok>
<jtok eid="16" type="method_call" span="248:40:248:53">performExport</jtok>
<jtok eid="16" type="primary_name_ref" span="248:54:248:59">frame</jtok>
<jtok eid="16" type="method_call" span="248:60:248:69">basePanel</jtok>
<jtok eid="16" type="method_call" span="248:72:248:80">database</jtok>
<jtok eid="16" type="primary_name_ref" span="249:41:249:46">frame</jtok>
<jtok eid="16" type="method_call" span="249:47:249:56">basePanel</jtok>
<jtok eid="16" type="method_call" span="249:59:249:67">metaData</jtok>
<jtok eid="16" type="primary_name_ref" span="250:41:250:48">finFile</jtok>
<jtok eid="16" type="method_call" span="250:49:250:56">getPath</jtok>
<jtok eid="16" type="primary_name_ref" span="250:60:250:65">frame</jtok>
<jtok eid="16" type="method_call" span="251:38:251:47">basePanel</jtok>
<jtok eid="16" type="method_call" span="251:50:251:61">getEncoding</jtok>
<jtok eid="16" type="primary_name_ref" span="251:65:251:76">finEntryIDs</jtok>
<jtok eid="16" type="class_or_interface_ref" span="252:38:252:47">Exception</jtok>
<jtok eid="16" type="local_variable_name" span="252:48:252:50">ex</jtok>
<jtok eid="16" type="primary_name_ref" span="253:33:253:35">ex</jtok>
<jtok eid="16" type="method_call" span="253:36:253:51">printStackTrace</jtok>
<jtok eid="16" type="primary_name_ref" span="254:37:254:39">ex</jtok>
<jtok eid="16" type="method_call" span="254:40:254:50">getMessage</jtok>
<jtok eid="16" type="primary_name_ref" span="255:37:255:49">errorMessage</jtok>
<jtok eid="16" type="primary_name_ref" span="255:52:255:54">ex</jtok>
<jtok eid="16" type="method_call" span="255:55:255:63">toString</jtok>
<jtok eid="16" type="primary_name_ref" span="257:37:257:49">errorMessage</jtok>
<jtok eid="16" type="primary_name_ref" span="257:52:257:54">ex</jtok>
<jtok eid="16" type="method_call" span="257:55:257:65">getMessage</jtok>
<jtok eid="17" type="method_name" span="262:37:262:43">update</jtok>
<jtok eid="17" type="line_comment" span="263:29:263:65">// No error message. Report success:</jtok>
<jtok eid="17" type="primary_name_ref" span="264:33:264:45">errorMessage</jtok>
<jtok eid="17" type="primary_name_ref" span="265:33:265:38">frame</jtok>
<jtok eid="17" type="method_call" span="265:39:265:45">output</jtok>
<jtok eid="17" type="primary_name_ref" span="265:46:265:53">Globals</jtok>
<jtok eid="17" type="method_call" span="265:54:265:58">lang</jtok>
<jtok eid="17" type="string_literal" span="265:59:265:81">"%0 export successful"</jtok>
<jtok eid="17" type="primary_name_ref" span="265:83:265:89">format</jtok>
<jtok eid="17" type="method_call" span="265:90:265:104">getDisplayName</jtok>
<jtok eid="17" type="line_comment" span="267:29:267:60">// ... or show an error dialog:</jtok>
<jtok eid="17" type="primary_name_ref" span="269:33:269:38">frame</jtok>
<jtok eid="17" type="method_call" span="269:39:269:45">output</jtok>
<jtok eid="17" type="primary_name_ref" span="269:46:269:53">Globals</jtok>
<jtok eid="17" type="method_call" span="269:54:269:58">lang</jtok>
<jtok eid="17" type="string_literal" span="269:59:269:80">"Could not save file"</jtok>
<jtok eid="17" type="string_literal" span="270:43:270:48">" - "</jtok>
<jtok eid="17" type="primary_name_ref" span="270:51:270:63">errorMessage</jtok>
<jtok eid="17" type="line_comment" span="271:33:271:77">// Need to warn the user that saving failed!</jtok>
<jtok eid="17" type="primary_name_ref" span="272:33:272:44">JOptionPane</jtok>
<jtok eid="17" type="method_call" span="272:45:272:62">showMessageDialog</jtok>
<jtok eid="17" type="primary_name_ref" span="272:63:272:68">frame</jtok>
<jtok eid="17" type="primary_name_ref" span="272:70:272:77">Globals</jtok>
<jtok eid="17" type="method_call" span="272:78:272:82">lang</jtok>
<jtok eid="17" type="string_literal" span="272:83:272:104">"Could not save file"</jtok>
<jtok eid="17" type="string_literal" span="273:39:273:44">".\n"</jtok>
<jtok eid="17" type="primary_name_ref" span="273:47:273:59">errorMessage</jtok>
<jtok eid="17" type="primary_name_ref" span="273:61:273:68">Globals</jtok>
<jtok eid="17" type="method_call" span="273:69:273:73">lang</jtok>
<jtok eid="17" type="string_literal" span="273:74:273:89">"Save database"</jtok>
<jtok eid="17" type="primary_name_ref" span="274:37:274:48">JOptionPane</jtok>
<jtok eid="17" type="qualified_name_ref" span="274:49:274:62">ERROR_MESSAGE</jtok>
<jtok eid="14" type="line_comment" span="279:21:279:69">// Run the export action in a background thread:</jtok>
<jtok eid="14" type="primary_name_ref" span="280:22:280:34">exportWorker</jtok>
<jtok eid="14" type="method_call" span="280:35:280:44">getWorker</jtok>
<jtok eid="14" type="method_call" span="280:48:280:51">run</jtok>
<jtok eid="14" type="line_comment" span="281:21:281:46">// Run the update method:</jtok>
<jtok eid="14" type="primary_name_ref" span="282:21:282:33">exportWorker</jtok>
<jtok eid="14" type="method_call" span="282:34:282:40">update</jtok>
<jtok eid="11" type="constructor_call" span="287:14:287:26">ExportAction</jtok>
<jtok eid="11" type="primary_name_ref" span="287:27:287:32">frame</jtok>
<jtok eid="11" type="primary_name_ref" span="287:34:287:46">selectedOnly</jtok>
<jtok eid="18" type="class_or_interface_ref" span="291:19:291:31">JFileChooser</jtok>
<jtok eid="18" type="method_name" span="291:32:291:55">createExportFileChooser</jtok>
<jtok eid="18" type="parameter_type" span="291:56:291:62">String</jtok>
<jtok eid="18" type="parameter_name" span="291:63:291:73">currentDir</jtok>
<jtok eid="18" type="class_or_interface_ref" span="292:3:292:9">String</jtok>
<jtok eid="18" type="local_variable_name" span="292:10:292:24">lastUsedFormat</jtok>
<jtok eid="18" type="primary_name_ref" span="292:27:292:34">Globals</jtok>
<jtok eid="18" type="qualified_name_ref" span="292:35:292:40">prefs</jtok>
<jtok eid="18" type="method_call" span="292:41:292:44">get</jtok>
<jtok eid="18" type="string_literal" span="292:45:292:61">"lastUsedExport"</jtok>
<jtok eid="18" type="class_or_interface_ref" span="293:3:293:13">FileFilter</jtok>
<jtok eid="18" type="local_variable_name" span="293:14:293:27">defaultFilter</jtok>
<jtok eid="18" type="class_or_interface_ref" span="294:3:294:15">JFileChooser</jtok>
<jtok eid="18" type="local_variable_name" span="294:16:294:18">fc</jtok>
<jtok eid="18" type="constructor_call" span="294:25:294:37">JFileChooser</jtok>
<jtok eid="18" type="primary_name_ref" span="294:38:294:48">currentDir</jtok>
<jtok eid="18" type="class_or_interface_ref" span="295:3:295:10">TreeSet</jtok>
<jtok eid="18" type="class_or_interface_ref" span="295:11:295:21">FileFilter</jtok>
<jtok eid="18" type="local_variable_name" span="295:23:295:30">filters</jtok>
<jtok eid="18" type="constructor_call" span="295:37:295:44">TreeSet</jtok>
<jtok eid="18" type="constructor_call" span="295:45:295:55">FileFilter</jtok>
<jtok eid="18" type="class_or_interface_ref" span="296:8:296:11">Map</jtok>
<jtok eid="18" type="class_or_interface_ref" span="296:12:296:17">Entry</jtok>
<jtok eid="18" type="class_or_interface_ref" span="296:18:296:24">String</jtok>
<jtok eid="18" type="class_or_interface_ref" span="296:26:296:39">IExportFormat</jtok>
<jtok eid="18" type="local_variable_name" span="296:41:296:42">e</jtok>
<jtok eid="18" type="primary_name_ref" span="296:45:296:58">exportFormats</jtok>
<jtok eid="18" type="method_call" span="296:59:296:67">entrySet</jtok>
<jtok eid="18" type="class_or_interface_ref" span="297:4:297:10">String</jtok>
<jtok eid="18" type="local_variable_name" span="297:11:297:21">formatName</jtok>
<jtok eid="18" type="primary_name_ref" span="297:24:297:25">e</jtok>
<jtok eid="18" type="method_call" span="297:26:297:32">getKey</jtok>
<jtok eid="18" type="class_or_interface_ref" span="298:4:298:17">IExportFormat</jtok>
<jtok eid="18" type="local_variable_name" span="298:18:298:24">format</jtok>
<jtok eid="18" type="primary_name_ref" span="298:27:298:28">e</jtok>
<jtok eid="18" type="method_call" span="298:29:298:37">getValue</jtok>
<jtok eid="18" type="primary_name_ref" span="299:4:299:11">filters</jtok>
<jtok eid="18" type="method_call" span="299:12:299:15">add</jtok>
<jtok eid="18" type="primary_name_ref" span="299:16:299:22">format</jtok>
<jtok eid="18" type="method_call" span="299:23:299:36">getFileFilter</jtok>
<jtok eid="18" type="primary_name_ref" span="300:8:300:18">formatName</jtok>
<jtok eid="18" type="method_call" span="300:19:300:25">equals</jtok>
<jtok eid="18" type="primary_name_ref" span="300:26:300:40">lastUsedFormat</jtok>
<jtok eid="18" type="primary_name_ref" span="301:5:301:18">defaultFilter</jtok>
<jtok eid="18" type="primary_name_ref" span="301:21:301:27">format</jtok>
<jtok eid="18" type="method_call" span="301:28:301:41">getFileFilter</jtok>
<jtok eid="18" type="class_or_interface_ref" span="303:8:303:18">FileFilter</jtok>
<jtok eid="18" type="local_variable_name" span="303:19:303:21">ff</jtok>
<jtok eid="18" type="primary_name_ref" span="303:24:303:31">filters</jtok>
<jtok eid="18" type="primary_name_ref" span="304:4:304:6">fc</jtok>
<jtok eid="18" type="method_call" span="304:7:304:29">addChoosableFileFilter</jtok>
<jtok eid="18" type="primary_name_ref" span="304:30:304:32">ff</jtok>
<jtok eid="18" type="primary_name_ref" span="306:3:306:5">fc</jtok>
<jtok eid="18" type="method_call" span="306:6:306:32">setAcceptAllFileFilterUsed</jtok>
<jtok eid="18" type="primary_name_ref" span="307:7:307:20">defaultFilter</jtok>
<jtok eid="18" type="primary_name_ref" span="308:4:308:6">fc</jtok>
<jtok eid="18" type="method_call" span="308:7:308:20">setFileFilter</jtok>
<jtok eid="18" type="primary_name_ref" span="308:21:308:34">defaultFilter</jtok>
<jtok eid="18" type="primary_name_ref" span="309:10:309:12">fc</jtok>
<jtok eid="19" type="method_name" span="312:22:312:31">putFormat</jtok>
<jtok eid="19" type="parameter_type" span="312:32:312:45">IExportFormat</jtok>
<jtok eid="19" type="parameter_name" span="312:46:312:52">format</jtok>
<jtok eid="19" type="primary_name_ref" span="313:3:313:16">exportFormats</jtok>
<jtok eid="19" type="method_call" span="313:17:313:20">put</jtok>
<jtok eid="19" type="primary_name_ref" span="313:21:313:27">format</jtok>
<jtok eid="19" type="method_call" span="313:28:313:42">getConsoleName</jtok>
<jtok eid="19" type="primary_name_ref" span="313:46:313:52">format</jtok>
</jdoc>