<?xml version="1.0" encoding="utf-8"?>
<jdoc cUnit="net.sf.jabref.imports.ImportMenuItem" jls="java5">
<jent id="0" type="file" span="0:0:325:1">Source/jabref/src/java/net/sf/jabref/imports/ImportMenuItem.java</jent>
<jent id="1" pid="0" type="class" span="40:1:325:1">net.sf.jabref.imports.ImportMenuItem</jent>
<jent id="2" pid="1" type="method" span="47:5:49:5">net.sf.jabref.imports.ImportMenuItem.ImportMenuItem(JabRefFrame,boolean)</jent>
<jent id="3" pid="1" type="method" span="51:5:58:5">net.sf.jabref.imports.ImportMenuItem.ImportMenuItem(JabRefFrame,boolean,ImportFormat)</jent>
<jent id="4" pid="1" type="method" span="60:5:65:5">net.sf.jabref.imports.ImportMenuItem.actionPerformed(ActionEvent)</jent>
<jent id="5" pid="1" type="method" span="71:5:79:5">net.sf.jabref.imports.ImportMenuItem.automatedImport(String)</jent>
<jent id="6" pid="1" type="class" span="82:5:258:5">net.sf.jabref.imports.ImportMenuItem.MyWorker</jent>
<jent id="7" pid="6" type="method" span="87:9:99:9">net.sf.jabref.imports.ImportMenuItem.MyWorker.init()</jent>
<jent id="8" pid="6" type="method" span="101:9:158:9">net.sf.jabref.imports.ImportMenuItem.MyWorker.run()</jent>
<jent id="9" pid="6" type="method" span="160:9:257:9">net.sf.jabref.imports.ImportMenuItem.MyWorker.update()</jent>
<jent id="10" pid="1" type="method" span="260:5:323:5">net.sf.jabref.imports.ImportMenuItem.mergeImportResults(List&lt;Pair&lt;String,ParserResult&gt;&gt;)</jent>
<jtok eid="0" type="block_comment" span="36:1:39:4">/* 
 * TODO: could separate the "menu item" functionality from the importing functionality
 * 
 */</jtok>
<jtok eid="1" type="class_name" span="40:14:40:28">ImportMenuItem</jtok>
<jtok eid="1" type="class_or_interface_ref" span="40:37:40:46">JMenuItem</jtok>
<jtok eid="1" type="class_or_interface_ref" span="40:58:40:72">ActionListener</jtok>
<jtok eid="1" type="class_or_interface_ref" span="42:5:42:16">JabRefFrame</jtok>
<jtok eid="1" type="field_name" span="42:17:42:22">frame</jtok>
<jtok eid="1" type="field_name" span="43:13:43:22">openInNew</jtok>
<jtok eid="1" type="class_or_interface_ref" span="44:5:44:13">MyWorker</jtok>
<jtok eid="1" type="field_name" span="44:14:44:20">worker</jtok>
<jtok eid="1" type="class_or_interface_ref" span="45:5:45:17">ImportFormat</jtok>
<jtok eid="1" type="field_name" span="45:18:45:26">importer</jtok>
<jtok eid="2" type="method_name" span="47:12:47:26">ImportMenuItem</jtok>
<jtok eid="2" type="parameter_type" span="47:27:47:38">JabRefFrame</jtok>
<jtok eid="2" type="parameter_name" span="47:39:47:44">frame</jtok>
<jtok eid="2" type="parameter_name" span="47:54:47:63">openInNew</jtok>
<jtok eid="2" type="primary_name_ref" span="48:14:48:19">frame</jtok>
<jtok eid="2" type="primary_name_ref" span="48:21:48:30">openInNew</jtok>
<jtok eid="3" type="method_name" span="51:12:51:26">ImportMenuItem</jtok>
<jtok eid="3" type="parameter_type" span="51:27:51:38">JabRefFrame</jtok>
<jtok eid="3" type="parameter_name" span="51:39:51:44">frame</jtok>
<jtok eid="3" type="parameter_name" span="51:54:51:63">openInNew</jtok>
<jtok eid="3" type="parameter_type" span="51:65:51:77">ImportFormat</jtok>
<jtok eid="3" type="parameter_name" span="51:78:51:86">importer</jtok>
<jtok eid="3" type="primary_name_ref" span="52:15:52:23">importer</jtok>
<jtok eid="3" type="primary_name_ref" span="52:34:52:42">importer</jtok>
<jtok eid="3" type="method_call" span="52:43:52:56">getFormatName</jtok>
<jtok eid="3" type="primary_name_ref" span="53:19:53:26">Globals</jtok>
<jtok eid="3" type="method_call" span="53:27:53:31">lang</jtok>
<jtok eid="3" type="string_literal" span="53:32:53:51">"Autodetect format"</jtok>
<jtok eid="3" type="qualified_name_ref" span="54:14:54:22">importer</jtok>
<jtok eid="3" type="primary_name_ref" span="54:25:54:33">importer</jtok>
<jtok eid="3" type="qualified_name_ref" span="55:14:55:19">frame</jtok>
<jtok eid="3" type="primary_name_ref" span="55:22:55:27">frame</jtok>
<jtok eid="3" type="qualified_name_ref" span="56:14:56:23">openInNew</jtok>
<jtok eid="3" type="primary_name_ref" span="56:26:56:35">openInNew</jtok>
<jtok eid="3" type="method_call" span="57:9:57:26">addActionListener</jtok>
<jtok eid="4" type="method_name" span="60:17:60:32">actionPerformed</jtok>
<jtok eid="4" type="parameter_type" span="60:33:60:44">ActionEvent</jtok>
<jtok eid="4" type="parameter_name" span="60:45:60:46">e</jtok>
<jtok eid="4" type="primary_name_ref" span="61:9:61:15">worker</jtok>
<jtok eid="4" type="constructor_call" span="61:22:61:30">MyWorker</jtok>
<jtok eid="4" type="primary_name_ref" span="62:9:62:15">worker</jtok>
<jtok eid="4" type="method_call" span="62:16:62:20">init</jtok>
<jtok eid="4" type="primary_name_ref" span="63:9:63:15">worker</jtok>
<jtok eid="4" type="method_call" span="63:16:63:25">getWorker</jtok>
<jtok eid="4" type="method_call" span="63:28:63:31">run</jtok>
<jtok eid="4" type="primary_name_ref" span="64:9:64:15">worker</jtok>
<jtok eid="4" type="method_call" span="64:16:64:27">getCallBack</jtok>
<jtok eid="4" type="method_call" span="64:30:64:36">update</jtok>
<jtok eid="1" type="block_comment" span="67:5:70:8">/**
     * Automatically imports the files given as arguments
     * @param filenames List of files to import
     */</jtok>
<jtok eid="5" type="method_name" span="71:17:71:32">automatedImport</jtok>
<jtok eid="5" type="parameter_type" span="71:33:71:39">String</jtok>
<jtok eid="5" type="parameter_name" span="71:40:71:49">filenames</jtok>
<jtok eid="5" type="line_comment" span="72:9:72:46">// replace the work of the init step:</jtok>
<jtok eid="5" type="class_or_interface_ref" span="73:9:73:17">MyWorker</jtok>
<jtok eid="5" type="local_variable_name" span="73:18:73:24">worker</jtok>
<jtok eid="5" type="constructor_call" span="73:31:73:39">MyWorker</jtok>
<jtok eid="5" type="primary_name_ref" span="74:9:74:15">worker</jtok>
<jtok eid="5" type="qualified_name_ref" span="74:16:74:22">fileOk</jtok>
<jtok eid="5" type="primary_name_ref" span="75:9:75:15">worker</jtok>
<jtok eid="5" type="qualified_name_ref" span="75:16:75:25">filenames</jtok>
<jtok eid="5" type="primary_name_ref" span="75:28:75:37">filenames</jtok>
<jtok eid="5" type="primary_name_ref" span="77:9:77:15">worker</jtok>
<jtok eid="5" type="method_call" span="77:16:77:25">getWorker</jtok>
<jtok eid="5" type="method_call" span="77:28:77:31">run</jtok>
<jtok eid="5" type="primary_name_ref" span="78:9:78:15">worker</jtok>
<jtok eid="5" type="method_call" span="78:16:78:27">getCallBack</jtok>
<jtok eid="5" type="method_call" span="78:30:78:36">update</jtok>
<jtok eid="6" type="class_name" span="82:11:82:19">MyWorker</jtok>
<jtok eid="6" type="class_or_interface_ref" span="82:28:82:42">AbstractWorker</jtok>
<jtok eid="6" type="class_or_interface_ref" span="83:9:83:15">String</jtok>
<jtok eid="6" type="field_name" span="83:18:83:27">filenames</jtok>
<jtok eid="6" type="field_name" span="83:36:83:46">formatName</jtok>
<jtok eid="6" type="class_or_interface_ref" span="84:9:84:21">ParserResult</jtok>
<jtok eid="6" type="field_name" span="84:22:84:34">bibtexResult</jtok>
<jtok eid="6" type="line_comment" span="84:43:84:80">// Contains the merged import results</jtok>
<jtok eid="6" type="field_name" span="85:17:85:23">fileOk</jtok>
<jtok eid="7" type="method_name" span="87:21:87:25">init</jtok>
<jtok eid="7" type="primary_name_ref" span="88:13:88:22">filenames</jtok>
<jtok eid="7" type="primary_name_ref" span="88:25:88:36">FileDialogs</jtok>
<jtok eid="7" type="method_call" span="88:37:88:53">getMultipleFiles</jtok>
<jtok eid="7" type="primary_name_ref" span="88:54:88:59">frame</jtok>
<jtok eid="7" type="constructor_call" span="89:25:89:29">File</jtok>
<jtok eid="7" type="primary_name_ref" span="89:30:89:37">Globals</jtok>
<jtok eid="7" type="qualified_name_ref" span="89:38:89:43">prefs</jtok>
<jtok eid="7" type="method_call" span="89:44:89:47">get</jtok>
<jtok eid="7" type="string_literal" span="89:48:89:66">"workingDirectory"</jtok>
<jtok eid="7" type="primary_name_ref" span="90:22:90:30">importer</jtok>
<jtok eid="7" type="primary_name_ref" span="90:41:90:49">importer</jtok>
<jtok eid="7" type="method_call" span="90:50:90:63">getExtensions</jtok>
<jtok eid="7" type="primary_name_ref" span="92:18:92:27">filenames</jtok>
<jtok eid="7" type="primary_name_ref" span="92:41:92:50">filenames</jtok>
<jtok eid="7" type="qualified_name_ref" span="92:51:92:57">length</jtok>
<jtok eid="7" type="primary_name_ref" span="93:17:93:22">frame</jtok>
<jtok eid="7" type="method_call" span="93:23:93:28">block</jtok>
<jtok eid="7" type="primary_name_ref" span="94:17:94:22">frame</jtok>
<jtok eid="7" type="method_call" span="94:23:94:29">output</jtok>
<jtok eid="7" type="primary_name_ref" span="94:30:94:37">Globals</jtok>
<jtok eid="7" type="method_call" span="94:38:94:42">lang</jtok>
<jtok eid="7" type="string_literal" span="94:43:94:60">"Starting import"</jtok>
<jtok eid="7" type="primary_name_ref" span="95:17:95:23">fileOk</jtok>
<jtok eid="7" type="primary_name_ref" span="97:17:97:24">Globals</jtok>
<jtok eid="7" type="qualified_name_ref" span="97:25:97:30">prefs</jtok>
<jtok eid="7" type="method_call" span="97:31:97:34">put</jtok>
<jtok eid="7" type="string_literal" span="97:35:97:53">"workingDirectory"</jtok>
<jtok eid="7" type="primary_name_ref" span="97:55:97:64">filenames</jtok>
<jtok eid="8" type="method_name" span="101:21:101:24">run</jtok>
<jtok eid="8" type="primary_name_ref" span="102:18:102:24">fileOk</jtok>
<jtok eid="8" type="line_comment" span="105:13:105:62">// We import all files and collect their results:</jtok>
<jtok eid="8" type="class_or_interface_ref" span="106:4:106:8">List</jtok>
<jtok eid="8" type="class_or_interface_ref" span="106:9:106:13">Pair</jtok>
<jtok eid="8" type="class_or_interface_ref" span="106:14:106:20">String</jtok>
<jtok eid="8" type="class_or_interface_ref" span="106:22:106:34">ParserResult</jtok>
<jtok eid="8" type="local_variable_name" span="106:37:106:44">imports</jtok>
<jtok eid="8" type="constructor_call" span="106:51:106:60">ArrayList</jtok>
<jtok eid="8" type="constructor_call" span="106:61:106:65">Pair</jtok>
<jtok eid="8" type="constructor_call" span="106:66:106:72">String</jtok>
<jtok eid="8" type="constructor_call" span="106:74:106:86">ParserResult</jtok>
<jtok eid="8" type="class_or_interface_ref" span="107:9:107:15">String</jtok>
<jtok eid="8" type="local_variable_name" span="107:16:107:24">filename</jtok>
<jtok eid="8" type="primary_name_ref" span="107:27:107:36">filenames</jtok>
<jtok eid="8" type="primary_name_ref" span="109:10:109:18">importer</jtok>
<jtok eid="8" type="line_comment" span="110:7:110:28">// Specific importer:</jtok>
<jtok eid="8" type="class_or_interface_ref" span="111:7:111:19">ParserResult</jtok>
<jtok eid="8" type="local_variable_name" span="111:20:111:22">pr</jtok>
<jtok eid="8" type="constructor_call" span="111:29:111:41">ParserResult</jtok>
<jtok eid="8" type="primary_name_ref" span="112:8:112:15">Globals</jtok>
<jtok eid="8" type="qualified_name_ref" span="112:16:112:34">importFormatReader</jtok>
<jtok eid="8" type="method_call" span="112:35:112:49">importFromFile</jtok>
<jtok eid="8" type="primary_name_ref" span="112:50:112:58">importer</jtok>
<jtok eid="8" type="primary_name_ref" span="113:9:113:17">filename</jtok>
<jtok eid="8" type="primary_name_ref" span="115:7:115:14">imports</jtok>
<jtok eid="8" type="method_call" span="115:15:115:18">add</jtok>
<jtok eid="8" type="constructor_call" span="115:23:115:27">Pair</jtok>
<jtok eid="8" type="constructor_call" span="115:28:115:34">String</jtok>
<jtok eid="8" type="constructor_call" span="115:36:115:48">ParserResult</jtok>
<jtok eid="8" type="primary_name_ref" span="115:50:115:58">importer</jtok>
<jtok eid="8" type="method_call" span="116:9:116:22">getFormatName</jtok>
<jtok eid="8" type="primary_name_ref" span="116:26:116:28">pr</jtok>
<jtok eid="8" type="line_comment" span="118:7:118:25">// Unknown format:</jtok>
<jtok eid="8" type="primary_name_ref" span="119:25:119:30">frame</jtok>
<jtok eid="8" type="method_call" span="119:31:119:37">output</jtok>
<jtok eid="8" type="primary_name_ref" span="119:38:119:45">Globals</jtok>
<jtok eid="8" type="method_call" span="119:46:119:50">lang</jtok>
<jtok eid="8" type="string_literal" span="119:51:119:80">"Importing in unknown format"</jtok>
<jtok eid="8" type="string_literal" span="119:82:119:87">"..."</jtok>
<jtok eid="8" type="primary_name_ref" span="120:25:120:32">imports</jtok>
<jtok eid="8" type="method_call" span="120:33:120:36">add</jtok>
<jtok eid="8" type="primary_name_ref" span="120:37:120:44">Globals</jtok>
<jtok eid="8" type="qualified_name_ref" span="120:45:120:63">importFormatReader</jtok>
<jtok eid="8" type="method_call" span="121:9:121:28">importUnknownFormat</jtok>
<jtok eid="8" type="primary_name_ref" span="121:29:121:37">filename</jtok>
<jtok eid="8" type="class_or_interface_ref" span="123:14:123:25">IOException</jtok>
<jtok eid="8" type="local_variable_name" span="123:26:123:27">e</jtok>
<jtok eid="8" type="line_comment" span="124:6:124:28">// No entries found...</jtok>
<jtok eid="8" type="primary_name_ref" span="125:21:125:22">e</jtok>
<jtok eid="8" type="method_call" span="125:23:125:38">printStackTrace</jtok>
<jtok eid="8" type="line_comment" span="131:13:131:81">// Ok, done. Then try to gather in all we have found. Since we might</jtok>
<jtok eid="8" type="line_comment" span="132:4:132:17">// have found</jtok>
<jtok eid="8" type="line_comment" span="133:13:133:73">// one or more bibtex results, it's best to gather them in a</jtok>
<jtok eid="8" type="line_comment" span="134:4:134:22">// BibtexDatabase.</jtok>
<jtok eid="8" type="primary_name_ref" span="135:13:135:25">bibtexResult</jtok>
<jtok eid="8" type="method_call" span="135:28:135:46">mergeImportResults</jtok>
<jtok eid="8" type="primary_name_ref" span="135:47:135:54">imports</jtok>
<jtok eid="8" type="block_comment" span="138:13:138:47">/* show parserwarnings, if any. */</jtok>
<jtok eid="8" type="class_or_interface_ref" span="139:9:139:13">Pair</jtok>
<jtok eid="8" type="class_or_interface_ref" span="139:14:139:20">String</jtok>
<jtok eid="8" type="class_or_interface_ref" span="139:22:139:34">ParserResult</jtok>
<jtok eid="8" type="local_variable_name" span="139:36:139:37">p</jtok>
<jtok eid="8" type="primary_name_ref" span="139:40:139:47">imports</jtok>
<jtok eid="8" type="class_or_interface_ref" span="140:5:140:17">ParserResult</jtok>
<jtok eid="8" type="local_variable_name" span="140:18:140:20">pr</jtok>
<jtok eid="8" type="primary_name_ref" span="140:23:140:24">p</jtok>
<jtok eid="8" type="qualified_name_ref" span="140:25:140:26">v</jtok>
<jtok eid="8" type="primary_name_ref" span="141:9:141:11">pr</jtok>
<jtok eid="8" type="method_call" span="141:12:141:23">hasWarnings</jtok>
<jtok eid="8" type="primary_name_ref" span="142:10:142:17">Globals</jtok>
<jtok eid="8" type="qualified_name_ref" span="142:18:142:23">prefs</jtok>
<jtok eid="8" type="method_call" span="143:9:143:19">getBoolean</jtok>
<jtok eid="8" type="string_literal" span="143:20:143:54">"displayKeyWarningDialogAtStartup"</jtok>
<jtok eid="8" type="primary_name_ref" span="144:11:144:13">pr</jtok>
<jtok eid="8" type="method_call" span="144:14:144:25">hasWarnings</jtok>
<jtok eid="8" type="class_or_interface_ref" span="145:7:145:13">String</jtok>
<jtok eid="8" type="local_variable_name" span="145:16:145:20">wrns</jtok>
<jtok eid="8" type="primary_name_ref" span="145:23:145:25">pr</jtok>
<jtok eid="8" type="method_call" span="145:26:145:34">warnings</jtok>
<jtok eid="8" type="class_or_interface_ref" span="146:7:146:19">StringBuffer</jtok>
<jtok eid="8" type="local_variable_name" span="146:20:146:23">wrn</jtok>
<jtok eid="8" type="constructor_call" span="146:30:146:42">StringBuffer</jtok>
<jtok eid="8" type="local_variable_name" span="147:16:147:17">j</jtok>
<jtok eid="8" type="primary_name_ref" span="147:23:147:24">j</jtok>
<jtok eid="8" type="primary_name_ref" span="147:27:147:31">wrns</jtok>
<jtok eid="8" type="qualified_name_ref" span="147:32:147:38">length</jtok>
<jtok eid="8" type="primary_name_ref" span="147:40:147:41">j</jtok>
<jtok eid="8" type="primary_name_ref" span="148:8:148:11">wrn</jtok>
<jtok eid="8" type="method_call" span="148:12:148:18">append</jtok>
<jtok eid="8" type="primary_name_ref" span="148:19:148:20">j</jtok>
<jtok eid="8" type="method_call" span="148:26:148:32">append</jtok>
<jtok eid="8" type="string_literal" span="148:33:148:37">". "</jtok>
<jtok eid="8" type="method_call" span="148:39:148:45">append</jtok>
<jtok eid="8" type="primary_name_ref" span="148:46:148:50">wrns</jtok>
<jtok eid="8" type="primary_name_ref" span="148:51:148:52">j</jtok>
<jtok eid="8" type="method_call" span="149:11:149:17">append</jtok>
<jtok eid="8" type="string_literal" span="149:18:149:22">"\n"</jtok>
<jtok eid="8" type="primary_name_ref" span="150:11:150:14">wrn</jtok>
<jtok eid="8" type="method_call" span="150:15:150:21">length</jtok>
<jtok eid="8" type="primary_name_ref" span="151:8:151:11">wrn</jtok>
<jtok eid="8" type="method_call" span="151:12:151:24">deleteCharAt</jtok>
<jtok eid="8" type="primary_name_ref" span="151:25:151:28">wrn</jtok>
<jtok eid="8" type="method_call" span="151:29:151:35">length</jtok>
<jtok eid="8" type="primary_name_ref" span="152:7:152:18">JOptionPane</jtok>
<jtok eid="8" type="method_call" span="152:19:152:36">showMessageDialog</jtok>
<jtok eid="8" type="primary_name_ref" span="152:37:152:42">frame</jtok>
<jtok eid="8" type="primary_name_ref" span="152:44:152:47">wrn</jtok>
<jtok eid="8" type="method_call" span="152:48:152:56">toString</jtok>
<jtok eid="8" type="primary_name_ref" span="153:9:153:16">Globals</jtok>
<jtok eid="8" type="method_call" span="153:17:153:21">lang</jtok>
<jtok eid="8" type="string_literal" span="153:22:153:32">"Warnings"</jtok>
<jtok eid="8" type="primary_name_ref" span="154:9:154:20">JOptionPane</jtok>
<jtok eid="8" type="qualified_name_ref" span="154:21:154:36">WARNING_MESSAGE</jtok>
<jtok eid="9" type="method_name" span="160:21:160:27">update</jtok>
<jtok eid="9" type="primary_name_ref" span="161:18:161:24">fileOk</jtok>
<jtok eid="9" type="line_comment" span="164:13:164:79">// TODO: undo is not handled properly here, except for the entries</jtok>
<jtok eid="9" type="line_comment" span="165:4:165:15">// added by</jtok>
<jtok eid="9" type="line_comment" span="166:13:166:46">//  the import inspection dialog.</jtok>
<jtok eid="9" type="primary_name_ref" span="167:17:167:29">bibtexResult</jtok>
<jtok eid="9" type="primary_name_ref" span="168:22:168:31">openInNew</jtok>
<jtok eid="9" type="class_or_interface_ref" span="169:27:169:36">BasePanel</jtok>
<jtok eid="9" type="local_variable_name" span="169:37:169:42">panel</jtok>
<jtok eid="9" type="class_or_interface_ref" span="169:46:169:55">BasePanel</jtok>
<jtok eid="9" type="primary_name_ref" span="169:57:169:62">frame</jtok>
<jtok eid="9" type="method_call" span="169:63:169:76">getTabbedPane</jtok>
<jtok eid="9" type="method_call" span="169:79:169:99">getSelectedComponent</jtok>
<jtok eid="9" type="class_or_interface_ref" span="170:21:170:35">BibtexDatabase</jtok>
<jtok eid="9" type="local_variable_name" span="170:36:170:43">toAddTo</jtok>
<jtok eid="9" type="primary_name_ref" span="170:46:170:51">panel</jtok>
<jtok eid="9" type="method_call" span="170:52:170:60">database</jtok>
<jtok eid="9" type="line_comment" span="172:21:172:93">// Use the import inspection dialog if it is enabled in preferences, and</jtok>
<jtok eid="9" type="line_comment" span="173:21:173:95">// (there are more than one entry or the inspection dialog is also enabled</jtok>
<jtok eid="9" type="line_comment" span="174:21:174:44">// for single entries):</jtok>
<jtok eid="9" type="primary_name_ref" span="175:25:175:32">Globals</jtok>
<jtok eid="9" type="qualified_name_ref" span="175:33:175:38">prefs</jtok>
<jtok eid="9" type="method_call" span="175:39:175:49">getBoolean</jtok>
<jtok eid="9" type="string_literal" span="175:50:175:77">"useImportInspectionDialog"</jtok>
<jtok eid="9" type="primary_name_ref" span="176:30:176:37">Globals</jtok>
<jtok eid="9" type="qualified_name_ref" span="176:38:176:43">prefs</jtok>
<jtok eid="9" type="method_call" span="176:44:176:54">getBoolean</jtok>
<jtok eid="9" type="string_literal" span="176:55:176:91">"useImportInspectionDialogForSingle"</jtok>
<jtok eid="9" type="primary_name_ref" span="177:41:177:53">bibtexResult</jtok>
<jtok eid="9" type="method_call" span="177:54:177:65">getDatabase</jtok>
<jtok eid="9" type="method_call" span="177:68:177:81">getEntryCount</jtok>
<jtok eid="9" type="class_or_interface_ref" span="178:25:178:47">ImportInspectionDialog</jtok>
<jtok eid="9" type="local_variable_name" span="178:48:178:52">diag</jtok>
<jtok eid="9" type="constructor_call" span="178:59:178:81">ImportInspectionDialog</jtok>
<jtok eid="9" type="primary_name_ref" span="178:82:178:87">frame</jtok>
<jtok eid="9" type="primary_name_ref" span="178:89:178:94">panel</jtok>
<jtok eid="9" type="primary_name_ref" span="179:33:179:45">BibtexFields</jtok>
<jtok eid="9" type="qualified_name_ref" span="179:46:179:71">DEFAULT_INSPECTION_FIELDS</jtok>
<jtok eid="9" type="primary_name_ref" span="180:33:180:40">Globals</jtok>
<jtok eid="9" type="method_call" span="180:41:180:45">lang</jtok>
<jtok eid="9" type="string_literal" span="180:46:180:54">"Import"</jtok>
<jtok eid="9" type="primary_name_ref" span="180:57:180:66">openInNew</jtok>
<jtok eid="9" type="primary_name_ref" span="181:25:181:29">diag</jtok>
<jtok eid="9" type="method_call" span="181:30:181:40">addEntries</jtok>
<jtok eid="9" type="primary_name_ref" span="181:41:181:53">bibtexResult</jtok>
<jtok eid="9" type="method_call" span="181:54:181:65">getDatabase</jtok>
<jtok eid="9" type="method_call" span="181:68:181:78">getEntries</jtok>
<jtok eid="9" type="primary_name_ref" span="182:25:182:29">diag</jtok>
<jtok eid="9" type="method_call" span="182:30:182:47">entryListComplete</jtok>
<jtok eid="9" type="primary_name_ref" span="183:25:183:29">Util</jtok>
<jtok eid="9" type="method_call" span="183:30:183:41">placeDialog</jtok>
<jtok eid="9" type="primary_name_ref" span="183:42:183:46">diag</jtok>
<jtok eid="9" type="primary_name_ref" span="183:48:183:53">frame</jtok>
<jtok eid="9" type="primary_name_ref" span="184:25:184:29">diag</jtok>
<jtok eid="9" type="method_call" span="184:30:184:40">setVisible</jtok>
<jtok eid="9" type="primary_name_ref" span="185:25:185:29">diag</jtok>
<jtok eid="9" type="method_call" span="185:30:185:37">toFront</jtok>
<jtok eid="9" type="local_variable_name" span="187:33:187:45">generateKeys</jtok>
<jtok eid="9" type="primary_name_ref" span="187:48:187:55">Globals</jtok>
<jtok eid="9" type="qualified_name_ref" span="187:56:187:61">prefs</jtok>
<jtok eid="9" type="method_call" span="187:62:187:72">getBoolean</jtok>
<jtok eid="9" type="string_literal" span="187:73:187:102">"generateKeysAfterInspection"</jtok>
<jtok eid="9" type="class_or_interface_ref" span="188:25:188:38">NamedCompound</jtok>
<jtok eid="9" type="local_variable_name" span="188:39:188:41">ce</jtok>
<jtok eid="9" type="constructor_call" span="188:48:188:61">NamedCompound</jtok>
<jtok eid="9" type="primary_name_ref" span="188:62:188:69">Globals</jtok>
<jtok eid="9" type="method_call" span="188:70:188:74">lang</jtok>
<jtok eid="9" type="string_literal" span="188:75:188:91">"Import entries"</jtok>
<jtok eid="9" type="line_comment" span="190:25:190:89">// Check if we should unmark entries before adding the new ones:</jtok>
<jtok eid="9" type="primary_name_ref" span="191:29:191:36">Globals</jtok>
<jtok eid="9" type="qualified_name_ref" span="191:37:191:42">prefs</jtok>
<jtok eid="9" type="method_call" span="191:43:191:53">getBoolean</jtok>
<jtok eid="9" type="string_literal" span="191:54:191:87">"unmarkAllEntriesBeforeImporting"</jtok>
<jtok eid="9" type="class_or_interface_ref" span="192:34:192:45">BibtexEntry</jtok>
<jtok eid="9" type="local_variable_name" span="192:46:192:51">entry</jtok>
<jtok eid="9" type="primary_name_ref" span="192:54:192:61">toAddTo</jtok>
<jtok eid="9" type="method_call" span="192:62:192:72">getEntries</jtok>
<jtok eid="9" type="primary_name_ref" span="193:33:193:37">Util</jtok>
<jtok eid="9" type="method_call" span="193:38:193:49">unmarkEntry</jtok>
<jtok eid="9" type="primary_name_ref" span="193:50:193:55">entry</jtok>
<jtok eid="9" type="primary_name_ref" span="193:57:193:64">toAddTo</jtok>
<jtok eid="9" type="primary_name_ref" span="193:66:193:68">ce</jtok>
<jtok eid="9" type="class_or_interface_ref" span="197:30:197:41">BibtexEntry</jtok>
<jtok eid="9" type="local_variable_name" span="197:42:197:47">entry</jtok>
<jtok eid="9" type="primary_name_ref" span="197:50:197:62">bibtexResult</jtok>
<jtok eid="9" type="method_call" span="197:63:197:74">getDatabase</jtok>
<jtok eid="9" type="method_call" span="197:77:197:87">getEntries</jtok>
<jtok eid="9" type="line_comment" span="199:33:199:89">// Check if the entry is a duplicate of an existing one:</jtok>
<jtok eid="9" type="local_variable_name" span="200:41:200:50">keepEntry</jtok>
<jtok eid="9" type="class_or_interface_ref" span="201:33:201:44">BibtexEntry</jtok>
<jtok eid="9" type="local_variable_name" span="201:45:201:54">duplicate</jtok>
<jtok eid="9" type="primary_name_ref" span="201:57:201:71">DuplicateCheck</jtok>
<jtok eid="9" type="method_call" span="201:72:201:89">containsDuplicate</jtok>
<jtok eid="9" type="primary_name_ref" span="201:90:201:97">toAddTo</jtok>
<jtok eid="9" type="primary_name_ref" span="201:99:201:104">entry</jtok>
<jtok eid="9" type="primary_name_ref" span="202:37:202:46">duplicate</jtok>
<jtok eid="9" type="local_variable_name" span="203:41:203:47">answer</jtok>
<jtok eid="9" type="primary_name_ref" span="203:50:203:73">DuplicateResolverDialog</jtok>
<jtok eid="9" type="method_call" span="203:74:203:98">resolveDuplicateInImport</jtok>
<jtok eid="9" type="primary_name_ref" span="204:46:204:51">frame</jtok>
<jtok eid="9" type="primary_name_ref" span="204:53:204:62">duplicate</jtok>
<jtok eid="9" type="primary_name_ref" span="204:64:204:69">entry</jtok>
<jtok eid="9" type="line_comment" span="205:37:205:62">// The upper entry is the</jtok>
<jtok eid="9" type="primary_name_ref" span="206:41:206:47">answer</jtok>
<jtok eid="9" type="primary_name_ref" span="206:51:206:74">DuplicateResolverDialog</jtok>
<jtok eid="9" type="qualified_name_ref" span="206:75:206:88">DO_NOT_IMPORT</jtok>
<jtok eid="9" type="primary_name_ref" span="207:41:207:50">keepEntry</jtok>
<jtok eid="9" type="primary_name_ref" span="208:41:208:47">answer</jtok>
<jtok eid="9" type="primary_name_ref" span="208:51:208:74">DuplicateResolverDialog</jtok>
<jtok eid="9" type="qualified_name_ref" span="208:75:208:96">IMPORT_AND_DELETE_OLD</jtok>
<jtok eid="9" type="line_comment" span="209:41:209:86">// Remove the old one and import the new one.</jtok>
<jtok eid="9" type="primary_name_ref" span="210:41:210:48">toAddTo</jtok>
<jtok eid="9" type="method_call" span="210:49:210:60">removeEntry</jtok>
<jtok eid="9" type="primary_name_ref" span="210:61:210:70">duplicate</jtok>
<jtok eid="9" type="method_call" span="210:71:210:76">getId</jtok>
<jtok eid="9" type="primary_name_ref" span="211:41:211:43">ce</jtok>
<jtok eid="9" type="method_call" span="211:44:211:51">addEdit</jtok>
<jtok eid="9" type="constructor_call" span="211:56:211:75">UndoableRemoveEntry</jtok>
<jtok eid="9" type="primary_name_ref" span="211:76:211:83">toAddTo</jtok>
<jtok eid="9" type="primary_name_ref" span="211:85:211:94">duplicate</jtok>
<jtok eid="9" type="primary_name_ref" span="211:96:211:101">panel</jtok>
<jtok eid="9" type="line_comment" span="214:33:214:73">// Add the entry, if we are supposed to:</jtok>
<jtok eid="9" type="primary_name_ref" span="215:37:215:46">keepEntry</jtok>
<jtok eid="9" type="primary_name_ref" span="216:37:216:44">toAddTo</jtok>
<jtok eid="9" type="method_call" span="216:45:216:56">insertEntry</jtok>
<jtok eid="9" type="primary_name_ref" span="216:57:216:62">entry</jtok>
<jtok eid="9" type="line_comment" span="217:37:217:76">// Generate key, if we are supposed to:</jtok>
<jtok eid="9" type="primary_name_ref" span="218:41:218:53">generateKeys</jtok>
<jtok eid="9" type="primary_name_ref" span="219:41:219:57">LabelPatternUtil</jtok>
<jtok eid="9" type="method_call" span="219:58:219:67">makeLabel</jtok>
<jtok eid="9" type="primary_name_ref" span="219:68:219:75">Globals</jtok>
<jtok eid="9" type="qualified_name_ref" span="219:76:219:81">prefs</jtok>
<jtok eid="9" type="method_call" span="219:82:219:95">getKeyPattern</jtok>
<jtok eid="9" type="primary_name_ref" span="219:99:219:106">toAddTo</jtok>
<jtok eid="9" type="primary_name_ref" span="219:108:219:113">entry</jtok>
<jtok eid="9" type="line_comment" span="220:41:220:89">//System.out.println("gen:"+entry.getCiteKey());</jtok>
<jtok eid="9" type="line_comment" span="222:37:222:101">// Let the autocompleters, if any, harvest words from the entry:</jtok>
<jtok eid="9" type="primary_name_ref" span="223:37:223:41">Util</jtok>
<jtok eid="9" type="method_call" span="223:42:223:66">updateCompletersForEntry</jtok>
<jtok eid="9" type="primary_name_ref" span="223:67:223:72">panel</jtok>
<jtok eid="9" type="method_call" span="223:73:223:90">getAutoCompleters</jtok>
<jtok eid="9" type="primary_name_ref" span="223:94:223:99">entry</jtok>
<jtok eid="9" type="primary_name_ref" span="225:37:225:39">ce</jtok>
<jtok eid="9" type="method_call" span="225:40:225:47">addEdit</jtok>
<jtok eid="9" type="constructor_call" span="225:52:225:71">UndoableInsertEntry</jtok>
<jtok eid="9" type="primary_name_ref" span="225:72:225:79">toAddTo</jtok>
<jtok eid="9" type="primary_name_ref" span="225:81:225:86">entry</jtok>
<jtok eid="9" type="primary_name_ref" span="225:88:225:93">panel</jtok>
<jtok eid="9" type="class_or_interface_ref" span="227:38:227:59">KeyCollisionException</jtok>
<jtok eid="9" type="local_variable_name" span="227:60:227:61">e</jtok>
<jtok eid="9" type="primary_name_ref" span="228:33:228:34">e</jtok>
<jtok eid="9" type="method_call" span="228:35:228:50">printStackTrace</jtok>
<jtok eid="9" type="primary_name_ref" span="231:25:231:27">ce</jtok>
<jtok eid="9" type="method_call" span="231:28:231:31">end</jtok>
<jtok eid="9" type="primary_name_ref" span="232:29:232:31">ce</jtok>
<jtok eid="9" type="method_call" span="232:32:232:40">hasEdits</jtok>
<jtok eid="9" type="primary_name_ref" span="233:29:233:34">panel</jtok>
<jtok eid="9" type="qualified_name_ref" span="233:35:233:46">undoManager</jtok>
<jtok eid="9" type="method_call" span="233:47:233:54">addEdit</jtok>
<jtok eid="9" type="primary_name_ref" span="233:55:233:57">ce</jtok>
<jtok eid="9" type="primary_name_ref" span="234:29:234:34">panel</jtok>
<jtok eid="9" type="method_call" span="234:35:234:50">markBaseChanged</jtok>
<jtok eid="9" type="primary_name_ref" span="242:21:242:26">frame</jtok>
<jtok eid="9" type="method_call" span="242:27:242:33">addTab</jtok>
<jtok eid="9" type="primary_name_ref" span="242:34:242:46">bibtexResult</jtok>
<jtok eid="9" type="method_call" span="242:47:242:58">getDatabase</jtok>
<jtok eid="9" type="primary_name_ref" span="242:62:242:74">bibtexResult</jtok>
<jtok eid="9" type="method_call" span="242:75:242:82">getFile</jtok>
<jtok eid="9" type="primary_name_ref" span="243:29:243:41">bibtexResult</jtok>
<jtok eid="9" type="method_call" span="243:42:243:53">getMetaData</jtok>
<jtok eid="9" type="primary_name_ref" span="243:57:243:64">Globals</jtok>
<jtok eid="9" type="qualified_name_ref" span="243:65:243:70">prefs</jtok>
<jtok eid="9" type="method_call" span="243:71:243:74">get</jtok>
<jtok eid="9" type="string_literal" span="243:75:243:92">"defaultEncoding"</jtok>
<jtok eid="9" type="primary_name_ref" span="244:21:244:26">frame</jtok>
<jtok eid="9" type="method_call" span="244:27:244:33">output</jtok>
<jtok eid="9" type="primary_name_ref" span="244:34:244:41">Globals</jtok>
<jtok eid="9" type="method_call" span="244:42:244:46">lang</jtok>
<jtok eid="9" type="string_literal" span="244:47:244:65">"Imported entries"</jtok>
<jtok eid="9" type="string_literal" span="244:69:244:73">": "</jtok>
<jtok eid="9" type="primary_name_ref" span="244:76:244:88">bibtexResult</jtok>
<jtok eid="9" type="method_call" span="244:89:244:100">getDatabase</jtok>
<jtok eid="9" type="method_call" span="244:103:244:116">getEntryCount</jtok>
<jtok eid="9" type="primary_name_ref" span="249:21:249:29">importer</jtok>
<jtok eid="9" type="primary_name_ref" span="250:21:250:26">frame</jtok>
<jtok eid="9" type="method_call" span="250:27:250:33">output</jtok>
<jtok eid="9" type="primary_name_ref" span="250:34:250:41">Globals</jtok>
<jtok eid="9" type="method_call" span="250:42:250:46">lang</jtok>
<jtok eid="9" type="string_literal" span="250:47:250:89">"Could not find a suitable import format."</jtok>
<jtok eid="9" type="primary_name_ref" span="252:21:252:32">JOptionPane</jtok>
<jtok eid="9" type="method_call" span="252:33:252:50">showMessageDialog</jtok>
<jtok eid="9" type="primary_name_ref" span="252:51:252:56">frame</jtok>
<jtok eid="9" type="primary_name_ref" span="252:58:252:65">Globals</jtok>
<jtok eid="9" type="method_call" span="252:66:252:70">lang</jtok>
<jtok eid="9" type="string_literal" span="252:71:252:116">"No entries found. Please make sure you are "</jtok>
<jtok eid="9" type="string_literal" span="253:12:253:46">"using the correct import filter."</jtok>
<jtok eid="9" type="primary_name_ref" span="253:49:253:56">Globals</jtok>
<jtok eid="9" type="method_call" span="253:57:253:61">lang</jtok>
<jtok eid="9" type="string_literal" span="253:62:253:77">"Import failed"</jtok>
<jtok eid="9" type="primary_name_ref" span="254:12:254:23">JOptionPane</jtok>
<jtok eid="9" type="qualified_name_ref" span="254:24:254:37">ERROR_MESSAGE</jtok>
<jtok eid="9" type="primary_name_ref" span="256:13:256:18">frame</jtok>
<jtok eid="9" type="method_call" span="256:19:256:26">unblock</jtok>
<jtok eid="10" type="class_or_interface_ref" span="260:12:260:24">ParserResult</jtok>
<jtok eid="10" type="method_name" span="260:25:260:43">mergeImportResults</jtok>
<jtok eid="10" type="parameter_type" span="260:44:260:48">List</jtok>
<jtok eid="10" type="parameter_type" span="260:49:260:53">Pair</jtok>
<jtok eid="10" type="parameter_type" span="260:54:260:60">String</jtok>
<jtok eid="10" type="parameter_type" span="260:62:260:74">ParserResult</jtok>
<jtok eid="10" type="parameter_name" span="260:77:260:84">imports</jtok>
<jtok eid="10" type="class_or_interface_ref" span="261:9:261:23">BibtexDatabase</jtok>
<jtok eid="10" type="local_variable_name" span="261:24:261:32">database</jtok>
<jtok eid="10" type="constructor_call" span="261:39:261:53">BibtexDatabase</jtok>
<jtok eid="10" type="class_or_interface_ref" span="262:9:262:21">ParserResult</jtok>
<jtok eid="10" type="local_variable_name" span="262:22:262:40">directParserResult</jtok>
<jtok eid="10" type="local_variable_name" span="263:17:263:31">anythingUseful</jtok>
<jtok eid="10" type="class_or_interface_ref" span="265:14:265:18">Pair</jtok>
<jtok eid="10" type="class_or_interface_ref" span="265:19:265:25">String</jtok>
<jtok eid="10" type="class_or_interface_ref" span="265:27:265:39">ParserResult</jtok>
<jtok eid="10" type="local_variable_name" span="265:41:265:53">importResult</jtok>
<jtok eid="10" type="primary_name_ref" span="265:56:265:63">imports</jtok>
<jtok eid="10" type="primary_name_ref" span="266:17:266:29">importResult</jtok>
<jtok eid="10" type="primary_name_ref" span="268:17:268:29">importResult</jtok>
<jtok eid="10" type="qualified_name_ref" span="268:30:268:31">p</jtok>
<jtok eid="10" type="method_call" span="268:32:268:38">equals</jtok>
<jtok eid="10" type="primary_name_ref" span="268:39:268:57">ImportFormatReader</jtok>
<jtok eid="10" type="qualified_name_ref" span="268:58:268:71">BIBTEX_FORMAT</jtok>
<jtok eid="10" type="line_comment" span="269:14:269:68">// Bibtex result. We must merge it into our main base.</jtok>
<jtok eid="10" type="class_or_interface_ref" span="270:17:270:29">ParserResult</jtok>
<jtok eid="10" type="local_variable_name" span="270:30:270:32">pr</jtok>
<jtok eid="10" type="primary_name_ref" span="270:35:270:47">importResult</jtok>
<jtok eid="10" type="qualified_name_ref" span="270:48:270:49">v</jtok>
<jtok eid="10" type="primary_name_ref" span="272:17:272:31">anythingUseful</jtok>
<jtok eid="10" type="primary_name_ref" span="272:34:272:48">anythingUseful</jtok>
<jtok eid="10" type="primary_name_ref" span="273:30:273:32">pr</jtok>
<jtok eid="10" type="method_call" span="273:33:273:44">getDatabase</jtok>
<jtok eid="10" type="method_call" span="273:47:273:60">getEntryCount</jtok>
<jtok eid="10" type="primary_name_ref" span="273:72:273:74">pr</jtok>
<jtok eid="10" type="method_call" span="273:75:273:86">getDatabase</jtok>
<jtok eid="10" type="method_call" span="273:89:273:103">getStringCount</jtok>
<jtok eid="10" type="line_comment" span="275:17:275:88">// Record the parserResult, as long as this is the first bibtex result:</jtok>
<jtok eid="10" type="primary_name_ref" span="276:21:276:39">directParserResult</jtok>
<jtok eid="10" type="primary_name_ref" span="277:21:277:39">directParserResult</jtok>
<jtok eid="10" type="primary_name_ref" span="277:42:277:44">pr</jtok>
<jtok eid="10" type="line_comment" span="280:17:280:34">// Merge entries:</jtok>
<jtok eid="10" type="class_or_interface_ref" span="281:22:281:33">BibtexEntry</jtok>
<jtok eid="10" type="local_variable_name" span="281:34:281:39">entry</jtok>
<jtok eid="10" type="primary_name_ref" span="281:42:281:44">pr</jtok>
<jtok eid="10" type="method_call" span="281:45:281:56">getDatabase</jtok>
<jtok eid="10" type="method_call" span="281:59:281:69">getEntries</jtok>
<jtok eid="10" type="primary_name_ref" span="282:21:282:29">database</jtok>
<jtok eid="10" type="method_call" span="282:30:282:41">insertEntry</jtok>
<jtok eid="10" type="primary_name_ref" span="282:42:282:47">entry</jtok>
<jtok eid="10" type="line_comment" span="285:17:285:34">// Merge strings:</jtok>
<jtok eid="10" type="class_or_interface_ref" span="286:22:286:34">BibtexString</jtok>
<jtok eid="10" type="local_variable_name" span="286:35:286:37">bs</jtok>
<jtok eid="10" type="primary_name_ref" span="286:40:286:42">pr</jtok>
<jtok eid="10" type="method_call" span="286:43:286:54">getDatabase</jtok>
<jtok eid="10" type="method_call" span="286:57:286:72">getStringValues</jtok>
<jtok eid="10" type="primary_name_ref" span="288:25:288:33">database</jtok>
<jtok eid="10" type="method_call" span="288:34:288:43">addString</jtok>
<jtok eid="10" type="class_or_interface_ref" span="288:45:288:57">BibtexString</jtok>
<jtok eid="10" type="primary_name_ref" span="288:58:288:60">bs</jtok>
<jtok eid="10" type="method_call" span="288:61:288:66">clone</jtok>
<jtok eid="10" type="class_or_interface_ref" span="289:30:289:51">KeyCollisionException</jtok>
<jtok eid="10" type="local_variable_name" span="289:52:289:53">e</jtok>
<jtok eid="10" type="line_comment" span="290:25:290:88">// TODO: This means a duplicate string name exists, so it's not</jtok>
<jtok eid="10" type="line_comment" span="291:25:291:92">// a very exceptional situation. We should maybe give a warning...?</jtok>
<jtok eid="10" type="class_or_interface_ref" span="296:14:296:26">ParserResult</jtok>
<jtok eid="10" type="local_variable_name" span="296:27:296:29">pr</jtok>
<jtok eid="10" type="primary_name_ref" span="296:32:296:44">importResult</jtok>
<jtok eid="10" type="qualified_name_ref" span="296:45:296:46">v</jtok>
<jtok eid="10" type="class_or_interface_ref" span="297:5:297:15">Collection</jtok>
<jtok eid="10" type="class_or_interface_ref" span="297:16:297:27">BibtexEntry</jtok>
<jtok eid="10" type="local_variable_name" span="297:29:297:36">entries</jtok>
<jtok eid="10" type="primary_name_ref" span="297:39:297:41">pr</jtok>
<jtok eid="10" type="method_call" span="297:42:297:53">getDatabase</jtok>
<jtok eid="10" type="method_call" span="297:56:297:66">getEntries</jtok>
<jtok eid="10" type="primary_name_ref" span="299:5:299:19">anythingUseful</jtok>
<jtok eid="10" type="primary_name_ref" span="299:22:299:36">anythingUseful</jtok>
<jtok eid="10" type="primary_name_ref" span="299:40:299:47">entries</jtok>
<jtok eid="10" type="method_call" span="299:48:299:52">size</jtok>
<jtok eid="10" type="line_comment" span="301:5:301:31">// set timestamp and owner</jtok>
<jtok eid="10" type="primary_name_ref" span="302:5:302:9">Util</jtok>
<jtok eid="10" type="method_call" span="302:10:302:28">setAutomaticFields</jtok>
<jtok eid="10" type="primary_name_ref" span="302:29:302:36">entries</jtok>
<jtok eid="10" type="primary_name_ref" span="302:38:302:45">Globals</jtok>
<jtok eid="10" type="qualified_name_ref" span="302:46:302:51">prefs</jtok>
<jtok eid="10" type="method_call" span="302:52:302:62">getBoolean</jtok>
<jtok eid="10" type="string_literal" span="302:63:302:79">"overwriteOwner"</jtok>
<jtok eid="10" type="primary_name_ref" span="303:25:303:32">Globals</jtok>
<jtok eid="10" type="qualified_name_ref" span="303:33:303:38">prefs</jtok>
<jtok eid="10" type="method_call" span="303:39:303:49">getBoolean</jtok>
<jtok eid="10" type="string_literal" span="303:50:303:70">"overwriteTimeStamp"</jtok>
<jtok eid="10" type="primary_name_ref" span="304:26:304:35">openInNew</jtok>
<jtok eid="10" type="primary_name_ref" span="304:39:304:46">Globals</jtok>
<jtok eid="10" type="qualified_name_ref" span="304:47:304:52">prefs</jtok>
<jtok eid="10" type="method_call" span="304:53:304:63">getBoolean</jtok>
<jtok eid="10" type="string_literal" span="304:64:304:85">"markImportedEntries"</jtok>
<jtok eid="10" type="line_comment" span="304:89:304:115">// set timestamp and owner</jtok>
<jtok eid="10" type="class_or_interface_ref" span="306:22:306:33">BibtexEntry</jtok>
<jtok eid="10" type="local_variable_name" span="306:34:306:39">entry</jtok>
<jtok eid="10" type="primary_name_ref" span="306:42:306:49">entries</jtok>
<jtok eid="10" type="primary_name_ref" span="307:6:307:14">database</jtok>
<jtok eid="10" type="method_call" span="307:15:307:26">insertEntry</jtok>
<jtok eid="10" type="primary_name_ref" span="307:27:307:32">entry</jtok>
<jtok eid="10" type="primary_name_ref" span="312:14:312:28">anythingUseful</jtok>
<jtok eid="10" type="primary_name_ref" span="315:14:315:21">imports</jtok>
<jtok eid="10" type="method_call" span="315:22:315:26">size</jtok>
<jtok eid="10" type="primary_name_ref" span="315:39:315:57">directParserResult</jtok>
<jtok eid="10" type="primary_name_ref" span="316:20:316:38">directParserResult</jtok>
<jtok eid="10" type="class_or_interface_ref" span="319:13:319:25">ParserResult</jtok>
<jtok eid="10" type="local_variable_name" span="319:26:319:28">pr</jtok>
<jtok eid="10" type="constructor_call" span="319:35:319:47">ParserResult</jtok>
<jtok eid="10" type="primary_name_ref" span="319:48:319:56">database</jtok>
<jtok eid="10" type="constructor_call" span="319:62:319:69">HashMap</jtok>
<jtok eid="10" type="constructor_call" span="319:70:319:76">String</jtok>
<jtok eid="10" type="constructor_call" span="319:78:319:84">String</jtok>
<jtok eid="10" type="constructor_call" span="319:93:319:100">HashMap</jtok>
<jtok eid="10" type="constructor_call" span="319:101:319:107">String</jtok>
<jtok eid="10" type="constructor_call" span="319:109:319:124">BibtexEntryType</jtok>
<jtok eid="10" type="primary_name_ref" span="320:20:320:22">pr</jtok>
</jdoc>