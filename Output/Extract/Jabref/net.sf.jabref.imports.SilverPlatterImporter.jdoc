<?xml version="1.0" encoding="utf-8"?>
<jdoc cUnit="net.sf.jabref.imports.SilverPlatterImporter" jls="java5">
<jent id="0" type="file" span="0:0:190:0">Source/jabref/src/java/net/sf/jabref/imports/SilverPlatterImporter.java</jent>
<jent id="1" pid="0" type="class" span="20:1:188:1">net.sf.jabref.imports.SilverPlatterImporter</jent>
<jent id="2" pid="1" type="method" span="25:5:27:5">net.sf.jabref.imports.SilverPlatterImporter.getFormatName()</jent>
<jent id="3" pid="1" type="method" span="33:5:35:5">net.sf.jabref.imports.SilverPlatterImporter.getCLIId()</jent>
<jent id="4" pid="1" type="method" span="40:5:58:5">net.sf.jabref.imports.SilverPlatterImporter.isRecognizedFormat(InputStream)</jent>
<jent id="5" pid="1" type="method" span="64:5:187:5">net.sf.jabref.imports.SilverPlatterImporter.importEntries(InputStream)</jent>
<jtok eid="0" type="block_comment" span="16:1:19:4">/**
 * Imports a SilverPlatter exported file. This is a poor format to parse,
 * so it currently doesn't handle everything correctly.
 */</jtok>
<jtok eid="1" type="class_name" span="20:14:20:35">SilverPlatterImporter</jtok>
<jtok eid="1" type="class_or_interface_ref" span="20:44:20:56">ImportFormat</jtok>
<jtok eid="1" type="block_comment" span="22:5:24:8">/**
     * Return the name of this import format.
     */</jtok>
<jtok eid="2" type="class_or_interface_ref" span="25:12:25:18">String</jtok>
<jtok eid="2" type="method_name" span="25:19:25:32">getFormatName</jtok>
<jtok eid="2" type="string_literal" span="26:16:26:31">"SilverPlatter"</jtok>
<jtok eid="1" type="block_comment" span="29:5:32:8">/*
     *  (non-Javadoc)
     * @see net.sf.jabref.imports.ImportFormat#getCLIId()
     */</jtok>
<jtok eid="3" type="class_or_interface_ref" span="33:12:33:18">String</jtok>
<jtok eid="3" type="method_name" span="33:19:33:27">getCLIId</jtok>
<jtok eid="3" type="string_literal" span="34:14:34:29">"silverplatter"</jtok>
<jtok eid="1" type="block_comment" span="37:5:39:8">/**
     * Check whether the source is in the correct format for this importer.
     */</jtok>
<jtok eid="4" type="method_name" span="40:20:40:38">isRecognizedFormat</jtok>
<jtok eid="4" type="parameter_type" span="40:39:40:50">InputStream</jtok>
<jtok eid="4" type="parameter_name" span="40:51:40:57">stream</jtok>
<jtok eid="4" type="throws" span="40:66:40:77">IOException</jtok>
<jtok eid="4" type="class_or_interface_ref" span="41:9:41:23">BufferedReader</jtok>
<jtok eid="4" type="local_variable_name" span="41:24:41:26">in</jtok>
<jtok eid="4" type="constructor_call" span="41:33:41:47">BufferedReader</jtok>
<jtok eid="4" type="primary_name_ref" span="41:48:41:66">ImportFormatReader</jtok>
<jtok eid="4" type="method_call" span="41:67:41:91">getReaderDefaultEncoding</jtok>
<jtok eid="4" type="primary_name_ref" span="41:92:41:98">stream</jtok>
<jtok eid="4" type="line_comment" span="43:9:43:82">// This format is very similar to Inspec, so we have a two-fold strategy:</jtok>
<jtok eid="4" type="line_comment" span="44:9:44:82">// If we see the flag signalling that it is an inspec file, return false.</jtok>
<jtok eid="4" type="line_comment" span="45:9:45:77">// This flag should appear above the first entry and prevent us from</jtok>
<jtok eid="4" type="line_comment" span="46:9:46:74">// accepting the Inspec format. Then we look for the title entry.</jtok>
<jtok eid="4" type="class_or_interface_ref" span="47:9:47:16">Pattern</jtok>
<jtok eid="4" type="local_variable_name" span="47:17:47:21">pat1</jtok>
<jtok eid="4" type="primary_name_ref" span="47:24:47:31">Pattern</jtok>
<jtok eid="4" type="method_call" span="47:32:47:39">compile</jtok>
<jtok eid="4" type="string_literal" span="47:40:47:58">"Record.*INSPEC.*"</jtok>
<jtok eid="4" type="class_or_interface_ref" span="48:9:48:15">String</jtok>
<jtok eid="4" type="local_variable_name" span="48:16:48:19">str</jtok>
<jtok eid="4" type="primary_name_ref" span="49:17:49:20">str</jtok>
<jtok eid="4" type="primary_name_ref" span="49:23:49:25">in</jtok>
<jtok eid="4" type="method_call" span="49:26:49:34">readLine</jtok>
<jtok eid="4" type="primary_name_ref" span="51:17:51:21">pat1</jtok>
<jtok eid="4" type="method_call" span="51:22:51:29">matcher</jtok>
<jtok eid="4" type="primary_name_ref" span="51:30:51:33">str</jtok>
<jtok eid="4" type="method_call" span="51:35:51:39">find</jtok>
<jtok eid="4" type="line_comment" span="52:31:52:74">// This is an inspec file, so return false.</jtok>
<jtok eid="4" type="primary_name_ref" span="54:18:54:21">str</jtok>
<jtok eid="4" type="method_call" span="54:22:54:28">length</jtok>
<jtok eid="4" type="primary_name_ref" span="54:39:54:42">str</jtok>
<jtok eid="4" type="method_call" span="54:43:54:52">substring</jtok>
<jtok eid="4" type="method_call" span="54:59:54:65">equals</jtok>
<jtok eid="4" type="string_literal" span="54:66:54:73">"TI:  "</jtok>
<jtok eid="1" type="block_comment" span="60:5:63:8">/**
     * Parse the entries in the source, and return a List of BibtexEntry
     * objects.
     */</jtok>
<jtok eid="5" type="class_or_interface_ref" span="64:12:64:16">List</jtok>
<jtok eid="5" type="class_or_interface_ref" span="64:17:64:28">BibtexEntry</jtok>
<jtok eid="5" type="method_name" span="64:30:64:43">importEntries</jtok>
<jtok eid="5" type="parameter_type" span="64:44:64:55">InputStream</jtok>
<jtok eid="5" type="parameter_name" span="64:56:64:62">stream</jtok>
<jtok eid="5" type="throws" span="64:71:64:82">IOException</jtok>
<jtok eid="5" type="class_or_interface_ref" span="65:9:65:18">ArrayList</jtok>
<jtok eid="5" type="class_or_interface_ref" span="65:19:65:30">BibtexEntry</jtok>
<jtok eid="5" type="local_variable_name" span="65:32:65:40">bibitems</jtok>
<jtok eid="5" type="constructor_call" span="65:47:65:56">ArrayList</jtok>
<jtok eid="5" type="constructor_call" span="65:57:65:68">BibtexEntry</jtok>
<jtok eid="5" type="class_or_interface_ref" span="66:9:66:23">BufferedReader</jtok>
<jtok eid="5" type="local_variable_name" span="66:24:66:26">in</jtok>
<jtok eid="5" type="constructor_call" span="66:33:66:47">BufferedReader</jtok>
<jtok eid="5" type="primary_name_ref" span="66:48:66:66">ImportFormatReader</jtok>
<jtok eid="5" type="method_call" span="66:67:66:91">getReaderDefaultEncoding</jtok>
<jtok eid="5" type="primary_name_ref" span="66:92:66:98">stream</jtok>
<jtok eid="5" type="local_variable_name" span="67:17:67:26">isChapter</jtok>
<jtok eid="5" type="class_or_interface_ref" span="68:9:68:15">String</jtok>
<jtok eid="5" type="local_variable_name" span="68:16:68:19">str</jtok>
<jtok eid="5" type="class_or_interface_ref" span="69:9:69:21">StringBuffer</jtok>
<jtok eid="5" type="local_variable_name" span="69:22:69:24">sb</jtok>
<jtok eid="5" type="constructor_call" span="69:31:69:43">StringBuffer</jtok>
<jtok eid="5" type="primary_name_ref" span="70:17:70:20">str</jtok>
<jtok eid="5" type="primary_name_ref" span="70:23:70:25">in</jtok>
<jtok eid="5" type="method_call" span="70:26:70:34">readLine</jtok>
<jtok eid="5" type="primary_name_ref" span="71:17:71:20">str</jtok>
<jtok eid="5" type="method_call" span="71:21:71:27">length</jtok>
<jtok eid="5" type="primary_name_ref" span="71:35:71:37">sb</jtok>
<jtok eid="5" type="method_call" span="71:38:71:44">append</jtok>
<jtok eid="5" type="string_literal" span="71:45:71:53">"__::__"</jtok>
<jtok eid="5" type="method_call" span="71:55:71:61">append</jtok>
<jtok eid="5" type="primary_name_ref" span="71:62:71:65">str</jtok>
<jtok eid="5" type="primary_name_ref" span="73:13:73:15">sb</jtok>
<jtok eid="5" type="method_call" span="73:16:73:22">append</jtok>
<jtok eid="5" type="string_literal" span="73:23:73:37">"__NEWFIELD__"</jtok>
<jtok eid="5" type="method_call" span="73:39:73:45">append</jtok>
<jtok eid="5" type="primary_name_ref" span="73:46:73:49">str</jtok>
<jtok eid="5" type="primary_name_ref" span="75:9:75:11">in</jtok>
<jtok eid="5" type="method_call" span="75:12:75:17">close</jtok>
<jtok eid="5" type="class_or_interface_ref" span="76:9:76:15">String</jtok>
<jtok eid="5" type="local_variable_name" span="76:18:76:25">entries</jtok>
<jtok eid="5" type="primary_name_ref" span="76:28:76:30">sb</jtok>
<jtok eid="5" type="method_call" span="76:31:76:39">toString</jtok>
<jtok eid="5" type="method_call" span="76:42:76:47">split</jtok>
<jtok eid="5" type="string_literal" span="76:48:76:56">"__::__"</jtok>
<jtok eid="5" type="class_or_interface_ref" span="77:9:77:15">String</jtok>
<jtok eid="5" type="local_variable_name" span="77:16:77:20">Type</jtok>
<jtok eid="5" type="string_literal" span="77:23:77:25">""</jtok>
<jtok eid="5" type="class_or_interface_ref" span="78:9:78:16">HashMap</jtok>
<jtok eid="5" type="class_or_interface_ref" span="78:17:78:23">String</jtok>
<jtok eid="5" type="class_or_interface_ref" span="78:25:78:31">String</jtok>
<jtok eid="5" type="local_variable_name" span="78:33:78:34">h</jtok>
<jtok eid="5" type="constructor_call" span="78:41:78:48">HashMap</jtok>
<jtok eid="5" type="constructor_call" span="78:49:78:55">String</jtok>
<jtok eid="5" type="constructor_call" span="78:57:78:63">String</jtok>
<jtok eid="5" type="label_name" span="79:9:79:18">entryLoop</jtok>
<jtok eid="5" type="local_variable_name" span="79:29:79:30">i</jtok>
<jtok eid="5" type="primary_name_ref" span="79:36:79:37">i</jtok>
<jtok eid="5" type="primary_name_ref" span="79:40:79:47">entries</jtok>
<jtok eid="5" type="qualified_name_ref" span="79:48:79:54">length</jtok>
<jtok eid="5" type="primary_name_ref" span="79:56:79:57">i</jtok>
<jtok eid="5" type="primary_name_ref" span="80:17:80:24">entries</jtok>
<jtok eid="5" type="primary_name_ref" span="80:25:80:26">i</jtok>
<jtok eid="5" type="method_call" span="80:28:80:32">trim</jtok>
<jtok eid="5" type="method_call" span="80:35:80:41">length</jtok>
<jtok eid="5" type="label_ref" span="80:58:80:67">entryLoop</jtok>
<jtok eid="5" type="line_comment" span="81:13:81:54">//System.out.println("'"+entries[i]+"'");</jtok>
<jtok eid="5" type="primary_name_ref" span="82:13:82:14">h</jtok>
<jtok eid="5" type="method_call" span="82:15:82:20">clear</jtok>
<jtok eid="5" type="class_or_interface_ref" span="83:13:83:19">String</jtok>
<jtok eid="5" type="local_variable_name" span="83:22:83:28">fields</jtok>
<jtok eid="5" type="primary_name_ref" span="83:31:83:38">entries</jtok>
<jtok eid="5" type="primary_name_ref" span="83:39:83:40">i</jtok>
<jtok eid="5" type="method_call" span="83:42:83:47">split</jtok>
<jtok eid="5" type="string_literal" span="83:48:83:62">"__NEWFIELD__"</jtok>
<jtok eid="5" type="label_name" span="84:13:84:22">fieldLoop</jtok>
<jtok eid="5" type="local_variable_name" span="84:33:84:34">j</jtok>
<jtok eid="5" type="primary_name_ref" span="84:40:84:41">j</jtok>
<jtok eid="5" type="primary_name_ref" span="84:44:84:50">fields</jtok>
<jtok eid="5" type="qualified_name_ref" span="84:51:84:57">length</jtok>
<jtok eid="5" type="primary_name_ref" span="84:59:84:60">j</jtok>
<jtok eid="5" type="primary_name_ref" span="85:21:85:27">fields</jtok>
<jtok eid="5" type="primary_name_ref" span="85:28:85:29">j</jtok>
<jtok eid="5" type="method_call" span="85:31:85:37">length</jtok>
<jtok eid="5" type="label_ref" span="85:54:85:63">fieldLoop</jtok>
<jtok eid="5" type="line_comment" span="86:17:86:57">//System.out.println("&gt;"+fields[j]+"&lt;");</jtok>
<jtok eid="5" type="class_or_interface_ref" span="87:17:87:23">String</jtok>
<jtok eid="5" type="local_variable_name" span="87:24:87:25">s</jtok>
<jtok eid="5" type="primary_name_ref" span="87:28:87:34">fields</jtok>
<jtok eid="5" type="primary_name_ref" span="87:35:87:36">j</jtok>
<jtok eid="5" type="class_or_interface_ref" span="88:17:88:23">String</jtok>
<jtok eid="5" type="local_variable_name" span="88:24:88:26">f3</jtok>
<jtok eid="5" type="primary_name_ref" span="88:29:88:30">s</jtok>
<jtok eid="5" type="method_call" span="88:31:88:40">substring</jtok>
<jtok eid="5" type="class_or_interface_ref" span="89:17:89:23">String</jtok>
<jtok eid="5" type="local_variable_name" span="89:24:89:29">frest</jtok>
<jtok eid="5" type="primary_name_ref" span="89:32:89:33">s</jtok>
<jtok eid="5" type="method_call" span="89:34:89:43">substring</jtok>
<jtok eid="5" type="primary_name_ref" span="90:21:90:23">f3</jtok>
<jtok eid="5" type="method_call" span="90:24:90:30">equals</jtok>
<jtok eid="5" type="string_literal" span="90:31:90:35">"TI"</jtok>
<jtok eid="5" type="primary_name_ref" span="90:38:90:39">h</jtok>
<jtok eid="5" type="method_call" span="90:40:90:43">put</jtok>
<jtok eid="5" type="string_literal" span="90:44:90:51">"title"</jtok>
<jtok eid="5" type="primary_name_ref" span="90:53:90:58">frest</jtok>
<jtok eid="5" type="line_comment" span="91:17:91:65">//else if(f3.equals("PY")) h.put("year", frest);</jtok>
<jtok eid="5" type="primary_name_ref" span="92:26:92:28">f3</jtok>
<jtok eid="5" type="method_call" span="92:29:92:35">equals</jtok>
<jtok eid="5" type="string_literal" span="92:36:92:40">"AU"</jtok>
<jtok eid="5" type="primary_name_ref" span="93:25:93:30">frest</jtok>
<jtok eid="5" type="method_call" span="93:31:93:35">trim</jtok>
<jtok eid="5" type="method_call" span="93:38:93:46">endsWith</jtok>
<jtok eid="5" type="string_literal" span="93:47:93:53">"(ed)"</jtok>
<jtok eid="5" type="class_or_interface_ref" span="94:25:94:31">String</jtok>
<jtok eid="5" type="local_variable_name" span="94:32:94:34">ed</jtok>
<jtok eid="5" type="primary_name_ref" span="94:37:94:42">frest</jtok>
<jtok eid="5" type="method_call" span="94:43:94:47">trim</jtok>
<jtok eid="5" type="primary_name_ref" span="95:25:95:27">ed</jtok>
<jtok eid="5" type="primary_name_ref" span="95:30:95:32">ed</jtok>
<jtok eid="5" type="method_call" span="95:33:95:42">substring</jtok>
<jtok eid="5" type="primary_name_ref" span="95:46:95:48">ed</jtok>
<jtok eid="5" type="method_call" span="95:49:95:55">length</jtok>
<jtok eid="5" type="primary_name_ref" span="96:25:96:26">h</jtok>
<jtok eid="5" type="method_call" span="96:27:96:30">put</jtok>
<jtok eid="5" type="string_literal" span="96:31:96:39">"editor"</jtok>
<jtok eid="5" type="primary_name_ref" span="96:41:96:51">AuthorList</jtok>
<jtok eid="5" type="method_call" span="96:52:96:75">fixAuthor_lastNameFirst</jtok>
<jtok eid="5" type="primary_name_ref" span="96:76:96:78">ed</jtok>
<jtok eid="5" type="method_call" span="96:79:96:89">replaceAll</jtok>
<jtok eid="5" type="string_literal" span="96:90:96:94">",-"</jtok>
<jtok eid="5" type="string_literal" span="96:96:96:100">", "</jtok>
<jtok eid="5" type="method_call" span="97:34:97:44">replaceAll</jtok>
<jtok eid="5" type="string_literal" span="97:45:97:48">";"</jtok>
<jtok eid="5" type="string_literal" span="97:50:97:57">" and "</jtok>
<jtok eid="5" type="primary_name_ref" span="98:27:98:28">h</jtok>
<jtok eid="5" type="method_call" span="98:29:98:32">put</jtok>
<jtok eid="5" type="string_literal" span="98:33:98:41">"author"</jtok>
<jtok eid="5" type="primary_name_ref" span="98:43:98:53">AuthorList</jtok>
<jtok eid="5" type="method_call" span="98:54:98:77">fixAuthor_lastNameFirst</jtok>
<jtok eid="5" type="primary_name_ref" span="98:78:98:83">frest</jtok>
<jtok eid="5" type="method_call" span="98:84:98:94">replaceAll</jtok>
<jtok eid="5" type="string_literal" span="99:44:99:48">",-"</jtok>
<jtok eid="5" type="string_literal" span="99:50:99:54">", "</jtok>
<jtok eid="5" type="method_call" span="99:56:99:66">replaceAll</jtok>
<jtok eid="5" type="string_literal" span="99:67:99:70">";"</jtok>
<jtok eid="5" type="string_literal" span="99:72:99:79">" and "</jtok>
<jtok eid="5" type="primary_name_ref" span="100:27:100:29">f3</jtok>
<jtok eid="5" type="method_call" span="100:30:100:36">equals</jtok>
<jtok eid="5" type="string_literal" span="100:37:100:41">"AB"</jtok>
<jtok eid="5" type="primary_name_ref" span="100:44:100:45">h</jtok>
<jtok eid="5" type="method_call" span="100:46:100:49">put</jtok>
<jtok eid="5" type="string_literal" span="100:50:100:60">"abstract"</jtok>
<jtok eid="5" type="primary_name_ref" span="100:62:100:67">frest</jtok>
<jtok eid="5" type="primary_name_ref" span="101:26:101:28">f3</jtok>
<jtok eid="5" type="method_call" span="101:29:101:35">equals</jtok>
<jtok eid="5" type="string_literal" span="101:36:101:40">"DE"</jtok>
<jtok eid="5" type="class_or_interface_ref" span="102:21:102:27">String</jtok>
<jtok eid="5" type="local_variable_name" span="102:28:102:30">kw</jtok>
<jtok eid="5" type="primary_name_ref" span="102:33:102:38">frest</jtok>
<jtok eid="5" type="method_call" span="102:39:102:49">replaceAll</jtok>
<jtok eid="5" type="string_literal" span="102:50:102:54">"-;"</jtok>
<jtok eid="5" type="string_literal" span="102:56:102:59">","</jtok>
<jtok eid="5" type="method_call" span="102:61:102:72">toLowerCase</jtok>
<jtok eid="5" type="primary_name_ref" span="103:21:103:22">h</jtok>
<jtok eid="5" type="method_call" span="103:23:103:26">put</jtok>
<jtok eid="5" type="string_literal" span="103:27:103:37">"keywords"</jtok>
<jtok eid="5" type="primary_name_ref" span="103:39:103:41">kw</jtok>
<jtok eid="5" type="method_call" span="103:42:103:51">substring</jtok>
<jtok eid="5" type="primary_name_ref" span="103:55:103:57">kw</jtok>
<jtok eid="5" type="method_call" span="103:58:103:64">length</jtok>
<jtok eid="5" type="primary_name_ref" span="104:27:104:29">f3</jtok>
<jtok eid="5" type="method_call" span="104:30:104:36">equals</jtok>
<jtok eid="5" type="string_literal" span="104:37:104:41">"SO"</jtok>
<jtok eid="5" type="local_variable_name" span="105:25:105:26">m</jtok>
<jtok eid="5" type="primary_name_ref" span="105:29:105:34">frest</jtok>
<jtok eid="5" type="method_call" span="105:35:105:42">indexOf</jtok>
<jtok eid="5" type="string_literal" span="105:43:105:46">"."</jtok>
<jtok eid="5" type="primary_name_ref" span="106:25:106:26">m</jtok>
<jtok eid="5" type="class_or_interface_ref" span="107:25:107:31">String</jtok>
<jtok eid="5" type="local_variable_name" span="107:32:107:34">jr</jtok>
<jtok eid="5" type="primary_name_ref" span="107:37:107:42">frest</jtok>
<jtok eid="5" type="method_call" span="107:43:107:52">substring</jtok>
<jtok eid="5" type="primary_name_ref" span="107:56:107:57">m</jtok>
<jtok eid="5" type="primary_name_ref" span="108:25:108:26">h</jtok>
<jtok eid="5" type="method_call" span="108:27:108:30">put</jtok>
<jtok eid="5" type="string_literal" span="108:31:108:40">"journal"</jtok>
<jtok eid="5" type="primary_name_ref" span="108:42:108:44">jr</jtok>
<jtok eid="5" type="method_call" span="108:45:108:55">replaceAll</jtok>
<jtok eid="5" type="string_literal" span="108:56:108:59">"-"</jtok>
<jtok eid="5" type="string_literal" span="108:61:108:64">" "</jtok>
<jtok eid="5" type="primary_name_ref" span="109:25:109:30">frest</jtok>
<jtok eid="5" type="primary_name_ref" span="109:33:109:38">frest</jtok>
<jtok eid="5" type="method_call" span="109:39:109:48">substring</jtok>
<jtok eid="5" type="primary_name_ref" span="109:49:109:50">m</jtok>
<jtok eid="5" type="primary_name_ref" span="110:25:110:26">m</jtok>
<jtok eid="5" type="primary_name_ref" span="110:29:110:34">frest</jtok>
<jtok eid="5" type="method_call" span="110:35:110:42">indexOf</jtok>
<jtok eid="5" type="string_literal" span="110:43:110:46">";"</jtok>
<jtok eid="5" type="primary_name_ref" span="111:29:111:30">m</jtok>
<jtok eid="5" type="class_or_interface_ref" span="112:29:112:35">String</jtok>
<jtok eid="5" type="local_variable_name" span="112:36:112:38">yr</jtok>
<jtok eid="5" type="primary_name_ref" span="112:41:112:46">frest</jtok>
<jtok eid="5" type="method_call" span="112:47:112:56">substring</jtok>
<jtok eid="5" type="primary_name_ref" span="112:57:112:58">m</jtok>
<jtok eid="5" type="primary_name_ref" span="112:64:112:65">m</jtok>
<jtok eid="5" type="method_call" span="112:67:112:71">trim</jtok>
<jtok eid="5" type="primary_name_ref" span="113:29:113:30">h</jtok>
<jtok eid="5" type="method_call" span="113:31:113:34">put</jtok>
<jtok eid="5" type="string_literal" span="113:35:113:41">"year"</jtok>
<jtok eid="5" type="primary_name_ref" span="113:43:113:45">yr</jtok>
<jtok eid="5" type="primary_name_ref" span="114:29:114:34">frest</jtok>
<jtok eid="5" type="primary_name_ref" span="114:37:114:42">frest</jtok>
<jtok eid="5" type="method_call" span="114:43:114:52">substring</jtok>
<jtok eid="5" type="primary_name_ref" span="114:53:114:54">m</jtok>
<jtok eid="5" type="primary_name_ref" span="115:29:115:30">m</jtok>
<jtok eid="5" type="primary_name_ref" span="115:33:115:38">frest</jtok>
<jtok eid="5" type="method_call" span="115:39:115:46">indexOf</jtok>
<jtok eid="5" type="string_literal" span="115:47:115:50">":"</jtok>
<jtok eid="5" type="primary_name_ref" span="116:33:116:34">m</jtok>
<jtok eid="5" type="class_or_interface_ref" span="117:33:117:39">String</jtok>
<jtok eid="5" type="local_variable_name" span="117:40:117:42">pg</jtok>
<jtok eid="5" type="primary_name_ref" span="117:45:117:50">frest</jtok>
<jtok eid="5" type="method_call" span="117:51:117:60">substring</jtok>
<jtok eid="5" type="primary_name_ref" span="117:61:117:62">m</jtok>
<jtok eid="5" type="method_call" span="117:68:117:72">trim</jtok>
<jtok eid="5" type="primary_name_ref" span="118:33:118:34">h</jtok>
<jtok eid="5" type="method_call" span="118:35:118:38">put</jtok>
<jtok eid="5" type="string_literal" span="118:39:118:46">"pages"</jtok>
<jtok eid="5" type="primary_name_ref" span="118:48:118:50">pg</jtok>
<jtok eid="5" type="primary_name_ref" span="119:33:119:34">h</jtok>
<jtok eid="5" type="method_call" span="119:35:119:38">put</jtok>
<jtok eid="5" type="string_literal" span="119:39:119:47">"volume"</jtok>
<jtok eid="5" type="primary_name_ref" span="119:49:119:54">frest</jtok>
<jtok eid="5" type="method_call" span="119:55:119:64">substring</jtok>
<jtok eid="5" type="primary_name_ref" span="119:68:119:69">m</jtok>
<jtok eid="5" type="primary_name_ref" span="123:27:123:29">f3</jtok>
<jtok eid="5" type="method_call" span="123:30:123:36">equals</jtok>
<jtok eid="5" type="string_literal" span="123:37:123:41">"PB"</jtok>
<jtok eid="5" type="local_variable_name" span="124:25:124:26">m</jtok>
<jtok eid="5" type="primary_name_ref" span="124:29:124:34">frest</jtok>
<jtok eid="5" type="method_call" span="124:35:124:42">indexOf</jtok>
<jtok eid="5" type="string_literal" span="124:43:124:46">":"</jtok>
<jtok eid="5" type="primary_name_ref" span="125:25:125:26">m</jtok>
<jtok eid="5" type="class_or_interface_ref" span="126:25:126:31">String</jtok>
<jtok eid="5" type="local_variable_name" span="126:32:126:34">jr</jtok>
<jtok eid="5" type="primary_name_ref" span="126:37:126:42">frest</jtok>
<jtok eid="5" type="method_call" span="126:43:126:52">substring</jtok>
<jtok eid="5" type="primary_name_ref" span="126:56:126:57">m</jtok>
<jtok eid="5" type="primary_name_ref" span="127:25:127:26">h</jtok>
<jtok eid="5" type="method_call" span="127:27:127:30">put</jtok>
<jtok eid="5" type="string_literal" span="127:31:127:42">"publisher"</jtok>
<jtok eid="5" type="primary_name_ref" span="127:44:127:46">jr</jtok>
<jtok eid="5" type="method_call" span="127:47:127:57">replaceAll</jtok>
<jtok eid="5" type="string_literal" span="127:58:127:61">"-"</jtok>
<jtok eid="5" type="string_literal" span="127:63:127:66">" "</jtok>
<jtok eid="5" type="method_call" span="127:68:127:72">trim</jtok>
<jtok eid="5" type="primary_name_ref" span="128:25:128:30">frest</jtok>
<jtok eid="5" type="primary_name_ref" span="128:33:128:38">frest</jtok>
<jtok eid="5" type="method_call" span="128:39:128:48">substring</jtok>
<jtok eid="5" type="primary_name_ref" span="128:49:128:50">m</jtok>
<jtok eid="5" type="primary_name_ref" span="129:25:129:26">m</jtok>
<jtok eid="5" type="primary_name_ref" span="129:29:129:34">frest</jtok>
<jtok eid="5" type="method_call" span="129:35:129:42">indexOf</jtok>
<jtok eid="5" type="string_literal" span="129:43:129:47">", "</jtok>
<jtok eid="5" type="primary_name_ref" span="130:29:130:30">m</jtok>
<jtok eid="5" type="primary_name_ref" span="130:37:130:42">frest</jtok>
<jtok eid="5" type="method_call" span="130:43:130:49">length</jtok>
<jtok eid="5" type="class_or_interface_ref" span="131:29:131:35">String</jtok>
<jtok eid="5" type="local_variable_name" span="131:36:131:38">yr</jtok>
<jtok eid="5" type="primary_name_ref" span="131:41:131:46">frest</jtok>
<jtok eid="5" type="method_call" span="131:47:131:56">substring</jtok>
<jtok eid="5" type="primary_name_ref" span="131:57:131:58">m</jtok>
<jtok eid="5" type="method_call" span="131:64:131:68">trim</jtok>
<jtok eid="5" type="primary_name_ref" span="133:33:133:40">Integer</jtok>
<jtok eid="5" type="method_call" span="133:41:133:49">parseInt</jtok>
<jtok eid="5" type="primary_name_ref" span="133:50:133:52">yr</jtok>
<jtok eid="5" type="primary_name_ref" span="134:33:134:34">h</jtok>
<jtok eid="5" type="method_call" span="134:35:134:38">put</jtok>
<jtok eid="5" type="string_literal" span="134:39:134:45">"year"</jtok>
<jtok eid="5" type="primary_name_ref" span="134:47:134:49">yr</jtok>
<jtok eid="5" type="class_or_interface_ref" span="135:38:135:59">NumberFormatException</jtok>
<jtok eid="5" type="local_variable_name" span="135:60:135:62">ex</jtok>
<jtok eid="5" type="line_comment" span="136:33:136:84">// Let's assume that this wasn't a number, since it</jtok>
<jtok eid="5" type="line_comment" span="137:33:137:69">// couldn't be parsed as an integer.</jtok>
<jtok eid="5" type="primary_name_ref" span="143:28:143:30">f3</jtok>
<jtok eid="5" type="method_call" span="143:31:143:37">equals</jtok>
<jtok eid="5" type="string_literal" span="143:38:143:42">"AF"</jtok>
<jtok eid="5" type="primary_name_ref" span="144:21:144:22">h</jtok>
<jtok eid="5" type="method_call" span="144:23:144:26">put</jtok>
<jtok eid="5" type="string_literal" span="144:27:144:35">"school"</jtok>
<jtok eid="5" type="primary_name_ref" span="144:37:144:42">frest</jtok>
<jtok eid="5" type="method_call" span="144:43:144:47">trim</jtok>
<jtok eid="5" type="primary_name_ref" span="146:27:146:29">f3</jtok>
<jtok eid="5" type="method_call" span="146:30:146:36">equals</jtok>
<jtok eid="5" type="string_literal" span="146:37:146:41">"DT"</jtok>
<jtok eid="5" type="primary_name_ref" span="147:21:147:26">frest</jtok>
<jtok eid="5" type="primary_name_ref" span="147:29:147:34">frest</jtok>
<jtok eid="5" type="method_call" span="147:35:147:39">trim</jtok>
<jtok eid="5" type="primary_name_ref" span="148:25:148:30">frest</jtok>
<jtok eid="5" type="method_call" span="148:31:148:37">equals</jtok>
<jtok eid="5" type="string_literal" span="148:38:148:49">"Monograph"</jtok>
<jtok eid="5" type="primary_name_ref" span="148:52:148:56">Type</jtok>
<jtok eid="5" type="string_literal" span="148:59:148:65">"book"</jtok>
<jtok eid="5" type="primary_name_ref" span="149:30:149:35">frest</jtok>
<jtok eid="5" type="method_call" span="149:36:149:46">startsWith</jtok>
<jtok eid="5" type="string_literal" span="149:47:149:61">"Dissertation"</jtok>
<jtok eid="5" type="primary_name_ref" span="149:64:149:68">Type</jtok>
<jtok eid="5" type="string_literal" span="149:71:149:82">"phdthesis"</jtok>
<jtok eid="5" type="primary_name_ref" span="150:30:150:35">frest</jtok>
<jtok eid="5" type="method_call" span="150:36:150:47">toLowerCase</jtok>
<jtok eid="5" type="method_call" span="150:50:150:57">indexOf</jtok>
<jtok eid="5" type="string_literal" span="150:58:150:67">"journal"</jtok>
<jtok eid="5" type="primary_name_ref" span="150:75:150:79">Type</jtok>
<jtok eid="5" type="string_literal" span="150:82:150:91">"article"</jtok>
<jtok eid="5" type="primary_name_ref" span="151:30:151:35">frest</jtok>
<jtok eid="5" type="method_call" span="151:36:151:42">equals</jtok>
<jtok eid="5" type="string_literal" span="151:43:151:57">"Contribution"</jtok>
<jtok eid="5" type="primary_name_ref" span="151:62:151:67">frest</jtok>
<jtok eid="5" type="method_call" span="151:68:151:74">equals</jtok>
<jtok eid="5" type="string_literal" span="151:75:151:84">"Chapter"</jtok>
<jtok eid="5" type="primary_name_ref" span="152:25:152:29">Type</jtok>
<jtok eid="5" type="string_literal" span="152:32:152:46">"incollection"</jtok>
<jtok eid="5" type="line_comment" span="153:25:153:86">// This entry type contains page numbers and booktitle in the</jtok>
<jtok eid="5" type="line_comment" span="154:25:154:40">// title field.</jtok>
<jtok eid="5" type="primary_name_ref" span="155:25:155:34">isChapter</jtok>
<jtok eid="5" type="primary_name_ref" span="158:26:158:30">Type</jtok>
<jtok eid="5" type="primary_name_ref" span="158:33:158:38">frest</jtok>
<jtok eid="5" type="method_call" span="158:39:158:49">replaceAll</jtok>
<jtok eid="5" type="string_literal" span="158:50:158:53">" "</jtok>
<jtok eid="5" type="string_literal" span="158:55:158:57">""</jtok>
<jtok eid="5" type="primary_name_ref" span="162:17:162:26">isChapter</jtok>
<jtok eid="5" type="class_or_interface_ref" span="163:17:163:23">Object</jtok>
<jtok eid="5" type="local_variable_name" span="163:24:163:30">titleO</jtok>
<jtok eid="5" type="primary_name_ref" span="163:33:163:34">h</jtok>
<jtok eid="5" type="method_call" span="163:35:163:38">get</jtok>
<jtok eid="5" type="string_literal" span="163:39:163:46">"title"</jtok>
<jtok eid="5" type="primary_name_ref" span="164:21:164:27">titleO</jtok>
<jtok eid="5" type="class_or_interface_ref" span="165:21:165:27">String</jtok>
<jtok eid="5" type="local_variable_name" span="165:28:165:33">title</jtok>
<jtok eid="5" type="class_or_interface_ref" span="165:38:165:44">String</jtok>
<jtok eid="5" type="primary_name_ref" span="165:45:165:51">titleO</jtok>
<jtok eid="5" type="method_call" span="165:53:165:57">trim</jtok>
<jtok eid="5" type="local_variable_name" span="166:25:166:30">inPos</jtok>
<jtok eid="5" type="primary_name_ref" span="166:33:166:38">title</jtok>
<jtok eid="5" type="method_call" span="166:39:166:46">indexOf</jtok>
<jtok eid="5" type="string_literal" span="166:47:166:55">"\" in "</jtok>
<jtok eid="5" type="local_variable_name" span="167:25:167:30">pgPos</jtok>
<jtok eid="5" type="primary_name_ref" span="167:33:167:38">title</jtok>
<jtok eid="5" type="method_call" span="167:39:167:50">lastIndexOf</jtok>
<jtok eid="5" type="string_literal" span="167:51:167:54">" "</jtok>
<jtok eid="5" type="primary_name_ref" span="168:25:168:30">inPos</jtok>
<jtok eid="5" type="primary_name_ref" span="168:36:168:37">h</jtok>
<jtok eid="5" type="method_call" span="168:38:168:41">put</jtok>
<jtok eid="5" type="string_literal" span="168:42:168:49">"title"</jtok>
<jtok eid="5" type="primary_name_ref" span="168:51:168:56">title</jtok>
<jtok eid="5" type="method_call" span="168:57:168:66">substring</jtok>
<jtok eid="5" type="primary_name_ref" span="168:70:168:75">inPos</jtok>
<jtok eid="5" type="primary_name_ref" span="169:25:169:30">pgPos</jtok>
<jtok eid="5" type="primary_name_ref" span="169:33:169:38">inPos</jtok>
<jtok eid="5" type="primary_name_ref" span="169:40:169:41">h</jtok>
<jtok eid="5" type="method_call" span="169:42:169:45">put</jtok>
<jtok eid="5" type="string_literal" span="169:46:169:53">"pages"</jtok>
<jtok eid="5" type="primary_name_ref" span="169:55:169:60">title</jtok>
<jtok eid="5" type="method_call" span="169:61:169:70">substring</jtok>
<jtok eid="5" type="primary_name_ref" span="169:71:169:76">pgPos</jtok>
<jtok eid="5" type="method_call" span="170:47:170:57">replaceAll</jtok>
<jtok eid="5" type="string_literal" span="170:58:170:61">"-"</jtok>
<jtok eid="5" type="string_literal" span="170:63:170:67">"--"</jtok>
<jtok eid="5" type="class_or_interface_ref" span="176:13:176:24">BibtexEntry</jtok>
<jtok eid="5" type="local_variable_name" span="176:25:176:26">b</jtok>
<jtok eid="5" type="constructor_call" span="176:33:176:44">BibtexEntry</jtok>
<jtok eid="5" type="primary_name_ref" span="176:45:176:57">BibtexFields</jtok>
<jtok eid="5" type="qualified_name_ref" span="176:58:176:80">DEFAULT_BIBTEXENTRY_ID</jtok>
<jtok eid="5" type="primary_name_ref" span="176:82:176:89">Globals</jtok>
<jtok eid="5" type="method_call" span="177:46:177:58">getEntryType</jtok>
<jtok eid="5" type="primary_name_ref" span="177:59:177:63">Type</jtok>
<jtok eid="5" type="line_comment" span="177:67:177:110">// id assumes an existing database so don't</jtok>
<jtok eid="5" type="line_comment" span="178:13:178:31">// create one here</jtok>
<jtok eid="5" type="primary_name_ref" span="179:13:179:14">b</jtok>
<jtok eid="5" type="method_call" span="179:15:179:23">setField</jtok>
<jtok eid="5" type="primary_name_ref" span="179:24:179:25">h</jtok>
<jtok eid="5" type="primary_name_ref" span="181:13:181:21">bibitems</jtok>
<jtok eid="5" type="method_call" span="181:22:181:25">add</jtok>
<jtok eid="5" type="primary_name_ref" span="181:26:181:27">b</jtok>
<jtok eid="5" type="primary_name_ref" span="186:16:186:24">bibitems</jtok>
</jdoc>