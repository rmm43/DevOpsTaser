<?xml version="1.0" encoding="utf-8"?>
<jdoc cUnit="net.sf.jabref.util.XMPUtil" jls="java5">
<jent id="0" type="file" span="0:0:1266:1">Source/jabref/src/java/net/sf/jabref/util/XMPUtil.java</jent>
<jent id="1" pid="0" type="class" span="37:1:1266:1">net.sf.jabref.util.XMPUtil</jent>
<jent id="2" pid="1" type="method" span="47:2:49:2">net.sf.jabref.util.XMPUtil.readXMP(String)</jent>
<jent id="3" pid="1" type="method" span="76:2:79:2">net.sf.jabref.util.XMPUtil.writeXMP(String,BibtexEntry,BibtexDatabase)</jent>
<jent id="4" pid="1" type="method" span="91:2:98:2">net.sf.jabref.util.XMPUtil.readXMP(File)</jent>
<jent id="5" pid="1" type="method" span="112:2:171:2">net.sf.jabref.util.XMPUtil.readXMP(InputStream)</jent>
<jent id="6" pid="1" type="method" span="189:2:229:2">net.sf.jabref.util.XMPUtil.getBibtexEntryFromDocumentInformation(PDDocumentInformation)</jent>
<jent id="7" pid="1" type="method" span="247:2:419:2">net.sf.jabref.util.XMPUtil.getBibtexEntryFromDublinCore(XMPSchemaDublinCore)</jent>
<jent id="8" pid="1" type="method" span="446:2:451:2">net.sf.jabref.util.XMPUtil.writeXMP(File,BibtexEntry,BibtexDatabase)</jent>
<jent id="9" pid="1" type="method" span="472:2:490:2">net.sf.jabref.util.XMPUtil.toXMP(Collection&lt;BibtexEntry&gt;,BibtexDatabase,OutputStream)</jent>
<jent id="10" pid="1" type="method" span="509:2:518:2">net.sf.jabref.util.XMPUtil.toXMP(Collection&lt;BibtexEntry&gt;,BibtexDatabase)</jent>
<jent id="11" pid="1" type="method" span="531:2:548:2">net.sf.jabref.util.XMPUtil.readRawXMP(InputStream)</jent>
<jent id="12" pid="1" type="method" span="550:2:562:2">net.sf.jabref.util.XMPUtil.getXMPMetadata(PDDocument)</jent>
<jent id="13" pid="1" type="method" span="574:2:581:2">net.sf.jabref.util.XMPUtil.readRawXMP(File)</jent>
<jent id="14" pid="1" type="method" span="583:2:861:2">net.sf.jabref.util.XMPUtil.writeToDCSchema(XMPSchemaDublinCore,BibtexEntry,BibtexDatabase)</jent>
<jent id="15" pid="1" type="method" span="879:2:886:2">net.sf.jabref.util.XMPUtil.writeDublinCore(PDDocument,BibtexEntry,BibtexDatabase)</jent>
<jent id="16" pid="1" type="method" span="905:2:943:2">net.sf.jabref.util.XMPUtil.writeDublinCore(PDDocument,Collection&lt;BibtexEntry&gt;,BibtexDatabase)</jent>
<jent id="17" pid="1" type="method" span="961:2:989:2">net.sf.jabref.util.XMPUtil.writeDocumentInformation(PDDocument,BibtexEntry,BibtexDatabase)</jent>
<jent id="18" pid="1" type="method" span="1017:2:1089:2">net.sf.jabref.util.XMPUtil.writeXMP(File,Collection&lt;BibtexEntry&gt;,BibtexDatabase,boolean)</jent>
<jent id="19" pid="1" type="method" span="1096:2:1112:2">net.sf.jabref.util.XMPUtil.usage()</jent>
<jent id="20" pid="1" type="method" span="1138:2:1245:2">net.sf.jabref.util.XMPUtil.main(String[])</jent>
<jent id="21" pid="1" type="method" span="1258:2:1265:2">net.sf.jabref.util.XMPUtil.hasMetadata(InputStream)</jent>
<jtok eid="0" type="block_comment" span="25:1:36:4">/**
 * XMPUtils provide support for reading and writing BibTex data as XMP-Metadata
 * in PDF-documents.
 * 
 * @author Christopher Oezbek &lt;oezi@oezi.de&gt;
 * 
 * TODO:
 * 
 * Synchronization
 * 
 * @version $Revision: 2869 $ ($Date: 2008-12-01 21:17:53 +0100 (Mon, 01 Dec 2008) $)
 */</jtok>
<jtok eid="1" type="class_name" span="37:14:37:21">XMPUtil</jtok>
<jtok eid="1" type="block_comment" span="39:2:46:5">/**
	 * Convenience method for readXMP(File).
	 * 
	 * @param filename
	 *            The filename from which to open the file.
	 * @return BibtexEntryies found in the PDF or an empty list
	 * @throws IOException
	 */</jtok>
<jtok eid="2" type="class_or_interface_ref" span="47:16:47:20">List</jtok>
<jtok eid="2" type="class_or_interface_ref" span="47:21:47:32">BibtexEntry</jtok>
<jtok eid="2" type="method_name" span="47:34:47:41">readXMP</jtok>
<jtok eid="2" type="parameter_type" span="47:42:47:48">String</jtok>
<jtok eid="2" type="parameter_name" span="47:49:47:57">filename</jtok>
<jtok eid="2" type="throws" span="47:66:47:77">IOException</jtok>
<jtok eid="2" type="method_call" span="48:10:48:17">readXMP</jtok>
<jtok eid="2" type="constructor_call" span="48:22:48:26">File</jtok>
<jtok eid="2" type="primary_name_ref" span="48:27:48:35">filename</jtok>
<jtok eid="1" type="block_comment" span="51:2:75:5">/**
	 * Try to write the given BibTexEntry in the XMP-stream of the given
	 * PDF-file.
	 * 
	 * Throws an IOException if the file cannot be read or written, so the user
	 * can remove a lock or cancel the operation.
	 * 
	 * The method will overwrite existing BibTeX-XMP-data, but keep other
	 * existing metadata.
	 * 
	 * This is a convenience method for writeXMP(File, BibtexEntry).
	 * 
	 * @param filename
	 *            The filename from which to open the file.
	 * @param entry
	 *            The entry to write.
	 * @param database
	 *            maybenull An optional database which the given bibtex entries
	 *            belong to, which will be used to resolve strings. If the
	 *            database is null the strings will not be resolved.
	 * @throws TransformerException
	 *             If the entry was malformed or unsupported.
	 * @throws IOException
	 *             If the file could not be written to or could not be found.
	 */</jtok>
<jtok eid="3" type="method_name" span="76:21:76:29">writeXMP</jtok>
<jtok eid="3" type="parameter_type" span="76:30:76:36">String</jtok>
<jtok eid="3" type="parameter_name" span="76:37:76:45">filename</jtok>
<jtok eid="3" type="parameter_type" span="76:47:76:58">BibtexEntry</jtok>
<jtok eid="3" type="parameter_name" span="76:59:76:64">entry</jtok>
<jtok eid="3" type="parameter_type" span="77:4:77:18">BibtexDatabase</jtok>
<jtok eid="3" type="parameter_name" span="77:19:77:27">database</jtok>
<jtok eid="3" type="throws" span="77:36:77:47">IOException</jtok>
<jtok eid="3" type="throws" span="77:49:77:69">TransformerException</jtok>
<jtok eid="3" type="method_call" span="78:3:78:11">writeXMP</jtok>
<jtok eid="3" type="constructor_call" span="78:16:78:20">File</jtok>
<jtok eid="3" type="primary_name_ref" span="78:21:78:29">filename</jtok>
<jtok eid="3" type="primary_name_ref" span="78:32:78:37">entry</jtok>
<jtok eid="3" type="primary_name_ref" span="78:39:78:47">database</jtok>
<jtok eid="1" type="block_comment" span="81:2:90:5">/**
	 * Try to read the BibTexEntries from the XMP-stream of the given PDF-file.
	 * 
	 * @param file
	 *            The file to read from.
	 * 
	 * @throws IOException
	 *             Throws an IOException if the file cannot be read, so the user
	 *             than remove a lock or cancel the operation.
	 */</jtok>
<jtok eid="4" type="class_or_interface_ref" span="91:16:91:20">List</jtok>
<jtok eid="4" type="class_or_interface_ref" span="91:21:91:32">BibtexEntry</jtok>
<jtok eid="4" type="method_name" span="91:34:91:41">readXMP</jtok>
<jtok eid="4" type="parameter_type" span="91:42:91:46">File</jtok>
<jtok eid="4" type="parameter_name" span="91:47:91:51">file</jtok>
<jtok eid="4" type="throws" span="91:60:91:71">IOException</jtok>
<jtok eid="4" type="class_or_interface_ref" span="92:3:92:18">FileInputStream</jtok>
<jtok eid="4" type="local_variable_name" span="92:19:92:21">is</jtok>
<jtok eid="4" type="constructor_call" span="92:28:92:43">FileInputStream</jtok>
<jtok eid="4" type="primary_name_ref" span="92:44:92:48">file</jtok>
<jtok eid="4" type="method_call" span="94:11:94:18">readXMP</jtok>
<jtok eid="4" type="primary_name_ref" span="94:19:94:21">is</jtok>
<jtok eid="4" type="primary_name_ref" span="96:4:96:6">is</jtok>
<jtok eid="4" type="method_call" span="96:7:96:12">close</jtok>
<jtok eid="1" type="block_comment" span="100:2:110:5">/**
	 * Try to read the given BibTexEntry from the XMP-stream of the given
	 * inputstream containing a PDF-file.
	 * 
	 * @param file
	 *            The inputstream to read from.
	 * 
	 * @throws IOException
	 *             Throws an IOException if the file cannot be read, so the user
	 *             than remove a lock or cancel the operation.
	 */</jtok>
<jtok eid="1" type="annotation_ref" span="111:3:111:19">SuppressWarnings</jtok>
<jtok eid="1" type="string_literal" span="111:20:111:31">"unchecked"</jtok>
<jtok eid="5" type="class_or_interface_ref" span="112:16:112:20">List</jtok>
<jtok eid="5" type="class_or_interface_ref" span="112:21:112:32">BibtexEntry</jtok>
<jtok eid="5" type="method_name" span="112:34:112:41">readXMP</jtok>
<jtok eid="5" type="parameter_type" span="112:42:112:53">InputStream</jtok>
<jtok eid="5" type="parameter_name" span="112:54:112:65">inputStream</jtok>
<jtok eid="5" type="throws" span="113:11:113:22">IOException</jtok>
<jtok eid="5" type="class_or_interface_ref" span="115:3:115:7">List</jtok>
<jtok eid="5" type="class_or_interface_ref" span="115:8:115:19">BibtexEntry</jtok>
<jtok eid="5" type="local_variable_name" span="115:21:115:27">result</jtok>
<jtok eid="5" type="constructor_call" span="115:34:115:44">LinkedList</jtok>
<jtok eid="5" type="constructor_call" span="115:45:115:56">BibtexEntry</jtok>
<jtok eid="5" type="class_or_interface_ref" span="117:3:117:13">PDDocument</jtok>
<jtok eid="5" type="local_variable_name" span="117:14:117:22">document</jtok>
<jtok eid="5" type="primary_name_ref" span="120:4:120:12">document</jtok>
<jtok eid="5" type="primary_name_ref" span="120:15:120:25">PDDocument</jtok>
<jtok eid="5" type="method_call" span="120:26:120:30">load</jtok>
<jtok eid="5" type="primary_name_ref" span="120:31:120:42">inputStream</jtok>
<jtok eid="5" type="primary_name_ref" span="121:8:121:16">document</jtok>
<jtok eid="5" type="method_call" span="121:17:121:28">isEncrypted</jtok>
<jtok eid="5" type="constructor_call" span="122:15:122:46">EncryptionNotSupportedException</jtok>
<jtok eid="5" type="string_literal" span="123:7:123:61">"Error: Cannot read metadata from encrypted document."</jtok>
<jtok eid="5" type="class_or_interface_ref" span="126:4:126:15">XMPMetadata</jtok>
<jtok eid="5" type="local_variable_name" span="126:16:126:20">meta</jtok>
<jtok eid="5" type="method_call" span="126:23:126:37">getXMPMetadata</jtok>
<jtok eid="5" type="primary_name_ref" span="126:38:126:46">document</jtok>
<jtok eid="5" type="line_comment" span="128:4:128:71">// If we did not find any XMP metadata, search for non XMP metadata</jtok>
<jtok eid="5" type="primary_name_ref" span="129:8:129:12">meta</jtok>
<jtok eid="5" type="class_or_interface_ref" span="131:12:131:16">List</jtok>
<jtok eid="5" type="class_or_interface_ref" span="131:17:131:26">XMPSchema</jtok>
<jtok eid="5" type="local_variable_name" span="131:28:131:35">schemas</jtok>
<jtok eid="5" type="primary_name_ref" span="131:38:131:42">meta</jtok>
<jtok eid="5" type="method_call" span="132:15:132:39">getSchemasByNamespaceURI</jtok>
<jtok eid="5" type="primary_name_ref" span="132:40:132:55">XMPSchemaBibtex</jtok>
<jtok eid="5" type="qualified_name_ref" span="132:56:132:65">NAMESPACE</jtok>
<jtok eid="5" type="class_or_interface_ref" span="134:12:134:20">Iterator</jtok>
<jtok eid="5" type="class_or_interface_ref" span="134:21:134:30">XMPSchema</jtok>
<jtok eid="5" type="local_variable_name" span="134:32:134:34">it</jtok>
<jtok eid="5" type="primary_name_ref" span="134:37:134:44">schemas</jtok>
<jtok eid="5" type="method_call" span="134:45:134:53">iterator</jtok>
<jtok eid="5" type="primary_name_ref" span="135:19:135:21">it</jtok>
<jtok eid="5" type="method_call" span="135:22:135:29">hasNext</jtok>
<jtok eid="5" type="class_or_interface_ref" span="136:13:136:28">XMPSchemaBibtex</jtok>
<jtok eid="5" type="local_variable_name" span="136:29:136:32">bib</jtok>
<jtok eid="5" type="class_or_interface_ref" span="136:36:136:51">XMPSchemaBibtex</jtok>
<jtok eid="5" type="primary_name_ref" span="136:53:136:55">it</jtok>
<jtok eid="5" type="method_call" span="136:56:136:60">next</jtok>
<jtok eid="5" type="primary_name_ref" span="138:13:138:19">result</jtok>
<jtok eid="5" type="method_call" span="138:20:138:23">add</jtok>
<jtok eid="5" type="primary_name_ref" span="138:24:138:27">bib</jtok>
<jtok eid="5" type="method_call" span="138:28:138:42">getBibtexEntry</jtok>
<jtok eid="5" type="line_comment" span="141:12:141:78">// If we did not find anything have a look if a Dublin Core exists</jtok>
<jtok eid="5" type="primary_name_ref" span="142:16:142:22">result</jtok>
<jtok eid="5" type="method_call" span="142:23:142:27">size</jtok>
<jtok eid="5" type="primary_name_ref" span="143:13:143:20">schemas</jtok>
<jtok eid="5" type="primary_name_ref" span="143:23:143:27">meta</jtok>
<jtok eid="5" type="method_call" span="144:16:144:40">getSchemasByNamespaceURI</jtok>
<jtok eid="5" type="primary_name_ref" span="144:41:144:60">XMPSchemaDublinCore</jtok>
<jtok eid="5" type="qualified_name_ref" span="144:61:144:70">NAMESPACE</jtok>
<jtok eid="5" type="primary_name_ref" span="145:13:145:15">it</jtok>
<jtok eid="5" type="primary_name_ref" span="145:18:145:25">schemas</jtok>
<jtok eid="5" type="method_call" span="145:26:145:34">iterator</jtok>
<jtok eid="5" type="primary_name_ref" span="146:20:146:22">it</jtok>
<jtok eid="5" type="method_call" span="146:23:146:30">hasNext</jtok>
<jtok eid="5" type="class_or_interface_ref" span="147:14:147:33">XMPSchemaDublinCore</jtok>
<jtok eid="5" type="local_variable_name" span="147:34:147:36">dc</jtok>
<jtok eid="5" type="class_or_interface_ref" span="147:40:147:59">XMPSchemaDublinCore</jtok>
<jtok eid="5" type="primary_name_ref" span="147:61:147:63">it</jtok>
<jtok eid="5" type="method_call" span="147:64:147:68">next</jtok>
<jtok eid="5" type="class_or_interface_ref" span="149:14:149:25">BibtexEntry</jtok>
<jtok eid="5" type="local_variable_name" span="149:26:149:31">entry</jtok>
<jtok eid="5" type="method_call" span="149:34:149:62">getBibtexEntryFromDublinCore</jtok>
<jtok eid="5" type="primary_name_ref" span="149:63:149:65">dc</jtok>
<jtok eid="5" type="primary_name_ref" span="151:18:151:23">entry</jtok>
<jtok eid="5" type="primary_name_ref" span="152:15:152:21">result</jtok>
<jtok eid="5" type="method_call" span="152:22:152:25">add</jtok>
<jtok eid="5" type="primary_name_ref" span="152:26:152:31">entry</jtok>
<jtok eid="5" type="primary_name_ref" span="156:8:156:14">result</jtok>
<jtok eid="5" type="method_call" span="156:15:156:19">size</jtok>
<jtok eid="5" type="class_or_interface_ref" span="157:5:157:16">BibtexEntry</jtok>
<jtok eid="5" type="local_variable_name" span="157:17:157:22">entry</jtok>
<jtok eid="5" type="method_call" span="157:25:157:62">getBibtexEntryFromDocumentInformation</jtok>
<jtok eid="5" type="primary_name_ref" span="157:63:157:71">document</jtok>
<jtok eid="5" type="method_call" span="158:8:158:30">getDocumentInformation</jtok>
<jtok eid="5" type="primary_name_ref" span="160:9:160:14">entry</jtok>
<jtok eid="5" type="primary_name_ref" span="161:6:161:12">result</jtok>
<jtok eid="5" type="method_call" span="161:13:161:16">add</jtok>
<jtok eid="5" type="primary_name_ref" span="161:17:161:22">entry</jtok>
<jtok eid="5" type="primary_name_ref" span="164:8:164:16">document</jtok>
<jtok eid="5" type="primary_name_ref" span="165:5:165:13">document</jtok>
<jtok eid="5" type="method_call" span="165:14:165:19">close</jtok>
<jtok eid="5" type="line_comment" span="168:3:168:43">// return null, if no metadata was found</jtok>
<jtok eid="5" type="primary_name_ref" span="169:7:169:13">result</jtok>
<jtok eid="5" type="method_call" span="169:14:169:18">size</jtok>
<jtok eid="5" type="primary_name_ref" span="170:10:170:16">result</jtok>
<jtok eid="1" type="block_comment" span="173:2:187:5">/**
	 * Helper function for retrieving a BibtexEntry from the
	 * PDDocumentInformation in a PDF file.
	 * 
	 * To understand how to get hold of a PDDocumentInformation have a look in
	 * the test cases for XMPUtil.
	 * 
	 * The BibtexEntry is build by mapping individual fields in the document
	 * information (like author, title, keywords) to fields in a bibtex entry.
	 * 
	 * @param di
	 *            The document information from which to build a BibtexEntry.
	 * 
	 * @return The bibtex entry found in the document information.
	 */</jtok>
<jtok eid="1" type="annotation_ref" span="188:3:188:19">SuppressWarnings</jtok>
<jtok eid="1" type="string_literal" span="188:20:188:31">"unchecked"</jtok>
<jtok eid="6" type="class_or_interface_ref" span="189:16:189:27">BibtexEntry</jtok>
<jtok eid="6" type="method_name" span="189:28:189:65">getBibtexEntryFromDocumentInformation</jtok>
<jtok eid="6" type="parameter_type" span="190:4:190:25">PDDocumentInformation</jtok>
<jtok eid="6" type="parameter_name" span="190:26:190:28">di</jtok>
<jtok eid="6" type="class_or_interface_ref" span="192:3:192:14">BibtexEntry</jtok>
<jtok eid="6" type="local_variable_name" span="192:15:192:20">entry</jtok>
<jtok eid="6" type="constructor_call" span="192:27:192:38">BibtexEntry</jtok>
<jtok eid="6" type="class_or_interface_ref" span="194:3:194:9">String</jtok>
<jtok eid="6" type="local_variable_name" span="194:10:194:11">s</jtok>
<jtok eid="6" type="primary_name_ref" span="194:14:194:16">di</jtok>
<jtok eid="6" type="method_call" span="194:17:194:26">getAuthor</jtok>
<jtok eid="6" type="primary_name_ref" span="195:7:195:8">s</jtok>
<jtok eid="6" type="primary_name_ref" span="196:4:196:9">entry</jtok>
<jtok eid="6" type="method_call" span="196:10:196:18">setField</jtok>
<jtok eid="6" type="string_literal" span="196:19:196:27">"author"</jtok>
<jtok eid="6" type="primary_name_ref" span="196:29:196:30">s</jtok>
<jtok eid="6" type="primary_name_ref" span="198:3:198:4">s</jtok>
<jtok eid="6" type="primary_name_ref" span="198:7:198:9">di</jtok>
<jtok eid="6" type="method_call" span="198:10:198:18">getTitle</jtok>
<jtok eid="6" type="primary_name_ref" span="199:7:199:8">s</jtok>
<jtok eid="6" type="primary_name_ref" span="200:4:200:9">entry</jtok>
<jtok eid="6" type="method_call" span="200:10:200:18">setField</jtok>
<jtok eid="6" type="string_literal" span="200:19:200:26">"title"</jtok>
<jtok eid="6" type="primary_name_ref" span="200:28:200:29">s</jtok>
<jtok eid="6" type="primary_name_ref" span="202:3:202:4">s</jtok>
<jtok eid="6" type="primary_name_ref" span="202:7:202:9">di</jtok>
<jtok eid="6" type="method_call" span="202:10:202:21">getKeywords</jtok>
<jtok eid="6" type="primary_name_ref" span="203:7:203:8">s</jtok>
<jtok eid="6" type="primary_name_ref" span="204:4:204:9">entry</jtok>
<jtok eid="6" type="method_call" span="204:10:204:18">setField</jtok>
<jtok eid="6" type="string_literal" span="204:19:204:29">"keywords"</jtok>
<jtok eid="6" type="primary_name_ref" span="204:31:204:32">s</jtok>
<jtok eid="6" type="primary_name_ref" span="206:3:206:4">s</jtok>
<jtok eid="6" type="primary_name_ref" span="206:7:206:9">di</jtok>
<jtok eid="6" type="method_call" span="206:10:206:20">getSubject</jtok>
<jtok eid="6" type="primary_name_ref" span="207:7:207:8">s</jtok>
<jtok eid="6" type="primary_name_ref" span="208:4:208:9">entry</jtok>
<jtok eid="6" type="method_call" span="208:10:208:18">setField</jtok>
<jtok eid="6" type="string_literal" span="208:19:208:29">"abstract"</jtok>
<jtok eid="6" type="primary_name_ref" span="208:31:208:32">s</jtok>
<jtok eid="6" type="class_or_interface_ref" span="210:3:210:16">COSDictionary</jtok>
<jtok eid="6" type="local_variable_name" span="210:17:210:21">dict</jtok>
<jtok eid="6" type="primary_name_ref" span="210:24:210:26">di</jtok>
<jtok eid="6" type="method_call" span="210:27:210:40">getDictionary</jtok>
<jtok eid="6" type="class_or_interface_ref" span="211:3:211:11">Iterator</jtok>
<jtok eid="6" type="local_variable_name" span="211:12:211:14">it</jtok>
<jtok eid="6" type="primary_name_ref" span="211:17:211:21">dict</jtok>
<jtok eid="6" type="method_call" span="211:22:211:29">keyList</jtok>
<jtok eid="6" type="method_call" span="211:32:211:40">iterator</jtok>
<jtok eid="6" type="primary_name_ref" span="212:10:212:12">it</jtok>
<jtok eid="6" type="method_call" span="212:13:212:20">hasNext</jtok>
<jtok eid="6" type="class_or_interface_ref" span="213:4:213:10">String</jtok>
<jtok eid="6" type="local_variable_name" span="213:11:213:14">key</jtok>
<jtok eid="6" type="class_or_interface_ref" span="213:19:213:26">COSName</jtok>
<jtok eid="6" type="primary_name_ref" span="213:28:213:30">it</jtok>
<jtok eid="6" type="method_call" span="213:31:213:35">next</jtok>
<jtok eid="6" type="method_call" span="213:39:213:46">getName</jtok>
<jtok eid="6" type="primary_name_ref" span="214:8:214:11">key</jtok>
<jtok eid="6" type="method_call" span="214:12:214:22">startsWith</jtok>
<jtok eid="6" type="string_literal" span="214:23:214:32">"bibtex/"</jtok>
<jtok eid="6" type="class_or_interface_ref" span="215:5:215:11">String</jtok>
<jtok eid="6" type="local_variable_name" span="215:12:215:17">value</jtok>
<jtok eid="6" type="primary_name_ref" span="215:20:215:24">dict</jtok>
<jtok eid="6" type="method_call" span="215:25:215:34">getString</jtok>
<jtok eid="6" type="primary_name_ref" span="215:35:215:38">key</jtok>
<jtok eid="6" type="primary_name_ref" span="216:5:216:8">key</jtok>
<jtok eid="6" type="primary_name_ref" span="216:11:216:14">key</jtok>
<jtok eid="6" type="method_call" span="216:15:216:24">substring</jtok>
<jtok eid="6" type="string_literal" span="216:25:216:34">"bibtex/"</jtok>
<jtok eid="6" type="method_call" span="216:35:216:41">length</jtok>
<jtok eid="6" type="primary_name_ref" span="217:9:217:12">key</jtok>
<jtok eid="6" type="method_call" span="217:13:217:19">equals</jtok>
<jtok eid="6" type="string_literal" span="217:20:217:31">"entrytype"</jtok>
<jtok eid="6" type="class_or_interface_ref" span="218:6:218:21">BibtexEntryType</jtok>
<jtok eid="6" type="local_variable_name" span="218:22:218:26">type</jtok>
<jtok eid="6" type="primary_name_ref" span="218:29:218:44">BibtexEntryType</jtok>
<jtok eid="6" type="method_call" span="219:9:219:24">getStandardType</jtok>
<jtok eid="6" type="primary_name_ref" span="219:25:219:30">value</jtok>
<jtok eid="6" type="primary_name_ref" span="220:10:220:14">type</jtok>
<jtok eid="6" type="primary_name_ref" span="221:7:221:12">entry</jtok>
<jtok eid="6" type="method_call" span="221:13:221:20">setType</jtok>
<jtok eid="6" type="primary_name_ref" span="221:21:221:25">type</jtok>
<jtok eid="6" type="primary_name_ref" span="223:6:223:11">entry</jtok>
<jtok eid="6" type="method_call" span="223:12:223:20">setField</jtok>
<jtok eid="6" type="primary_name_ref" span="223:21:223:24">key</jtok>
<jtok eid="6" type="primary_name_ref" span="223:26:223:31">value</jtok>
<jtok eid="6" type="line_comment" span="227:3:227:41">// Return null if no values were found</jtok>
<jtok eid="6" type="primary_name_ref" span="228:11:228:16">entry</jtok>
<jtok eid="6" type="method_call" span="228:17:228:29">getAllFields</jtok>
<jtok eid="6" type="method_call" span="228:32:228:36">size</jtok>
<jtok eid="6" type="primary_name_ref" span="228:45:228:50">entry</jtok>
<jtok eid="1" type="block_comment" span="231:2:245:5">/**
	 * Helper function for retrieving a BibtexEntry from the DublinCore metadata
	 * in a PDF file.
	 * 
	 * To understand how to get hold of a XMPSchemaDublinCore have a look in the
	 * test cases for XMPUtil.
	 * 
	 * The BibtexEntry is build by mapping individual fields in the dublin core
	 * (like creator, title, subject) to fields in a bibtex entry.
	 * 
	 * @param di
	 *            The document information from which to build a BibtexEntry.
	 * 
	 * @return The bibtex entry found in the document information.
	 */</jtok>
<jtok eid="1" type="annotation_ref" span="246:3:246:19">SuppressWarnings</jtok>
<jtok eid="1" type="string_literal" span="246:20:246:31">"unchecked"</jtok>
<jtok eid="7" type="class_or_interface_ref" span="247:16:247:27">BibtexEntry</jtok>
<jtok eid="7" type="method_name" span="247:28:247:56">getBibtexEntryFromDublinCore</jtok>
<jtok eid="7" type="parameter_type" span="248:4:248:23">XMPSchemaDublinCore</jtok>
<jtok eid="7" type="parameter_name" span="248:24:248:32">dcSchema</jtok>
<jtok eid="7" type="class_or_interface_ref" span="250:3:250:14">BibtexEntry</jtok>
<jtok eid="7" type="local_variable_name" span="250:15:250:20">entry</jtok>
<jtok eid="7" type="constructor_call" span="250:27:250:38">BibtexEntry</jtok>
<jtok eid="7" type="block_comment" span="252:3:254:6">/**
		 * Contributor -&gt; Editor
		 */</jtok>
<jtok eid="7" type="class_or_interface_ref" span="255:3:255:7">List</jtok>
<jtok eid="7" type="local_variable_name" span="255:8:255:20">contributors</jtok>
<jtok eid="7" type="primary_name_ref" span="255:23:255:31">dcSchema</jtok>
<jtok eid="7" type="method_call" span="255:32:255:47">getContributors</jtok>
<jtok eid="7" type="primary_name_ref" span="256:7:256:19">contributors</jtok>
<jtok eid="7" type="class_or_interface_ref" span="257:4:257:12">Iterator</jtok>
<jtok eid="7" type="local_variable_name" span="257:13:257:15">it</jtok>
<jtok eid="7" type="primary_name_ref" span="257:18:257:30">contributors</jtok>
<jtok eid="7" type="method_call" span="257:31:257:39">iterator</jtok>
<jtok eid="7" type="class_or_interface_ref" span="258:4:258:16">StringBuffer</jtok>
<jtok eid="7" type="local_variable_name" span="258:17:258:19">sb</jtok>
<jtok eid="7" type="primary_name_ref" span="259:11:259:13">it</jtok>
<jtok eid="7" type="method_call" span="259:14:259:21">hasNext</jtok>
<jtok eid="7" type="primary_name_ref" span="260:9:260:11">sb</jtok>
<jtok eid="7" type="primary_name_ref" span="261:6:261:8">sb</jtok>
<jtok eid="7" type="method_call" span="261:9:261:15">append</jtok>
<jtok eid="7" type="string_literal" span="261:16:261:23">" and "</jtok>
<jtok eid="7" type="primary_name_ref" span="263:6:263:8">sb</jtok>
<jtok eid="7" type="constructor_call" span="263:15:263:27">StringBuffer</jtok>
<jtok eid="7" type="primary_name_ref" span="265:5:265:7">sb</jtok>
<jtok eid="7" type="method_call" span="265:8:265:14">append</jtok>
<jtok eid="7" type="primary_name_ref" span="265:15:265:17">it</jtok>
<jtok eid="7" type="method_call" span="265:18:265:22">next</jtok>
<jtok eid="7" type="primary_name_ref" span="267:8:267:10">sb</jtok>
<jtok eid="7" type="primary_name_ref" span="268:5:268:10">entry</jtok>
<jtok eid="7" type="method_call" span="268:11:268:19">setField</jtok>
<jtok eid="7" type="string_literal" span="268:20:268:28">"editor"</jtok>
<jtok eid="7" type="primary_name_ref" span="268:30:268:32">sb</jtok>
<jtok eid="7" type="method_call" span="268:33:268:41">toString</jtok>
<jtok eid="7" type="block_comment" span="271:3:273:6">/**
		 * Author -&gt; Creator
		 */</jtok>
<jtok eid="7" type="class_or_interface_ref" span="274:3:274:7">List</jtok>
<jtok eid="7" type="local_variable_name" span="274:8:274:16">creators</jtok>
<jtok eid="7" type="primary_name_ref" span="274:19:274:27">dcSchema</jtok>
<jtok eid="7" type="method_call" span="274:28:274:39">getCreators</jtok>
<jtok eid="7" type="primary_name_ref" span="275:7:275:15">creators</jtok>
<jtok eid="7" type="class_or_interface_ref" span="276:4:276:12">Iterator</jtok>
<jtok eid="7" type="local_variable_name" span="276:13:276:15">it</jtok>
<jtok eid="7" type="primary_name_ref" span="276:18:276:26">creators</jtok>
<jtok eid="7" type="method_call" span="276:27:276:35">iterator</jtok>
<jtok eid="7" type="class_or_interface_ref" span="277:4:277:16">StringBuffer</jtok>
<jtok eid="7" type="local_variable_name" span="277:17:277:19">sb</jtok>
<jtok eid="7" type="primary_name_ref" span="278:11:278:13">it</jtok>
<jtok eid="7" type="method_call" span="278:14:278:21">hasNext</jtok>
<jtok eid="7" type="primary_name_ref" span="279:9:279:11">sb</jtok>
<jtok eid="7" type="primary_name_ref" span="280:6:280:8">sb</jtok>
<jtok eid="7" type="method_call" span="280:9:280:15">append</jtok>
<jtok eid="7" type="string_literal" span="280:16:280:23">" and "</jtok>
<jtok eid="7" type="primary_name_ref" span="282:6:282:8">sb</jtok>
<jtok eid="7" type="constructor_call" span="282:15:282:27">StringBuffer</jtok>
<jtok eid="7" type="primary_name_ref" span="284:5:284:7">sb</jtok>
<jtok eid="7" type="method_call" span="284:8:284:14">append</jtok>
<jtok eid="7" type="primary_name_ref" span="284:15:284:17">it</jtok>
<jtok eid="7" type="method_call" span="284:18:284:22">next</jtok>
<jtok eid="7" type="primary_name_ref" span="286:8:286:10">sb</jtok>
<jtok eid="7" type="primary_name_ref" span="287:5:287:10">entry</jtok>
<jtok eid="7" type="method_call" span="287:11:287:19">setField</jtok>
<jtok eid="7" type="string_literal" span="287:20:287:28">"author"</jtok>
<jtok eid="7" type="primary_name_ref" span="287:30:287:32">sb</jtok>
<jtok eid="7" type="method_call" span="287:33:287:41">toString</jtok>
<jtok eid="7" type="block_comment" span="290:3:292:6">/**
		 * Year + Month -&gt; Date
		 */</jtok>
<jtok eid="7" type="class_or_interface_ref" span="293:3:293:7">List</jtok>
<jtok eid="7" type="local_variable_name" span="293:8:293:13">dates</jtok>
<jtok eid="7" type="primary_name_ref" span="293:16:293:24">dcSchema</jtok>
<jtok eid="7" type="method_call" span="293:25:293:40">getSequenceList</jtok>
<jtok eid="7" type="string_literal" span="293:41:293:50">"dc:date"</jtok>
<jtok eid="7" type="primary_name_ref" span="294:7:294:12">dates</jtok>
<jtok eid="7" type="primary_name_ref" span="294:24:294:29">dates</jtok>
<jtok eid="7" type="method_call" span="294:30:294:34">size</jtok>
<jtok eid="7" type="class_or_interface_ref" span="295:4:295:10">String</jtok>
<jtok eid="7" type="local_variable_name" span="295:11:295:15">date</jtok>
<jtok eid="7" type="class_or_interface_ref" span="295:20:295:26">String</jtok>
<jtok eid="7" type="primary_name_ref" span="295:28:295:33">dates</jtok>
<jtok eid="7" type="method_call" span="295:34:295:37">get</jtok>
<jtok eid="7" type="method_call" span="295:42:295:46">trim</jtok>
<jtok eid="7" type="class_or_interface_ref" span="296:4:296:12">Calendar</jtok>
<jtok eid="7" type="local_variable_name" span="296:13:296:14">c</jtok>
<jtok eid="7" type="primary_name_ref" span="298:5:298:6">c</jtok>
<jtok eid="7" type="primary_name_ref" span="298:9:298:22">DateConverter</jtok>
<jtok eid="7" type="method_call" span="298:23:298:33">toCalendar</jtok>
<jtok eid="7" type="primary_name_ref" span="298:34:298:38">date</jtok>
<jtok eid="7" type="class_or_interface_ref" span="299:13:299:22">Exception</jtok>
<jtok eid="7" type="local_variable_name" span="299:23:299:24">e</jtok>
<jtok eid="7" type="primary_name_ref" span="302:8:302:9">c</jtok>
<jtok eid="7" type="primary_name_ref" span="303:5:303:10">entry</jtok>
<jtok eid="7" type="method_call" span="303:11:303:19">setField</jtok>
<jtok eid="7" type="string_literal" span="303:20:303:26">"year"</jtok>
<jtok eid="7" type="primary_name_ref" span="303:28:303:34">String</jtok>
<jtok eid="7" type="method_call" span="303:35:303:42">valueOf</jtok>
<jtok eid="7" type="primary_name_ref" span="303:43:303:44">c</jtok>
<jtok eid="7" type="method_call" span="303:45:303:48">get</jtok>
<jtok eid="7" type="primary_name_ref" span="303:49:303:57">Calendar</jtok>
<jtok eid="7" type="qualified_name_ref" span="303:58:303:62">YEAR</jtok>
<jtok eid="7" type="primary_name_ref" span="304:9:304:13">date</jtok>
<jtok eid="7" type="method_call" span="304:14:304:20">length</jtok>
<jtok eid="7" type="primary_name_ref" span="305:6:305:11">entry</jtok>
<jtok eid="7" type="method_call" span="305:12:305:20">setField</jtok>
<jtok eid="7" type="string_literal" span="305:21:305:28">"month"</jtok>
<jtok eid="7" type="string_literal" span="305:30:305:33">"#"</jtok>
<jtok eid="7" type="primary_name_ref" span="306:10:306:17">Globals</jtok>
<jtok eid="7" type="qualified_name_ref" span="306:18:306:24">MONTHS</jtok>
<jtok eid="7" type="primary_name_ref" span="306:25:306:26">c</jtok>
<jtok eid="7" type="method_call" span="306:27:306:30">get</jtok>
<jtok eid="7" type="primary_name_ref" span="306:31:306:39">Calendar</jtok>
<jtok eid="7" type="qualified_name_ref" span="306:40:306:45">MONTH</jtok>
<jtok eid="7" type="string_literal" span="306:50:306:53">"#"</jtok>
<jtok eid="7" type="block_comment" span="311:3:313:6">/**
		 * Abstract -&gt; Description
		 */</jtok>
<jtok eid="7" type="class_or_interface_ref" span="314:3:314:9">String</jtok>
<jtok eid="7" type="local_variable_name" span="314:10:314:11">s</jtok>
<jtok eid="7" type="primary_name_ref" span="314:14:314:22">dcSchema</jtok>
<jtok eid="7" type="method_call" span="314:23:314:37">getDescription</jtok>
<jtok eid="7" type="primary_name_ref" span="315:7:315:8">s</jtok>
<jtok eid="7" type="primary_name_ref" span="316:4:316:9">entry</jtok>
<jtok eid="7" type="method_call" span="316:10:316:18">setField</jtok>
<jtok eid="7" type="string_literal" span="316:19:316:29">"abstract"</jtok>
<jtok eid="7" type="primary_name_ref" span="316:31:316:32">s</jtok>
<jtok eid="7" type="block_comment" span="318:3:320:6">/**
		 * Identifier -&gt; DOI
		 */</jtok>
<jtok eid="7" type="primary_name_ref" span="321:3:321:4">s</jtok>
<jtok eid="7" type="primary_name_ref" span="321:7:321:15">dcSchema</jtok>
<jtok eid="7" type="method_call" span="321:16:321:29">getIdentifier</jtok>
<jtok eid="7" type="primary_name_ref" span="322:7:322:8">s</jtok>
<jtok eid="7" type="primary_name_ref" span="323:4:323:9">entry</jtok>
<jtok eid="7" type="method_call" span="323:10:323:18">setField</jtok>
<jtok eid="7" type="string_literal" span="323:19:323:24">"doi"</jtok>
<jtok eid="7" type="primary_name_ref" span="323:26:323:27">s</jtok>
<jtok eid="7" type="block_comment" span="325:3:327:6">/**
		 * Publisher -&gt; Publisher
		 */</jtok>
<jtok eid="7" type="class_or_interface_ref" span="328:3:328:7">List</jtok>
<jtok eid="7" type="local_variable_name" span="328:8:328:18">publishers</jtok>
<jtok eid="7" type="primary_name_ref" span="328:21:328:29">dcSchema</jtok>
<jtok eid="7" type="method_call" span="328:30:328:43">getPublishers</jtok>
<jtok eid="7" type="primary_name_ref" span="329:7:329:17">publishers</jtok>
<jtok eid="7" type="class_or_interface_ref" span="330:4:330:12">Iterator</jtok>
<jtok eid="7" type="local_variable_name" span="330:13:330:15">it</jtok>
<jtok eid="7" type="primary_name_ref" span="330:18:330:26">dcSchema</jtok>
<jtok eid="7" type="method_call" span="330:27:330:40">getPublishers</jtok>
<jtok eid="7" type="method_call" span="330:43:330:51">iterator</jtok>
<jtok eid="7" type="class_or_interface_ref" span="331:4:331:16">StringBuffer</jtok>
<jtok eid="7" type="local_variable_name" span="331:17:331:19">sb</jtok>
<jtok eid="7" type="primary_name_ref" span="332:11:332:13">it</jtok>
<jtok eid="7" type="method_call" span="332:14:332:21">hasNext</jtok>
<jtok eid="7" type="primary_name_ref" span="333:9:333:11">sb</jtok>
<jtok eid="7" type="primary_name_ref" span="334:6:334:8">sb</jtok>
<jtok eid="7" type="method_call" span="334:9:334:15">append</jtok>
<jtok eid="7" type="string_literal" span="334:16:334:23">" and "</jtok>
<jtok eid="7" type="primary_name_ref" span="336:6:336:8">sb</jtok>
<jtok eid="7" type="constructor_call" span="336:15:336:27">StringBuffer</jtok>
<jtok eid="7" type="primary_name_ref" span="338:5:338:7">sb</jtok>
<jtok eid="7" type="method_call" span="338:8:338:14">append</jtok>
<jtok eid="7" type="primary_name_ref" span="338:15:338:17">it</jtok>
<jtok eid="7" type="method_call" span="338:18:338:22">next</jtok>
<jtok eid="7" type="primary_name_ref" span="340:8:340:10">sb</jtok>
<jtok eid="7" type="primary_name_ref" span="341:5:341:10">entry</jtok>
<jtok eid="7" type="method_call" span="341:11:341:19">setField</jtok>
<jtok eid="7" type="string_literal" span="341:20:341:32">"publishers"</jtok>
<jtok eid="7" type="primary_name_ref" span="341:34:341:36">sb</jtok>
<jtok eid="7" type="method_call" span="341:37:341:45">toString</jtok>
<jtok eid="7" type="block_comment" span="344:3:349:6">/**
		 * Relation -&gt; bibtexkey
		 * 
		 * We abuse the relationship attribute to store all other values in the
		 * bibtex document
		 */</jtok>
<jtok eid="7" type="class_or_interface_ref" span="350:3:350:7">List</jtok>
<jtok eid="7" type="local_variable_name" span="350:8:350:21">relationships</jtok>
<jtok eid="7" type="primary_name_ref" span="350:24:350:32">dcSchema</jtok>
<jtok eid="7" type="method_call" span="350:33:350:49">getRelationships</jtok>
<jtok eid="7" type="primary_name_ref" span="351:7:351:20">relationships</jtok>
<jtok eid="7" type="class_or_interface_ref" span="352:4:352:12">Iterator</jtok>
<jtok eid="7" type="local_variable_name" span="352:13:352:15">it</jtok>
<jtok eid="7" type="primary_name_ref" span="352:18:352:31">relationships</jtok>
<jtok eid="7" type="method_call" span="352:32:352:40">iterator</jtok>
<jtok eid="7" type="primary_name_ref" span="353:11:353:13">it</jtok>
<jtok eid="7" type="method_call" span="353:14:353:21">hasNext</jtok>
<jtok eid="7" type="primary_name_ref" span="354:5:354:6">s</jtok>
<jtok eid="7" type="class_or_interface_ref" span="354:10:354:16">String</jtok>
<jtok eid="7" type="primary_name_ref" span="354:18:354:20">it</jtok>
<jtok eid="7" type="method_call" span="354:21:354:25">next</jtok>
<jtok eid="7" type="primary_name_ref" span="355:9:355:10">s</jtok>
<jtok eid="7" type="method_call" span="355:11:355:21">startsWith</jtok>
<jtok eid="7" type="string_literal" span="355:22:355:31">"bibtex/"</jtok>
<jtok eid="7" type="primary_name_ref" span="356:6:356:7">s</jtok>
<jtok eid="7" type="primary_name_ref" span="356:10:356:11">s</jtok>
<jtok eid="7" type="method_call" span="356:12:356:21">substring</jtok>
<jtok eid="7" type="string_literal" span="356:22:356:31">"bibtex/"</jtok>
<jtok eid="7" type="method_call" span="356:32:356:38">length</jtok>
<jtok eid="7" type="local_variable_name" span="357:10:357:11">i</jtok>
<jtok eid="7" type="primary_name_ref" span="357:14:357:15">s</jtok>
<jtok eid="7" type="method_call" span="357:16:357:23">indexOf</jtok>
<jtok eid="7" type="primary_name_ref" span="358:10:358:11">i</jtok>
<jtok eid="7" type="primary_name_ref" span="359:7:359:12">entry</jtok>
<jtok eid="7" type="method_call" span="359:13:359:21">setField</jtok>
<jtok eid="7" type="primary_name_ref" span="359:22:359:23">s</jtok>
<jtok eid="7" type="method_call" span="359:24:359:33">substring</jtok>
<jtok eid="7" type="primary_name_ref" span="359:37:359:38">i</jtok>
<jtok eid="7" type="primary_name_ref" span="359:41:359:42">s</jtok>
<jtok eid="7" type="method_call" span="359:43:359:52">substring</jtok>
<jtok eid="7" type="primary_name_ref" span="359:53:359:54">i</jtok>
<jtok eid="7" type="block_comment" span="365:3:367:6">/**
		 * Rights -&gt; Rights
		 */</jtok>
<jtok eid="7" type="primary_name_ref" span="368:3:368:4">s</jtok>
<jtok eid="7" type="primary_name_ref" span="368:7:368:15">dcSchema</jtok>
<jtok eid="7" type="method_call" span="368:16:368:25">getRights</jtok>
<jtok eid="7" type="primary_name_ref" span="369:7:369:8">s</jtok>
<jtok eid="7" type="primary_name_ref" span="370:4:370:9">entry</jtok>
<jtok eid="7" type="method_call" span="370:10:370:18">setField</jtok>
<jtok eid="7" type="string_literal" span="370:19:370:27">"rights"</jtok>
<jtok eid="7" type="primary_name_ref" span="370:29:370:30">s</jtok>
<jtok eid="7" type="block_comment" span="372:3:374:6">/**
		 * Source -&gt; Source
		 */</jtok>
<jtok eid="7" type="primary_name_ref" span="375:3:375:4">s</jtok>
<jtok eid="7" type="primary_name_ref" span="375:7:375:15">dcSchema</jtok>
<jtok eid="7" type="method_call" span="375:16:375:25">getSource</jtok>
<jtok eid="7" type="primary_name_ref" span="376:7:376:8">s</jtok>
<jtok eid="7" type="primary_name_ref" span="377:4:377:9">entry</jtok>
<jtok eid="7" type="method_call" span="377:10:377:18">setField</jtok>
<jtok eid="7" type="string_literal" span="377:19:377:27">"source"</jtok>
<jtok eid="7" type="primary_name_ref" span="377:29:377:30">s</jtok>
<jtok eid="7" type="block_comment" span="379:3:381:6">/**
		 * Subject -&gt; Keywords
		 */</jtok>
<jtok eid="7" type="class_or_interface_ref" span="382:3:382:7">List</jtok>
<jtok eid="7" type="local_variable_name" span="382:8:382:16">subjects</jtok>
<jtok eid="7" type="primary_name_ref" span="382:19:382:27">dcSchema</jtok>
<jtok eid="7" type="method_call" span="382:28:382:39">getSubjects</jtok>
<jtok eid="7" type="primary_name_ref" span="383:7:383:15">subjects</jtok>
<jtok eid="7" type="class_or_interface_ref" span="384:4:384:12">Iterator</jtok>
<jtok eid="7" type="local_variable_name" span="384:13:384:15">it</jtok>
<jtok eid="7" type="primary_name_ref" span="384:18:384:26">subjects</jtok>
<jtok eid="7" type="method_call" span="384:27:384:35">iterator</jtok>
<jtok eid="7" type="class_or_interface_ref" span="385:4:385:16">StringBuffer</jtok>
<jtok eid="7" type="local_variable_name" span="385:17:385:19">sb</jtok>
<jtok eid="7" type="primary_name_ref" span="386:11:386:13">it</jtok>
<jtok eid="7" type="method_call" span="386:14:386:21">hasNext</jtok>
<jtok eid="7" type="primary_name_ref" span="387:9:387:11">sb</jtok>
<jtok eid="7" type="primary_name_ref" span="388:6:388:8">sb</jtok>
<jtok eid="7" type="method_call" span="388:9:388:15">append</jtok>
<jtok eid="7" type="string_literal" span="388:16:388:19">","</jtok>
<jtok eid="7" type="primary_name_ref" span="390:6:390:8">sb</jtok>
<jtok eid="7" type="constructor_call" span="390:15:390:27">StringBuffer</jtok>
<jtok eid="7" type="primary_name_ref" span="392:5:392:7">sb</jtok>
<jtok eid="7" type="method_call" span="392:8:392:14">append</jtok>
<jtok eid="7" type="primary_name_ref" span="392:15:392:17">it</jtok>
<jtok eid="7" type="method_call" span="392:18:392:22">next</jtok>
<jtok eid="7" type="primary_name_ref" span="394:8:394:10">sb</jtok>
<jtok eid="7" type="primary_name_ref" span="395:5:395:10">entry</jtok>
<jtok eid="7" type="method_call" span="395:11:395:19">setField</jtok>
<jtok eid="7" type="string_literal" span="395:20:395:30">"keywords"</jtok>
<jtok eid="7" type="primary_name_ref" span="395:32:395:34">sb</jtok>
<jtok eid="7" type="method_call" span="395:35:395:43">toString</jtok>
<jtok eid="7" type="block_comment" span="398:3:400:6">/**
		 * Title -&gt; Title
		 */</jtok>
<jtok eid="7" type="primary_name_ref" span="401:3:401:4">s</jtok>
<jtok eid="7" type="primary_name_ref" span="401:7:401:15">dcSchema</jtok>
<jtok eid="7" type="method_call" span="401:16:401:24">getTitle</jtok>
<jtok eid="7" type="primary_name_ref" span="402:7:402:8">s</jtok>
<jtok eid="7" type="primary_name_ref" span="403:4:403:9">entry</jtok>
<jtok eid="7" type="method_call" span="403:10:403:18">setField</jtok>
<jtok eid="7" type="string_literal" span="403:19:403:26">"title"</jtok>
<jtok eid="7" type="primary_name_ref" span="403:28:403:29">s</jtok>
<jtok eid="7" type="block_comment" span="405:3:407:6">/**
		 * Type -&gt; Type
		 */</jtok>
<jtok eid="7" type="class_or_interface_ref" span="408:3:408:7">List</jtok>
<jtok eid="7" type="local_variable_name" span="408:8:408:9">l</jtok>
<jtok eid="7" type="primary_name_ref" span="408:12:408:20">dcSchema</jtok>
<jtok eid="7" type="method_call" span="408:21:408:29">getTypes</jtok>
<jtok eid="7" type="primary_name_ref" span="409:7:409:8">l</jtok>
<jtok eid="7" type="primary_name_ref" span="409:20:409:21">l</jtok>
<jtok eid="7" type="method_call" span="409:22:409:26">size</jtok>
<jtok eid="7" type="primary_name_ref" span="410:4:410:5">s</jtok>
<jtok eid="7" type="class_or_interface_ref" span="410:9:410:15">String</jtok>
<jtok eid="7" type="primary_name_ref" span="410:17:410:18">l</jtok>
<jtok eid="7" type="method_call" span="410:19:410:22">get</jtok>
<jtok eid="7" type="primary_name_ref" span="411:8:411:9">s</jtok>
<jtok eid="7" type="class_or_interface_ref" span="412:5:412:20">BibtexEntryType</jtok>
<jtok eid="7" type="local_variable_name" span="412:21:412:25">type</jtok>
<jtok eid="7" type="primary_name_ref" span="412:28:412:43">BibtexEntryType</jtok>
<jtok eid="7" type="method_call" span="412:44:412:59">getStandardType</jtok>
<jtok eid="7" type="primary_name_ref" span="412:60:412:61">s</jtok>
<jtok eid="7" type="primary_name_ref" span="413:9:413:13">type</jtok>
<jtok eid="7" type="primary_name_ref" span="414:6:414:11">entry</jtok>
<jtok eid="7" type="method_call" span="414:12:414:19">setType</jtok>
<jtok eid="7" type="primary_name_ref" span="414:20:414:24">type</jtok>
<jtok eid="7" type="primary_name_ref" span="418:11:418:16">entry</jtok>
<jtok eid="7" type="method_call" span="418:17:418:29">getAllFields</jtok>
<jtok eid="7" type="method_call" span="418:32:418:36">size</jtok>
<jtok eid="7" type="primary_name_ref" span="418:45:418:50">entry</jtok>
<jtok eid="1" type="block_comment" span="421:2:445:5">/**
	 * Try to write the given BibTexEntry in the XMP-stream of the given
	 * PDF-file.
	 * 
	 * Throws an IOException if the file cannot be read or written, so the user
	 * can remove a lock or cancel the operation.
	 * 
	 * The method will overwrite existing BibTeX-XMP-data, but keep other
	 * existing metadata.
	 * 
	 * This is a convenience method for writeXMP(File, Collection).
	 * 
	 * @param file
	 *            The file to write to.
	 * @param entry
	 *            The entry to write.
	 * @param database
	 *            maybenull An optional database which the given bibtex entries
	 *            belong to, which will be used to resolve strings. If the
	 *            database is null the strings will not be resolved.
	 * @throws TransformerException
	 *             If the entry was malformed or unsupported.
	 * @throws IOException
	 *             If the file could not be written to or could not be found.
	 */</jtok>
<jtok eid="8" type="method_name" span="446:21:446:29">writeXMP</jtok>
<jtok eid="8" type="parameter_type" span="446:30:446:34">File</jtok>
<jtok eid="8" type="parameter_name" span="446:35:446:39">file</jtok>
<jtok eid="8" type="parameter_type" span="446:41:446:52">BibtexEntry</jtok>
<jtok eid="8" type="parameter_name" span="446:53:446:58">entry</jtok>
<jtok eid="8" type="parameter_type" span="447:4:447:18">BibtexDatabase</jtok>
<jtok eid="8" type="parameter_name" span="447:19:447:27">database</jtok>
<jtok eid="8" type="throws" span="447:36:447:47">IOException</jtok>
<jtok eid="8" type="throws" span="447:49:447:69">TransformerException</jtok>
<jtok eid="8" type="class_or_interface_ref" span="448:3:448:7">List</jtok>
<jtok eid="8" type="class_or_interface_ref" span="448:8:448:19">BibtexEntry</jtok>
<jtok eid="8" type="local_variable_name" span="448:21:448:22">l</jtok>
<jtok eid="8" type="constructor_call" span="448:29:448:39">LinkedList</jtok>
<jtok eid="8" type="constructor_call" span="448:40:448:51">BibtexEntry</jtok>
<jtok eid="8" type="primary_name_ref" span="449:3:449:4">l</jtok>
<jtok eid="8" type="method_call" span="449:5:449:8">add</jtok>
<jtok eid="8" type="primary_name_ref" span="449:9:449:14">entry</jtok>
<jtok eid="8" type="method_call" span="450:3:450:11">writeXMP</jtok>
<jtok eid="8" type="primary_name_ref" span="450:12:450:16">file</jtok>
<jtok eid="8" type="primary_name_ref" span="450:18:450:19">l</jtok>
<jtok eid="8" type="primary_name_ref" span="450:21:450:29">database</jtok>
<jtok eid="1" type="block_comment" span="453:2:471:5">/**
	 * Write the given BibtexEntries as XMP-metadata text to the given stream.
	 * 
	 * The text that is written to the stream contains a complete XMP-document.
	 * 
	 * @param bibtexEntries
	 *            The BibtexEntries to write XMP-metadata for.
	 * @param database
	 *            maybenull An optional database which the given bibtex entries
	 *            belong to, which will be used to resolve strings. If the
	 *            database is null the strings will not be resolved.
	 * @throws TransformerException
	 *             Thrown if the bibtexEntries could not transformed to XMP.
	 * @throws IOException
	 *             Thrown if an IOException occured while writing to the stream.
	 * 
	 * @see #toXMP(Collection, OutputStream) if you don't need strings to be
	 *      resolved.
	 */</jtok>
<jtok eid="9" type="method_name" span="472:21:472:26">toXMP</jtok>
<jtok eid="9" type="parameter_type" span="472:27:472:37">Collection</jtok>
<jtok eid="9" type="parameter_type" span="472:38:472:49">BibtexEntry</jtok>
<jtok eid="9" type="parameter_name" span="472:51:472:64">bibtexEntries</jtok>
<jtok eid="9" type="parameter_type" span="473:4:473:18">BibtexDatabase</jtok>
<jtok eid="9" type="parameter_name" span="473:19:473:27">database</jtok>
<jtok eid="9" type="parameter_type" span="473:29:473:41">OutputStream</jtok>
<jtok eid="9" type="parameter_name" span="473:42:473:54">outputStream</jtok>
<jtok eid="9" type="throws" span="474:11:474:22">IOException</jtok>
<jtok eid="9" type="throws" span="474:24:474:44">TransformerException</jtok>
<jtok eid="9" type="primary_name_ref" span="476:7:476:15">database</jtok>
<jtok eid="9" type="primary_name_ref" span="477:4:477:17">bibtexEntries</jtok>
<jtok eid="9" type="primary_name_ref" span="477:20:477:28">database</jtok>
<jtok eid="9" type="method_call" span="477:29:477:46">resolveForStrings</jtok>
<jtok eid="9" type="primary_name_ref" span="477:47:477:60">bibtexEntries</jtok>
<jtok eid="9" type="class_or_interface_ref" span="479:3:479:14">XMPMetadata</jtok>
<jtok eid="9" type="local_variable_name" span="479:15:479:16">x</jtok>
<jtok eid="9" type="constructor_call" span="479:23:479:34">XMPMetadata</jtok>
<jtok eid="9" type="class_or_interface_ref" span="481:3:481:11">Iterator</jtok>
<jtok eid="9" type="class_or_interface_ref" span="481:12:481:23">BibtexEntry</jtok>
<jtok eid="9" type="local_variable_name" span="481:25:481:27">it</jtok>
<jtok eid="9" type="primary_name_ref" span="481:30:481:43">bibtexEntries</jtok>
<jtok eid="9" type="method_call" span="481:44:481:52">iterator</jtok>
<jtok eid="9" type="primary_name_ref" span="482:10:482:12">it</jtok>
<jtok eid="9" type="method_call" span="482:13:482:20">hasNext</jtok>
<jtok eid="9" type="class_or_interface_ref" span="483:4:483:15">BibtexEntry</jtok>
<jtok eid="9" type="local_variable_name" span="483:16:483:17">e</jtok>
<jtok eid="9" type="primary_name_ref" span="483:20:483:22">it</jtok>
<jtok eid="9" type="method_call" span="483:23:483:27">next</jtok>
<jtok eid="9" type="class_or_interface_ref" span="484:4:484:19">XMPSchemaBibtex</jtok>
<jtok eid="9" type="local_variable_name" span="484:20:484:26">schema</jtok>
<jtok eid="9" type="constructor_call" span="484:33:484:48">XMPSchemaBibtex</jtok>
<jtok eid="9" type="primary_name_ref" span="484:49:484:50">x</jtok>
<jtok eid="9" type="primary_name_ref" span="485:4:485:5">x</jtok>
<jtok eid="9" type="method_call" span="485:6:485:15">addSchema</jtok>
<jtok eid="9" type="primary_name_ref" span="485:16:485:22">schema</jtok>
<jtok eid="9" type="primary_name_ref" span="486:4:486:10">schema</jtok>
<jtok eid="9" type="method_call" span="486:11:486:25">setBibtexEntry</jtok>
<jtok eid="9" type="primary_name_ref" span="486:26:486:27">e</jtok>
<jtok eid="9" type="primary_name_ref" span="489:3:489:4">x</jtok>
<jtok eid="9" type="method_call" span="489:5:489:9">save</jtok>
<jtok eid="9" type="primary_name_ref" span="489:10:489:22">outputStream</jtok>
<jtok eid="1" type="block_comment" span="492:2:508:5">/**
	 * Convenience method for toXMP(Collection&lt;BibtexEntry&gt;, BibtexDatabase,
	 * OutputStream) returning a String containing the XMP-metadata of the given
	 * collection of BibtexEntries.
	 * 
	 * The resulting metadata string is wrapped as a complete XMP-document.
	 * 
	 * @param bibtexEntries
	 *            The BibtexEntries to return XMP-metadata for. 
	 * @param database
	 *            maybenull An optional database which the given bibtex entries
	 *            belong to, which will be used to resolve strings. If the
	 *            database is null the strings will not be resolved.
	 * @return The XMP representation of the given bibtexEntries.
	 * @throws TransformerException
	 *             Thrown if the bibtexEntries could not transformed to XMP.
	 */</jtok>
<jtok eid="10" type="class_or_interface_ref" span="509:16:509:22">String</jtok>
<jtok eid="10" type="method_name" span="509:23:509:28">toXMP</jtok>
<jtok eid="10" type="parameter_type" span="509:29:509:39">Collection</jtok>
<jtok eid="10" type="parameter_type" span="509:40:509:51">BibtexEntry</jtok>
<jtok eid="10" type="parameter_name" span="509:53:509:66">bibtexEntries</jtok>
<jtok eid="10" type="parameter_type" span="510:4:510:18">BibtexDatabase</jtok>
<jtok eid="10" type="parameter_name" span="510:19:510:27">database</jtok>
<jtok eid="10" type="throws" span="510:36:510:56">TransformerException</jtok>
<jtok eid="10" type="class_or_interface_ref" span="512:4:512:25">ByteArrayOutputStream</jtok>
<jtok eid="10" type="local_variable_name" span="512:26:512:28">bs</jtok>
<jtok eid="10" type="constructor_call" span="512:35:512:56">ByteArrayOutputStream</jtok>
<jtok eid="10" type="method_call" span="513:4:513:9">toXMP</jtok>
<jtok eid="10" type="primary_name_ref" span="513:10:513:23">bibtexEntries</jtok>
<jtok eid="10" type="primary_name_ref" span="513:25:513:33">database</jtok>
<jtok eid="10" type="primary_name_ref" span="513:35:513:37">bs</jtok>
<jtok eid="10" type="primary_name_ref" span="514:11:514:13">bs</jtok>
<jtok eid="10" type="method_call" span="514:14:514:22">toString</jtok>
<jtok eid="10" type="class_or_interface_ref" span="515:12:515:23">IOException</jtok>
<jtok eid="10" type="local_variable_name" span="515:24:515:25">e</jtok>
<jtok eid="10" type="constructor_call" span="516:14:516:34">TransformerException</jtok>
<jtok eid="10" type="primary_name_ref" span="516:35:516:36">e</jtok>
<jtok eid="1" type="block_comment" span="520:2:530:5">/**
	 * Will read the XMPMetadata from the given pdf file, closing the file
	 * afterwards.
	 * 
	 * @param inputStream
	 *            The inputStream representing a PDF-file to read the
	 *            XMPMetadata from.
	 * @return The XMPMetadata object found in the file or null if none is
	 *         found.
	 * @throws IOException
	 */</jtok>
<jtok eid="11" type="class_or_interface_ref" span="531:16:531:27">XMPMetadata</jtok>
<jtok eid="11" type="method_name" span="531:28:531:38">readRawXMP</jtok>
<jtok eid="11" type="parameter_type" span="531:39:531:50">InputStream</jtok>
<jtok eid="11" type="parameter_name" span="531:51:531:62">inputStream</jtok>
<jtok eid="11" type="throws" span="532:11:532:22">IOException</jtok>
<jtok eid="11" type="class_or_interface_ref" span="533:3:533:13">PDDocument</jtok>
<jtok eid="11" type="local_variable_name" span="533:14:533:22">document</jtok>
<jtok eid="11" type="primary_name_ref" span="536:4:536:12">document</jtok>
<jtok eid="11" type="primary_name_ref" span="536:15:536:25">PDDocument</jtok>
<jtok eid="11" type="method_call" span="536:26:536:30">load</jtok>
<jtok eid="11" type="primary_name_ref" span="536:31:536:42">inputStream</jtok>
<jtok eid="11" type="primary_name_ref" span="537:8:537:16">document</jtok>
<jtok eid="11" type="method_call" span="537:17:537:28">isEncrypted</jtok>
<jtok eid="11" type="constructor_call" span="538:15:538:46">EncryptionNotSupportedException</jtok>
<jtok eid="11" type="string_literal" span="539:7:539:61">"Error: Cannot read metadata from encrypted document."</jtok>
<jtok eid="11" type="method_call" span="542:11:542:25">getXMPMetadata</jtok>
<jtok eid="11" type="primary_name_ref" span="542:26:542:34">document</jtok>
<jtok eid="11" type="primary_name_ref" span="545:8:545:16">document</jtok>
<jtok eid="11" type="primary_name_ref" span="546:5:546:13">document</jtok>
<jtok eid="11" type="method_call" span="546:14:546:19">close</jtok>
<jtok eid="12" type="class_or_interface_ref" span="550:9:550:20">XMPMetadata</jtok>
<jtok eid="12" type="method_name" span="550:21:550:35">getXMPMetadata</jtok>
<jtok eid="12" type="parameter_type" span="550:36:550:46">PDDocument</jtok>
<jtok eid="12" type="parameter_name" span="550:47:550:55">document</jtok>
<jtok eid="12" type="throws" span="550:64:550:75">IOException</jtok>
<jtok eid="12" type="class_or_interface_ref" span="551:3:551:20">PDDocumentCatalog</jtok>
<jtok eid="12" type="local_variable_name" span="551:21:551:28">catalog</jtok>
<jtok eid="12" type="primary_name_ref" span="551:31:551:39">document</jtok>
<jtok eid="12" type="method_call" span="551:40:551:58">getDocumentCatalog</jtok>
<jtok eid="12" type="class_or_interface_ref" span="552:3:552:13">PDMetadata</jtok>
<jtok eid="12" type="local_variable_name" span="552:14:552:21">metaRaw</jtok>
<jtok eid="12" type="primary_name_ref" span="552:24:552:31">catalog</jtok>
<jtok eid="12" type="method_call" span="552:32:552:43">getMetadata</jtok>
<jtok eid="12" type="primary_name_ref" span="554:7:554:14">metaRaw</jtok>
<jtok eid="12" type="class_or_interface_ref" span="558:3:558:14">XMPMetadata</jtok>
<jtok eid="12" type="local_variable_name" span="558:15:558:19">meta</jtok>
<jtok eid="12" type="constructor_call" span="558:26:558:37">XMPMetadata</jtok>
<jtok eid="12" type="primary_name_ref" span="558:38:558:45">XMLUtil</jtok>
<jtok eid="12" type="method_call" span="558:46:558:51">parse</jtok>
<jtok eid="12" type="primary_name_ref" span="558:52:558:59">metaRaw</jtok>
<jtok eid="12" type="method_call" span="559:6:559:23">createInputStream</jtok>
<jtok eid="12" type="primary_name_ref" span="560:3:560:7">meta</jtok>
<jtok eid="12" type="method_call" span="560:8:560:23">addXMLNSMapping</jtok>
<jtok eid="12" type="primary_name_ref" span="560:24:560:39">XMPSchemaBibtex</jtok>
<jtok eid="12" type="qualified_name_ref" span="560:40:560:49">NAMESPACE</jtok>
<jtok eid="12" type="primary_name_ref" span="560:51:560:66">XMPSchemaBibtex</jtok>
<jtok eid="12" type="primary_name_ref" span="561:10:561:14">meta</jtok>
<jtok eid="1" type="block_comment" span="564:2:573:5">/**
	 * Will read the XMPMetadata from the given pdf file, closing the file
	 * afterwards.
	 * 
	 * @param file
	 *            The file to read the XMPMetadata from.
	 * @return The XMPMetadata object found in the file or null if none is
	 *         found.
	 * @throws IOException
	 */</jtok>
<jtok eid="13" type="class_or_interface_ref" span="574:16:574:27">XMPMetadata</jtok>
<jtok eid="13" type="method_name" span="574:28:574:38">readRawXMP</jtok>
<jtok eid="13" type="parameter_type" span="574:39:574:43">File</jtok>
<jtok eid="13" type="parameter_name" span="574:44:574:48">file</jtok>
<jtok eid="13" type="throws" span="574:57:574:68">IOException</jtok>
<jtok eid="13" type="class_or_interface_ref" span="575:3:575:18">FileInputStream</jtok>
<jtok eid="13" type="local_variable_name" span="575:19:575:21">is</jtok>
<jtok eid="13" type="constructor_call" span="575:28:575:43">FileInputStream</jtok>
<jtok eid="13" type="primary_name_ref" span="575:44:575:48">file</jtok>
<jtok eid="13" type="method_call" span="577:11:577:21">readRawXMP</jtok>
<jtok eid="13" type="primary_name_ref" span="577:22:577:24">is</jtok>
<jtok eid="13" type="primary_name_ref" span="579:4:579:6">is</jtok>
<jtok eid="13" type="method_call" span="579:7:579:12">close</jtok>
<jtok eid="14" type="method_name" span="583:14:583:29">writeToDCSchema</jtok>
<jtok eid="14" type="parameter_type" span="583:30:583:49">XMPSchemaDublinCore</jtok>
<jtok eid="14" type="parameter_name" span="583:50:583:58">dcSchema</jtok>
<jtok eid="14" type="parameter_type" span="584:4:584:15">BibtexEntry</jtok>
<jtok eid="14" type="parameter_name" span="584:16:584:21">entry</jtok>
<jtok eid="14" type="parameter_type" span="584:23:584:37">BibtexDatabase</jtok>
<jtok eid="14" type="parameter_name" span="584:38:584:46">database</jtok>
<jtok eid="14" type="primary_name_ref" span="586:7:586:15">database</jtok>
<jtok eid="14" type="primary_name_ref" span="587:4:587:9">entry</jtok>
<jtok eid="14" type="primary_name_ref" span="587:12:587:20">database</jtok>
<jtok eid="14" type="method_call" span="587:21:587:38">resolveForStrings</jtok>
<jtok eid="14" type="primary_name_ref" span="587:39:587:44">entry</jtok>
<jtok eid="14" type="line_comment" span="589:3:589:52">// Set all the values including key and entryType</jtok>
<jtok eid="14" type="class_or_interface_ref" span="591:8:591:14">String</jtok>
<jtok eid="14" type="local_variable_name" span="591:15:591:20">field</jtok>
<jtok eid="14" type="primary_name_ref" span="591:23:591:28">entry</jtok>
<jtok eid="14" type="method_call" span="591:29:591:41">getAllFields</jtok>
<jtok eid="14" type="primary_name_ref" span="593:8:593:13">field</jtok>
<jtok eid="14" type="method_call" span="593:14:593:20">equals</jtok>
<jtok eid="14" type="string_literal" span="593:21:593:29">"editor"</jtok>
<jtok eid="14" type="class_or_interface_ref" span="594:5:594:11">String</jtok>
<jtok eid="14" type="local_variable_name" span="594:12:594:13">o</jtok>
<jtok eid="14" type="primary_name_ref" span="594:16:594:21">entry</jtok>
<jtok eid="14" type="method_call" span="594:22:594:30">getField</jtok>
<jtok eid="14" type="primary_name_ref" span="594:31:594:36">field</jtok>
<jtok eid="14" type="method_call" span="594:37:594:45">toString</jtok>
<jtok eid="14" type="method_call" span="594:49:594:57">toString</jtok>
<jtok eid="14" type="block_comment" span="596:5:609:8">/**
				 * Editor -&gt; Contributor
				 * 
				 * Field: dc:contributor
				 * 
				 * Type: bag ProperName
				 * 
				 * Category: External
				 * 
				 * Description: Contributors to the resource (other than the
				 * authors).
				 * 
				 * Bibtex-Fields used: editor
				 */</jtok>
<jtok eid="14" type="class_or_interface_ref" span="611:5:611:11">String</jtok>
<jtok eid="14" type="local_variable_name" span="611:12:611:19">authors</jtok>
<jtok eid="14" type="primary_name_ref" span="611:22:611:23">o</jtok>
<jtok eid="14" type="method_call" span="611:24:611:32">toString</jtok>
<jtok eid="14" type="class_or_interface_ref" span="612:5:612:15">AuthorList</jtok>
<jtok eid="14" type="local_variable_name" span="612:16:612:20">list</jtok>
<jtok eid="14" type="primary_name_ref" span="612:23:612:33">AuthorList</jtok>
<jtok eid="14" type="method_call" span="612:34:612:47">getAuthorList</jtok>
<jtok eid="14" type="primary_name_ref" span="612:48:612:55">authors</jtok>
<jtok eid="14" type="local_variable_name" span="614:9:614:10">n</jtok>
<jtok eid="14" type="primary_name_ref" span="614:13:614:17">list</jtok>
<jtok eid="14" type="method_call" span="614:18:614:22">size</jtok>
<jtok eid="14" type="local_variable_name" span="615:14:615:15">i</jtok>
<jtok eid="14" type="primary_name_ref" span="615:21:615:22">i</jtok>
<jtok eid="14" type="primary_name_ref" span="615:25:615:26">n</jtok>
<jtok eid="14" type="primary_name_ref" span="615:28:615:29">i</jtok>
<jtok eid="14" type="primary_name_ref" span="616:6:616:14">dcSchema</jtok>
<jtok eid="14" type="method_call" span="616:15:616:29">addContributor</jtok>
<jtok eid="14" type="primary_name_ref" span="616:30:616:34">list</jtok>
<jtok eid="14" type="method_call" span="616:35:616:44">getAuthor</jtok>
<jtok eid="14" type="primary_name_ref" span="616:45:616:46">i</jtok>
<jtok eid="14" type="method_call" span="616:48:616:60">getFirstLast</jtok>
<jtok eid="14" type="block_comment" span="622:4:628:7">/**
			 * ? -&gt; Coverage
			 * 
			 * Unmapped
			 * 
			 * dc:coverage Text External The extent or scope of the resource.
			 */</jtok>
<jtok eid="14" type="block_comment" span="630:4:643:7">/**
			 * Author -&gt; Creator
			 * 
			 * Field: dc:creator
			 * 
			 * Type: seq ProperName
			 * 
			 * Category: External
			 * 
			 * Description: The authors of the resource (listed in order of
			 * precedence, if significant).
			 * 
			 * Bibtex-Fields used: author
			 */</jtok>
<jtok eid="14" type="primary_name_ref" span="644:8:644:13">field</jtok>
<jtok eid="14" type="method_call" span="644:14:644:20">equals</jtok>
<jtok eid="14" type="string_literal" span="644:21:644:29">"author"</jtok>
<jtok eid="14" type="class_or_interface_ref" span="645:5:645:11">String</jtok>
<jtok eid="14" type="local_variable_name" span="645:12:645:13">o</jtok>
<jtok eid="14" type="primary_name_ref" span="645:16:645:21">entry</jtok>
<jtok eid="14" type="method_call" span="645:22:645:30">getField</jtok>
<jtok eid="14" type="primary_name_ref" span="645:31:645:36">field</jtok>
<jtok eid="14" type="method_call" span="645:37:645:45">toString</jtok>
<jtok eid="14" type="method_call" span="645:49:645:57">toString</jtok>
<jtok eid="14" type="class_or_interface_ref" span="646:5:646:11">String</jtok>
<jtok eid="14" type="local_variable_name" span="646:12:646:19">authors</jtok>
<jtok eid="14" type="primary_name_ref" span="646:22:646:23">o</jtok>
<jtok eid="14" type="method_call" span="646:24:646:32">toString</jtok>
<jtok eid="14" type="class_or_interface_ref" span="647:5:647:15">AuthorList</jtok>
<jtok eid="14" type="local_variable_name" span="647:16:647:20">list</jtok>
<jtok eid="14" type="primary_name_ref" span="647:23:647:33">AuthorList</jtok>
<jtok eid="14" type="method_call" span="647:34:647:47">getAuthorList</jtok>
<jtok eid="14" type="primary_name_ref" span="647:48:647:55">authors</jtok>
<jtok eid="14" type="local_variable_name" span="649:9:649:10">n</jtok>
<jtok eid="14" type="primary_name_ref" span="649:13:649:17">list</jtok>
<jtok eid="14" type="method_call" span="649:18:649:22">size</jtok>
<jtok eid="14" type="local_variable_name" span="650:14:650:15">i</jtok>
<jtok eid="14" type="primary_name_ref" span="650:21:650:22">i</jtok>
<jtok eid="14" type="primary_name_ref" span="650:25:650:26">n</jtok>
<jtok eid="14" type="primary_name_ref" span="650:28:650:29">i</jtok>
<jtok eid="14" type="primary_name_ref" span="651:6:651:14">dcSchema</jtok>
<jtok eid="14" type="method_call" span="651:15:651:25">addCreator</jtok>
<jtok eid="14" type="primary_name_ref" span="651:26:651:30">list</jtok>
<jtok eid="14" type="method_call" span="651:31:651:40">getAuthor</jtok>
<jtok eid="14" type="primary_name_ref" span="651:41:651:42">i</jtok>
<jtok eid="14" type="method_call" span="651:44:651:56">getFirstLast</jtok>
<jtok eid="14" type="primary_name_ref" span="656:8:656:13">field</jtok>
<jtok eid="14" type="method_call" span="656:14:656:20">equals</jtok>
<jtok eid="14" type="string_literal" span="656:21:656:28">"month"</jtok>
<jtok eid="14" type="line_comment" span="657:5:657:26">// Dealt with in year</jtok>
<jtok eid="14" type="primary_name_ref" span="661:8:661:13">field</jtok>
<jtok eid="14" type="method_call" span="661:14:661:20">equals</jtok>
<jtok eid="14" type="string_literal" span="661:21:661:27">"year"</jtok>
<jtok eid="14" type="block_comment" span="663:5:676:8">/**
				 * Year + Month -&gt; Date
				 * 
				 * Field: dc:date
				 * 
				 * Type: seq Date
				 * 
				 * Category: External
				 * 
				 * Description: Date(s) that something interesting happened to
				 * the resource.
				 * 
				 * Bibtex-Fields used: year, month
				 */</jtok>
<jtok eid="14" type="class_or_interface_ref" span="677:5:677:11">String</jtok>
<jtok eid="14" type="local_variable_name" span="677:12:677:27">publicationDate</jtok>
<jtok eid="14" type="primary_name_ref" span="677:30:677:34">Util</jtok>
<jtok eid="14" type="method_call" span="677:35:677:53">getPublicationDate</jtok>
<jtok eid="14" type="primary_name_ref" span="677:54:677:59">entry</jtok>
<jtok eid="14" type="primary_name_ref" span="678:9:678:24">publicationDate</jtok>
<jtok eid="14" type="primary_name_ref" span="679:6:679:14">dcSchema</jtok>
<jtok eid="14" type="method_call" span="679:15:679:31">addSequenceValue</jtok>
<jtok eid="14" type="string_literal" span="679:32:679:41">"dc:date"</jtok>
<jtok eid="14" type="primary_name_ref" span="679:43:679:58">publicationDate</jtok>
<jtok eid="14" type="block_comment" span="683:4:696:7">/**
			 * Abstract -&gt; Description
			 * 
			 * Field: dc:description
			 * 
			 * Type: Lang Alt
			 * 
			 * Category: External
			 * 
			 * Description: A textual description of the content of the
			 * resource. Multiple values may be present for different languages.
			 * 
			 * Bibtex-Fields used: abstract
			 */</jtok>
<jtok eid="14" type="primary_name_ref" span="697:8:697:13">field</jtok>
<jtok eid="14" type="method_call" span="697:14:697:20">equals</jtok>
<jtok eid="14" type="string_literal" span="697:21:697:31">"abstract"</jtok>
<jtok eid="14" type="class_or_interface_ref" span="698:5:698:11">String</jtok>
<jtok eid="14" type="local_variable_name" span="698:12:698:13">o</jtok>
<jtok eid="14" type="primary_name_ref" span="698:16:698:21">entry</jtok>
<jtok eid="14" type="method_call" span="698:22:698:30">getField</jtok>
<jtok eid="14" type="primary_name_ref" span="698:31:698:36">field</jtok>
<jtok eid="14" type="method_call" span="698:37:698:45">toString</jtok>
<jtok eid="14" type="method_call" span="698:49:698:57">toString</jtok>
<jtok eid="14" type="primary_name_ref" span="699:5:699:13">dcSchema</jtok>
<jtok eid="14" type="method_call" span="699:14:699:28">setDescription</jtok>
<jtok eid="14" type="primary_name_ref" span="699:29:699:30">o</jtok>
<jtok eid="14" type="method_call" span="699:31:699:39">toString</jtok>
<jtok eid="14" type="block_comment" span="703:4:715:7">/**
			 * DOI -&gt; identifier
			 * 
			 * Field: dc:identifier
			 * 
			 * Type: Text
			 * 
			 * Category: External
			 * 
			 * Description: Unique identifier of the resource.
			 * 
			 * Bibtex-Fields used: doi
			 */</jtok>
<jtok eid="14" type="primary_name_ref" span="716:8:716:13">field</jtok>
<jtok eid="14" type="method_call" span="716:14:716:20">equals</jtok>
<jtok eid="14" type="string_literal" span="716:21:716:26">"doi"</jtok>
<jtok eid="14" type="class_or_interface_ref" span="717:5:717:11">String</jtok>
<jtok eid="14" type="local_variable_name" span="717:12:717:13">o</jtok>
<jtok eid="14" type="primary_name_ref" span="717:16:717:21">entry</jtok>
<jtok eid="14" type="method_call" span="717:22:717:30">getField</jtok>
<jtok eid="14" type="primary_name_ref" span="717:31:717:36">field</jtok>
<jtok eid="14" type="method_call" span="717:37:717:45">toString</jtok>
<jtok eid="14" type="method_call" span="717:49:717:57">toString</jtok>
<jtok eid="14" type="primary_name_ref" span="718:5:718:13">dcSchema</jtok>
<jtok eid="14" type="method_call" span="718:14:718:27">setIdentifier</jtok>
<jtok eid="14" type="primary_name_ref" span="718:28:718:29">o</jtok>
<jtok eid="14" type="method_call" span="718:30:718:38">toString</jtok>
<jtok eid="14" type="block_comment" span="722:4:729:7">/**
			 * ? -&gt; Language
			 * 
			 * Unmapped
			 * 
			 * dc:language bag Locale Internal An unordered array specifying the
			 * languages used in the resource.
			 */</jtok>
<jtok eid="14" type="block_comment" span="731:4:743:7">/**
			 * Publisher -&gt; Publisher
			 * 
			 * Field: dc:publisher
			 * 
			 * Type: bag ProperName
			 * 
			 * Category: External
			 * 
			 * Description: Publishers.
			 * 
			 * Bibtex-Fields used: doi
			 */</jtok>
<jtok eid="14" type="primary_name_ref" span="744:8:744:13">field</jtok>
<jtok eid="14" type="method_call" span="744:14:744:20">equals</jtok>
<jtok eid="14" type="string_literal" span="744:21:744:32">"publisher"</jtok>
<jtok eid="14" type="class_or_interface_ref" span="745:5:745:11">String</jtok>
<jtok eid="14" type="local_variable_name" span="745:12:745:13">o</jtok>
<jtok eid="14" type="primary_name_ref" span="745:16:745:21">entry</jtok>
<jtok eid="14" type="method_call" span="745:22:745:30">getField</jtok>
<jtok eid="14" type="primary_name_ref" span="745:31:745:36">field</jtok>
<jtok eid="14" type="method_call" span="745:37:745:45">toString</jtok>
<jtok eid="14" type="method_call" span="745:49:745:57">toString</jtok>
<jtok eid="14" type="primary_name_ref" span="746:5:746:13">dcSchema</jtok>
<jtok eid="14" type="method_call" span="746:14:746:26">addPublisher</jtok>
<jtok eid="14" type="primary_name_ref" span="746:27:746:28">o</jtok>
<jtok eid="14" type="method_call" span="746:29:746:37">toString</jtok>
<jtok eid="14" type="block_comment" span="750:4:757:7">/**
			 * ? -&gt; Rights
			 * 
			 * Unmapped
			 * 
			 * dc:rights Lang Alt External Informal rights statement, selected
			 * by language.
			 */</jtok>
<jtok eid="14" type="block_comment" span="759:4:766:7">/**
			 * ? -&gt; Source
			 * 
			 * Unmapped
			 * 
			 * dc:source Text External Unique identifier of the work from which
			 * this resource was derived.
			 */</jtok>
<jtok eid="14" type="block_comment" span="768:4:781:7">/**
			 * Keywords -&gt; Subject
			 * 
			 * Field: dc:subject
			 * 
			 * Type: bag Text
			 * 
			 * Category: External
			 * 
			 * Description: An unordered array of descriptive phrases or
			 * keywords that specify the topic of the content of the resource.
			 * 
			 * Bibtex-Fields used: doi
			 */</jtok>
<jtok eid="14" type="primary_name_ref" span="782:8:782:13">field</jtok>
<jtok eid="14" type="method_call" span="782:14:782:20">equals</jtok>
<jtok eid="14" type="string_literal" span="782:21:782:31">"keywords"</jtok>
<jtok eid="14" type="class_or_interface_ref" span="783:5:783:11">String</jtok>
<jtok eid="14" type="local_variable_name" span="783:12:783:13">o</jtok>
<jtok eid="14" type="primary_name_ref" span="783:16:783:21">entry</jtok>
<jtok eid="14" type="method_call" span="783:22:783:30">getField</jtok>
<jtok eid="14" type="primary_name_ref" span="783:31:783:36">field</jtok>
<jtok eid="14" type="method_call" span="783:37:783:45">toString</jtok>
<jtok eid="14" type="method_call" span="783:49:783:57">toString</jtok>
<jtok eid="14" type="class_or_interface_ref" span="784:5:784:11">String</jtok>
<jtok eid="14" type="local_variable_name" span="784:14:784:22">keywords</jtok>
<jtok eid="14" type="primary_name_ref" span="784:25:784:26">o</jtok>
<jtok eid="14" type="method_call" span="784:27:784:35">toString</jtok>
<jtok eid="14" type="method_call" span="784:38:784:43">split</jtok>
<jtok eid="14" type="string_literal" span="784:44:784:47">","</jtok>
<jtok eid="14" type="local_variable_name" span="785:14:785:15">i</jtok>
<jtok eid="14" type="primary_name_ref" span="785:21:785:22">i</jtok>
<jtok eid="14" type="primary_name_ref" span="785:25:785:33">keywords</jtok>
<jtok eid="14" type="qualified_name_ref" span="785:34:785:40">length</jtok>
<jtok eid="14" type="primary_name_ref" span="785:42:785:43">i</jtok>
<jtok eid="14" type="primary_name_ref" span="786:6:786:14">dcSchema</jtok>
<jtok eid="14" type="method_call" span="786:15:786:25">addSubject</jtok>
<jtok eid="14" type="primary_name_ref" span="786:26:786:34">keywords</jtok>
<jtok eid="14" type="primary_name_ref" span="786:35:786:36">i</jtok>
<jtok eid="14" type="method_call" span="786:38:786:42">trim</jtok>
<jtok eid="14" type="block_comment" span="791:4:805:7">/**
			 * Title -&gt; Title
			 * 
			 * Field: dc:title
			 * 
			 * Type: Lang Alt
			 * 
			 * Category: External
			 * 
			 * Description: The title of the document, or the name given to the
			 * resource. Typically, it will be a name by which the resource is
			 * formally known.
			 * 
			 * Bibtex-Fields used: title
			 */</jtok>
<jtok eid="14" type="primary_name_ref" span="806:8:806:13">field</jtok>
<jtok eid="14" type="method_call" span="806:14:806:20">equals</jtok>
<jtok eid="14" type="string_literal" span="806:21:806:28">"title"</jtok>
<jtok eid="14" type="class_or_interface_ref" span="807:5:807:11">String</jtok>
<jtok eid="14" type="local_variable_name" span="807:12:807:13">o</jtok>
<jtok eid="14" type="primary_name_ref" span="807:16:807:21">entry</jtok>
<jtok eid="14" type="method_call" span="807:22:807:30">getField</jtok>
<jtok eid="14" type="primary_name_ref" span="807:31:807:36">field</jtok>
<jtok eid="14" type="method_call" span="807:37:807:45">toString</jtok>
<jtok eid="14" type="method_call" span="807:49:807:57">toString</jtok>
<jtok eid="14" type="primary_name_ref" span="808:5:808:13">dcSchema</jtok>
<jtok eid="14" type="method_call" span="808:14:808:22">setTitle</jtok>
<jtok eid="14" type="primary_name_ref" span="808:23:808:24">o</jtok>
<jtok eid="14" type="method_call" span="808:25:808:33">toString</jtok>
<jtok eid="14" type="block_comment" span="812:4:824:7">/**
			 * bibtextype -&gt; relation
			 * 
			 * Field: dc:relation
			 * 
			 * Type: bag Text
			 * 
			 * Category: External
			 * 
			 * Description: Relationships to other documents.
			 * 
			 * Bibtex-Fields used: bibtextype
			 */</jtok>
<jtok eid="14" type="block_comment" span="825:4:828:7">/**
			 * All others (including the bibtex key) get packaged in the
			 * relation attribute
			 */</jtok>
<jtok eid="14" type="class_or_interface_ref" span="829:4:829:10">String</jtok>
<jtok eid="14" type="local_variable_name" span="829:11:829:12">o</jtok>
<jtok eid="14" type="primary_name_ref" span="829:15:829:20">entry</jtok>
<jtok eid="14" type="method_call" span="829:21:829:29">getField</jtok>
<jtok eid="14" type="primary_name_ref" span="829:30:829:35">field</jtok>
<jtok eid="14" type="method_call" span="829:36:829:44">toString</jtok>
<jtok eid="14" type="method_call" span="829:48:829:56">toString</jtok>
<jtok eid="14" type="primary_name_ref" span="830:4:830:12">dcSchema</jtok>
<jtok eid="14" type="method_call" span="830:13:830:24">addRelation</jtok>
<jtok eid="14" type="string_literal" span="830:25:830:34">"bibtex/"</jtok>
<jtok eid="14" type="primary_name_ref" span="830:37:830:42">field</jtok>
<jtok eid="14" type="method_call" span="830:43:830:51">toString</jtok>
<jtok eid="14" type="string_literal" span="830:56:830:59">"/"</jtok>
<jtok eid="14" type="primary_name_ref" span="830:62:830:63">o</jtok>
<jtok eid="14" type="block_comment" span="833:3:841:6">/**
		 * ? -&gt; Format
		 * 
		 * Unmapped
		 * 
		 * dc:format MIMEType Internal The file format used when saving the
		 * resource. Tools and applications should set this property to the save
		 * format of the data. It may include appropriate qualifiers.
		 */</jtok>
<jtok eid="14" type="primary_name_ref" span="842:3:842:11">dcSchema</jtok>
<jtok eid="14" type="method_call" span="842:12:842:21">setFormat</jtok>
<jtok eid="14" type="string_literal" span="842:22:842:39">"application/pdf"</jtok>
<jtok eid="14" type="block_comment" span="844:3:857:6">/**
		 * Type -&gt; Type
		 * 
		 * Field: dc:type
		 * 
		 * Type: bag open Choice
		 * 
		 * Category: External
		 * 
		 * Description: A document type; for example, novel, poem, or working
		 * paper.
		 * 
		 * Bibtex-Fields used: title
		 */</jtok>
<jtok eid="14" type="class_or_interface_ref" span="858:3:858:9">Object</jtok>
<jtok eid="14" type="local_variable_name" span="858:10:858:11">o</jtok>
<jtok eid="14" type="primary_name_ref" span="858:14:858:19">entry</jtok>
<jtok eid="14" type="method_call" span="858:20:858:27">getType</jtok>
<jtok eid="14" type="method_call" span="858:30:858:37">getName</jtok>
<jtok eid="14" type="primary_name_ref" span="859:7:859:8">o</jtok>
<jtok eid="14" type="primary_name_ref" span="860:4:860:12">dcSchema</jtok>
<jtok eid="14" type="method_call" span="860:13:860:20">addType</jtok>
<jtok eid="14" type="primary_name_ref" span="860:21:860:22">o</jtok>
<jtok eid="14" type="method_call" span="860:23:860:31">toString</jtok>
<jtok eid="1" type="block_comment" span="863:2:878:5">/**
	 * Try to write the given BibTexEntry as a DublinCore XMP Schema
	 * 
	 * Existing DublinCore schemas in the document are not modified.
	 * 
	 * @param document
	 *            The pdf document to write to.
	 * @param entry
	 *            The Bibtex entry that is written as a schema.
	 * @param database
	 *            maybenull An optional database which the given bibtex entries
	 *            belong to, which will be used to resolve strings. If the
	 *            database is null the strings will not be resolved.
	 * @throws IOException
	 * @throws TransformerException
	 */</jtok>
<jtok eid="15" type="method_name" span="879:21:879:36">writeDublinCore</jtok>
<jtok eid="15" type="parameter_type" span="879:37:879:47">PDDocument</jtok>
<jtok eid="15" type="parameter_name" span="879:48:879:56">document</jtok>
<jtok eid="15" type="parameter_type" span="879:58:879:69">BibtexEntry</jtok>
<jtok eid="15" type="parameter_name" span="879:70:879:75">entry</jtok>
<jtok eid="15" type="parameter_type" span="880:4:880:18">BibtexDatabase</jtok>
<jtok eid="15" type="parameter_name" span="880:19:880:27">database</jtok>
<jtok eid="15" type="throws" span="880:36:880:47">IOException</jtok>
<jtok eid="15" type="throws" span="880:49:880:69">TransformerException</jtok>
<jtok eid="15" type="class_or_interface_ref" span="882:3:882:7">List</jtok>
<jtok eid="15" type="class_or_interface_ref" span="882:8:882:19">BibtexEntry</jtok>
<jtok eid="15" type="local_variable_name" span="882:21:882:28">entries</jtok>
<jtok eid="15" type="constructor_call" span="882:35:882:44">ArrayList</jtok>
<jtok eid="15" type="constructor_call" span="882:45:882:56">BibtexEntry</jtok>
<jtok eid="15" type="primary_name_ref" span="883:3:883:10">entries</jtok>
<jtok eid="15" type="method_call" span="883:11:883:14">add</jtok>
<jtok eid="15" type="primary_name_ref" span="883:15:883:20">entry</jtok>
<jtok eid="15" type="method_call" span="885:3:885:18">writeDublinCore</jtok>
<jtok eid="15" type="primary_name_ref" span="885:19:885:27">document</jtok>
<jtok eid="15" type="primary_name_ref" span="885:29:885:36">entries</jtok>
<jtok eid="15" type="primary_name_ref" span="885:38:885:46">database</jtok>
<jtok eid="1" type="block_comment" span="888:2:903:5">/**
	 * Try to write the given BibTexEntries as DublinCore XMP Schemas
	 * 
	 * Existing DublinCore schemas in the document are removed
	 * 
	 * @param document
	 *            The pdf document to write to.
	 * @param entries
	 *            The Bibtex entries that are written as schemas
	 * @param database
	 *            maybenull An optional database which the given bibtex entries
	 *            belong to, which will be used to resolve strings. If the
	 *            database is null the strings will not be resolved.
	 * @throws IOException
	 * @throws TransformerException
	 */</jtok>
<jtok eid="1" type="annotation_ref" span="904:3:904:19">SuppressWarnings</jtok>
<jtok eid="1" type="string_literal" span="904:20:904:31">"unchecked"</jtok>
<jtok eid="16" type="method_name" span="905:21:905:36">writeDublinCore</jtok>
<jtok eid="16" type="parameter_type" span="905:37:905:47">PDDocument</jtok>
<jtok eid="16" type="parameter_name" span="905:48:905:56">document</jtok>
<jtok eid="16" type="parameter_type" span="906:4:906:14">Collection</jtok>
<jtok eid="16" type="parameter_type" span="906:15:906:26">BibtexEntry</jtok>
<jtok eid="16" type="parameter_name" span="906:28:906:35">entries</jtok>
<jtok eid="16" type="parameter_type" span="906:37:906:51">BibtexDatabase</jtok>
<jtok eid="16" type="parameter_name" span="906:52:906:60">database</jtok>
<jtok eid="16" type="throws" span="907:11:907:22">IOException</jtok>
<jtok eid="16" type="throws" span="907:24:907:44">TransformerException</jtok>
<jtok eid="16" type="primary_name_ref" span="909:7:909:15">database</jtok>
<jtok eid="16" type="primary_name_ref" span="910:4:910:11">entries</jtok>
<jtok eid="16" type="primary_name_ref" span="910:14:910:22">database</jtok>
<jtok eid="16" type="method_call" span="910:23:910:40">resolveForStrings</jtok>
<jtok eid="16" type="primary_name_ref" span="910:41:910:48">entries</jtok>
<jtok eid="16" type="class_or_interface_ref" span="912:3:912:20">PDDocumentCatalog</jtok>
<jtok eid="16" type="local_variable_name" span="912:21:912:28">catalog</jtok>
<jtok eid="16" type="primary_name_ref" span="912:31:912:39">document</jtok>
<jtok eid="16" type="method_call" span="912:40:912:58">getDocumentCatalog</jtok>
<jtok eid="16" type="class_or_interface_ref" span="913:3:913:13">PDMetadata</jtok>
<jtok eid="16" type="local_variable_name" span="913:14:913:21">metaRaw</jtok>
<jtok eid="16" type="primary_name_ref" span="913:24:913:31">catalog</jtok>
<jtok eid="16" type="method_call" span="913:32:913:43">getMetadata</jtok>
<jtok eid="16" type="class_or_interface_ref" span="915:3:915:14">XMPMetadata</jtok>
<jtok eid="16" type="local_variable_name" span="915:15:915:19">meta</jtok>
<jtok eid="16" type="primary_name_ref" span="916:7:916:14">metaRaw</jtok>
<jtok eid="16" type="primary_name_ref" span="917:4:917:8">meta</jtok>
<jtok eid="16" type="constructor_call" span="917:15:917:26">XMPMetadata</jtok>
<jtok eid="16" type="primary_name_ref" span="917:27:917:34">XMLUtil</jtok>
<jtok eid="16" type="method_call" span="917:35:917:40">parse</jtok>
<jtok eid="16" type="primary_name_ref" span="917:41:917:48">metaRaw</jtok>
<jtok eid="16" type="method_call" span="917:49:917:66">createInputStream</jtok>
<jtok eid="16" type="primary_name_ref" span="919:4:919:8">meta</jtok>
<jtok eid="16" type="constructor_call" span="919:15:919:26">XMPMetadata</jtok>
<jtok eid="16" type="line_comment" span="922:3:922:44">// Remove all current Dublin-Core schemas</jtok>
<jtok eid="16" type="class_or_interface_ref" span="923:3:923:7">List</jtok>
<jtok eid="16" type="local_variable_name" span="923:8:923:15">schemas</jtok>
<jtok eid="16" type="primary_name_ref" span="923:18:923:22">meta</jtok>
<jtok eid="16" type="method_call" span="924:6:924:30">getSchemasByNamespaceURI</jtok>
<jtok eid="16" type="primary_name_ref" span="924:31:924:50">XMPSchemaDublinCore</jtok>
<jtok eid="16" type="qualified_name_ref" span="924:51:924:60">NAMESPACE</jtok>
<jtok eid="16" type="class_or_interface_ref" span="925:3:925:11">Iterator</jtok>
<jtok eid="16" type="local_variable_name" span="925:12:925:14">it</jtok>
<jtok eid="16" type="primary_name_ref" span="925:17:925:24">schemas</jtok>
<jtok eid="16" type="method_call" span="925:25:925:33">iterator</jtok>
<jtok eid="16" type="primary_name_ref" span="926:10:926:12">it</jtok>
<jtok eid="16" type="method_call" span="926:13:926:20">hasNext</jtok>
<jtok eid="16" type="class_or_interface_ref" span="927:4:927:13">XMPSchema</jtok>
<jtok eid="16" type="local_variable_name" span="927:14:927:17">bib</jtok>
<jtok eid="16" type="class_or_interface_ref" span="927:21:927:30">XMPSchema</jtok>
<jtok eid="16" type="primary_name_ref" span="927:32:927:34">it</jtok>
<jtok eid="16" type="method_call" span="927:35:927:39">next</jtok>
<jtok eid="16" type="primary_name_ref" span="928:4:928:7">bib</jtok>
<jtok eid="16" type="method_call" span="928:8:928:18">getElement</jtok>
<jtok eid="16" type="method_call" span="928:21:928:34">getParentNode</jtok>
<jtok eid="16" type="method_call" span="928:37:928:48">removeChild</jtok>
<jtok eid="16" type="primary_name_ref" span="928:49:928:52">bib</jtok>
<jtok eid="16" type="method_call" span="928:53:928:63">getElement</jtok>
<jtok eid="16" type="class_or_interface_ref" span="931:8:931:19">BibtexEntry</jtok>
<jtok eid="16" type="local_variable_name" span="931:20:931:25">entry</jtok>
<jtok eid="16" type="primary_name_ref" span="931:28:931:35">entries</jtok>
<jtok eid="16" type="class_or_interface_ref" span="932:4:932:23">XMPSchemaDublinCore</jtok>
<jtok eid="16" type="local_variable_name" span="932:24:932:32">dcSchema</jtok>
<jtok eid="16" type="constructor_call" span="932:39:932:58">XMPSchemaDublinCore</jtok>
<jtok eid="16" type="primary_name_ref" span="932:59:932:63">meta</jtok>
<jtok eid="16" type="method_call" span="933:4:933:19">writeToDCSchema</jtok>
<jtok eid="16" type="primary_name_ref" span="933:20:933:28">dcSchema</jtok>
<jtok eid="16" type="primary_name_ref" span="933:30:933:35">entry</jtok>
<jtok eid="16" type="primary_name_ref" span="934:4:934:8">meta</jtok>
<jtok eid="16" type="method_call" span="934:9:934:18">addSchema</jtok>
<jtok eid="16" type="primary_name_ref" span="934:19:934:27">dcSchema</jtok>
<jtok eid="16" type="line_comment" span="937:3:937:58">// Save to stream and then input that stream to the PDF</jtok>
<jtok eid="16" type="class_or_interface_ref" span="938:3:938:24">ByteArrayOutputStream</jtok>
<jtok eid="16" type="local_variable_name" span="938:25:938:27">os</jtok>
<jtok eid="16" type="constructor_call" span="938:34:938:55">ByteArrayOutputStream</jtok>
<jtok eid="16" type="primary_name_ref" span="939:3:939:7">meta</jtok>
<jtok eid="16" type="method_call" span="939:8:939:12">save</jtok>
<jtok eid="16" type="primary_name_ref" span="939:13:939:15">os</jtok>
<jtok eid="16" type="class_or_interface_ref" span="940:3:940:23">ByteArrayInputStream</jtok>
<jtok eid="16" type="local_variable_name" span="940:24:940:26">is</jtok>
<jtok eid="16" type="constructor_call" span="940:33:940:53">ByteArrayInputStream</jtok>
<jtok eid="16" type="primary_name_ref" span="940:54:940:56">os</jtok>
<jtok eid="16" type="method_call" span="940:57:940:68">toByteArray</jtok>
<jtok eid="16" type="class_or_interface_ref" span="941:3:941:13">PDMetadata</jtok>
<jtok eid="16" type="local_variable_name" span="941:14:941:28">metadataStream</jtok>
<jtok eid="16" type="constructor_call" span="941:35:941:45">PDMetadata</jtok>
<jtok eid="16" type="primary_name_ref" span="941:46:941:54">document</jtok>
<jtok eid="16" type="primary_name_ref" span="941:56:941:58">is</jtok>
<jtok eid="16" type="primary_name_ref" span="942:3:942:10">catalog</jtok>
<jtok eid="16" type="method_call" span="942:11:942:22">setMetadata</jtok>
<jtok eid="16" type="primary_name_ref" span="942:23:942:37">metadataStream</jtok>
<jtok eid="1" type="block_comment" span="945:2:960:5">/**
	 * Try to write the given BibTexEntry in the Document Information (the
	 * properties of the pdf).
	 * 
	 * Existing fields values are overriden if the bibtex entry has the
	 * corresponding value set.
	 * 
	 * @param document
	 *            The pdf document to write to.
	 * @param entry
	 *            The Bibtex entry that is written into the PDF properties. *
	 * @param database
	 *            maybenull An optional database which the given bibtex entries
	 *            belong to, which will be used to resolve strings. If the
	 *            database is null the strings will not be resolved.
	 */</jtok>
<jtok eid="17" type="method_name" span="961:21:961:45">writeDocumentInformation</jtok>
<jtok eid="17" type="parameter_type" span="961:46:961:56">PDDocument</jtok>
<jtok eid="17" type="parameter_name" span="961:57:961:65">document</jtok>
<jtok eid="17" type="parameter_type" span="962:4:962:15">BibtexEntry</jtok>
<jtok eid="17" type="parameter_name" span="962:16:962:21">entry</jtok>
<jtok eid="17" type="parameter_type" span="962:23:962:37">BibtexDatabase</jtok>
<jtok eid="17" type="parameter_name" span="962:38:962:46">database</jtok>
<jtok eid="17" type="class_or_interface_ref" span="964:3:964:24">PDDocumentInformation</jtok>
<jtok eid="17" type="local_variable_name" span="964:25:964:27">di</jtok>
<jtok eid="17" type="primary_name_ref" span="964:30:964:38">document</jtok>
<jtok eid="17" type="method_call" span="964:39:964:61">getDocumentInformation</jtok>
<jtok eid="17" type="primary_name_ref" span="966:7:966:15">database</jtok>
<jtok eid="17" type="primary_name_ref" span="967:4:967:9">entry</jtok>
<jtok eid="17" type="primary_name_ref" span="967:12:967:20">database</jtok>
<jtok eid="17" type="method_call" span="967:21:967:38">resolveForStrings</jtok>
<jtok eid="17" type="primary_name_ref" span="967:39:967:44">entry</jtok>
<jtok eid="17" type="line_comment" span="969:3:969:52">// Set all the values including key and entryType</jtok>
<jtok eid="17" type="class_or_interface_ref" span="970:3:970:6">Set</jtok>
<jtok eid="17" type="class_or_interface_ref" span="970:7:970:13">String</jtok>
<jtok eid="17" type="local_variable_name" span="970:15:970:21">fields</jtok>
<jtok eid="17" type="primary_name_ref" span="970:24:970:29">entry</jtok>
<jtok eid="17" type="method_call" span="970:30:970:42">getAllFields</jtok>
<jtok eid="17" type="class_or_interface_ref" span="972:8:972:14">String</jtok>
<jtok eid="17" type="local_variable_name" span="972:15:972:20">field</jtok>
<jtok eid="17" type="primary_name_ref" span="972:23:972:29">fields</jtok>
<jtok eid="17" type="primary_name_ref" span="973:8:973:13">field</jtok>
<jtok eid="17" type="method_call" span="973:14:973:20">equals</jtok>
<jtok eid="17" type="string_literal" span="973:21:973:29">"author"</jtok>
<jtok eid="17" type="primary_name_ref" span="974:5:974:7">di</jtok>
<jtok eid="17" type="method_call" span="974:8:974:17">setAuthor</jtok>
<jtok eid="17" type="primary_name_ref" span="974:18:974:23">entry</jtok>
<jtok eid="17" type="method_call" span="974:24:974:32">getField</jtok>
<jtok eid="17" type="string_literal" span="974:33:974:41">"author"</jtok>
<jtok eid="17" type="method_call" span="974:43:974:51">toString</jtok>
<jtok eid="17" type="primary_name_ref" span="975:15:975:20">field</jtok>
<jtok eid="17" type="method_call" span="975:21:975:27">equals</jtok>
<jtok eid="17" type="string_literal" span="975:28:975:35">"title"</jtok>
<jtok eid="17" type="primary_name_ref" span="976:5:976:7">di</jtok>
<jtok eid="17" type="method_call" span="976:8:976:16">setTitle</jtok>
<jtok eid="17" type="primary_name_ref" span="976:17:976:22">entry</jtok>
<jtok eid="17" type="method_call" span="976:23:976:31">getField</jtok>
<jtok eid="17" type="string_literal" span="976:32:976:39">"title"</jtok>
<jtok eid="17" type="method_call" span="976:41:976:49">toString</jtok>
<jtok eid="17" type="primary_name_ref" span="977:15:977:20">field</jtok>
<jtok eid="17" type="method_call" span="977:21:977:27">equals</jtok>
<jtok eid="17" type="string_literal" span="977:28:977:38">"keywords"</jtok>
<jtok eid="17" type="primary_name_ref" span="978:5:978:7">di</jtok>
<jtok eid="17" type="method_call" span="978:8:978:19">setKeywords</jtok>
<jtok eid="17" type="primary_name_ref" span="978:20:978:25">entry</jtok>
<jtok eid="17" type="method_call" span="978:26:978:34">getField</jtok>
<jtok eid="17" type="string_literal" span="978:35:978:45">"keywords"</jtok>
<jtok eid="17" type="method_call" span="978:47:978:55">toString</jtok>
<jtok eid="17" type="primary_name_ref" span="979:15:979:20">field</jtok>
<jtok eid="17" type="method_call" span="979:21:979:27">equals</jtok>
<jtok eid="17" type="string_literal" span="979:28:979:38">"abstract"</jtok>
<jtok eid="17" type="primary_name_ref" span="980:5:980:7">di</jtok>
<jtok eid="17" type="method_call" span="980:8:980:18">setSubject</jtok>
<jtok eid="17" type="primary_name_ref" span="980:19:980:24">entry</jtok>
<jtok eid="17" type="method_call" span="980:25:980:33">getField</jtok>
<jtok eid="17" type="string_literal" span="980:34:980:44">"abstract"</jtok>
<jtok eid="17" type="method_call" span="980:46:980:54">toString</jtok>
<jtok eid="17" type="primary_name_ref" span="982:5:982:7">di</jtok>
<jtok eid="17" type="method_call" span="982:8:982:30">setCustomMetadataValue</jtok>
<jtok eid="17" type="string_literal" span="982:31:982:40">"bibtex/"</jtok>
<jtok eid="17" type="primary_name_ref" span="982:43:982:48">field</jtok>
<jtok eid="17" type="method_call" span="982:49:982:57">toString</jtok>
<jtok eid="17" type="primary_name_ref" span="983:7:983:12">entry</jtok>
<jtok eid="17" type="method_call" span="983:13:983:21">getField</jtok>
<jtok eid="17" type="primary_name_ref" span="983:22:983:27">field</jtok>
<jtok eid="17" type="method_call" span="983:28:983:36">toString</jtok>
<jtok eid="17" type="method_call" span="983:40:983:48">toString</jtok>
<jtok eid="17" type="primary_name_ref" span="986:3:986:5">di</jtok>
<jtok eid="17" type="method_call" span="987:6:987:28">setCustomMetadataValue</jtok>
<jtok eid="17" type="string_literal" span="987:29:987:47">"bibtex/entrytype"</jtok>
<jtok eid="17" type="primary_name_ref" span="987:49:987:54">entry</jtok>
<jtok eid="17" type="method_call" span="987:55:987:62">getType</jtok>
<jtok eid="17" type="method_call" span="988:8:988:15">getName</jtok>
<jtok eid="1" type="block_comment" span="991:2:1015:5">/**
	 * Try to write the given BibTexEntry in the XMP-stream of the given
	 * PDF-file.
	 * 
	 * Throws an IOException if the file cannot be read or written, so the user
	 * can remove a lock or cancel the operation.
	 * 
	 * The method will overwrite existing BibTeX-XMP-data, but keep other
	 * existing metadata.
	 * 
	 * @param file
	 *            The file to write the entries to.
	 * @param bibtexEntries
	 *            The entries to write to the file. *
	 * @param database
	 *            maybenull An optional database which the given bibtex entries
	 *            belong to, which will be used to resolve strings. If the
	 *            database is null the strings will not be resolved.
	 * @param writePDFInfo
	 *            Write information also in PDF document properties
	 * @throws TransformerException
	 *             If the entry was malformed or unsupported.
	 * @throws IOException
	 *             If the file could not be written to or could not be found.
	 */</jtok>
<jtok eid="1" type="annotation_ref" span="1016:3:1016:19">SuppressWarnings</jtok>
<jtok eid="1" type="string_literal" span="1016:20:1016:31">"unchecked"</jtok>
<jtok eid="18" type="method_name" span="1017:21:1017:29">writeXMP</jtok>
<jtok eid="18" type="parameter_type" span="1017:30:1017:34">File</jtok>
<jtok eid="18" type="parameter_name" span="1017:35:1017:39">file</jtok>
<jtok eid="18" type="parameter_type" span="1018:4:1018:14">Collection</jtok>
<jtok eid="18" type="parameter_type" span="1018:15:1018:26">BibtexEntry</jtok>
<jtok eid="18" type="parameter_name" span="1018:28:1018:41">bibtexEntries</jtok>
<jtok eid="18" type="parameter_type" span="1018:43:1018:57">BibtexDatabase</jtok>
<jtok eid="18" type="parameter_name" span="1018:58:1018:67">databasee</jtok>
<jtok eid="18" type="parameter_name" span="1019:12:1019:24">writePDFInfo</jtok>
<jtok eid="18" type="throws" span="1019:33:1019:44">IOException</jtok>
<jtok eid="18" type="throws" span="1019:46:1019:66">TransformerException</jtok>
<jtok eid="18" type="primary_name_ref" span="1021:7:1021:16">databasee</jtok>
<jtok eid="18" type="primary_name_ref" span="1022:4:1022:17">bibtexEntries</jtok>
<jtok eid="18" type="primary_name_ref" span="1022:20:1022:29">databasee</jtok>
<jtok eid="18" type="method_call" span="1022:30:1022:47">resolveForStrings</jtok>
<jtok eid="18" type="primary_name_ref" span="1022:48:1022:61">bibtexEntries</jtok>
<jtok eid="18" type="class_or_interface_ref" span="1024:3:1024:13">PDDocument</jtok>
<jtok eid="18" type="local_variable_name" span="1024:14:1024:22">document</jtok>
<jtok eid="18" type="primary_name_ref" span="1027:4:1027:12">document</jtok>
<jtok eid="18" type="primary_name_ref" span="1027:15:1027:25">PDDocument</jtok>
<jtok eid="18" type="method_call" span="1027:26:1027:30">load</jtok>
<jtok eid="18" type="primary_name_ref" span="1027:31:1027:35">file</jtok>
<jtok eid="18" type="method_call" span="1027:36:1027:51">getAbsoluteFile</jtok>
<jtok eid="18" type="primary_name_ref" span="1028:8:1028:16">document</jtok>
<jtok eid="18" type="method_call" span="1028:17:1028:28">isEncrypted</jtok>
<jtok eid="18" type="constructor_call" span="1029:15:1029:46">EncryptionNotSupportedException</jtok>
<jtok eid="18" type="string_literal" span="1030:7:1030:58">"Error: Cannot add metadata to encrypted document."</jtok>
<jtok eid="18" type="primary_name_ref" span="1033:8:1033:20">writePDFInfo</jtok>
<jtok eid="18" type="primary_name_ref" span="1033:24:1033:37">bibtexEntries</jtok>
<jtok eid="18" type="method_call" span="1033:38:1033:42">size</jtok>
<jtok eid="18" type="method_call" span="1034:5:1034:29">writeDocumentInformation</jtok>
<jtok eid="18" type="primary_name_ref" span="1034:30:1034:38">document</jtok>
<jtok eid="18" type="primary_name_ref" span="1034:40:1034:53">bibtexEntries</jtok>
<jtok eid="18" type="method_call" span="1035:8:1035:16">iterator</jtok>
<jtok eid="18" type="method_call" span="1035:19:1035:23">next</jtok>
<jtok eid="18" type="method_call" span="1036:5:1036:20">writeDublinCore</jtok>
<jtok eid="18" type="primary_name_ref" span="1036:21:1036:29">document</jtok>
<jtok eid="18" type="primary_name_ref" span="1036:31:1036:44">bibtexEntries</jtok>
<jtok eid="18" type="class_or_interface_ref" span="1039:4:1039:21">PDDocumentCatalog</jtok>
<jtok eid="18" type="local_variable_name" span="1039:22:1039:29">catalog</jtok>
<jtok eid="18" type="primary_name_ref" span="1039:32:1039:40">document</jtok>
<jtok eid="18" type="method_call" span="1039:41:1039:59">getDocumentCatalog</jtok>
<jtok eid="18" type="class_or_interface_ref" span="1040:4:1040:14">PDMetadata</jtok>
<jtok eid="18" type="local_variable_name" span="1040:15:1040:22">metaRaw</jtok>
<jtok eid="18" type="primary_name_ref" span="1040:25:1040:32">catalog</jtok>
<jtok eid="18" type="method_call" span="1040:33:1040:44">getMetadata</jtok>
<jtok eid="18" type="class_or_interface_ref" span="1042:4:1042:15">XMPMetadata</jtok>
<jtok eid="18" type="local_variable_name" span="1042:16:1042:20">meta</jtok>
<jtok eid="18" type="primary_name_ref" span="1043:8:1043:15">metaRaw</jtok>
<jtok eid="18" type="primary_name_ref" span="1044:5:1044:9">meta</jtok>
<jtok eid="18" type="constructor_call" span="1044:16:1044:27">XMPMetadata</jtok>
<jtok eid="18" type="primary_name_ref" span="1044:28:1044:35">XMLUtil</jtok>
<jtok eid="18" type="method_call" span="1044:36:1044:41">parse</jtok>
<jtok eid="18" type="primary_name_ref" span="1044:42:1044:49">metaRaw</jtok>
<jtok eid="18" type="method_call" span="1045:8:1045:25">createInputStream</jtok>
<jtok eid="18" type="primary_name_ref" span="1047:5:1047:9">meta</jtok>
<jtok eid="18" type="constructor_call" span="1047:16:1047:27">XMPMetadata</jtok>
<jtok eid="18" type="primary_name_ref" span="1049:4:1049:8">meta</jtok>
<jtok eid="18" type="method_call" span="1049:9:1049:24">addXMLNSMapping</jtok>
<jtok eid="18" type="primary_name_ref" span="1049:25:1049:40">XMPSchemaBibtex</jtok>
<jtok eid="18" type="qualified_name_ref" span="1049:41:1049:50">NAMESPACE</jtok>
<jtok eid="18" type="primary_name_ref" span="1050:6:1050:21">XMPSchemaBibtex</jtok>
<jtok eid="18" type="line_comment" span="1052:4:1052:40">// Remove all current Bibtex-schemas</jtok>
<jtok eid="18" type="class_or_interface_ref" span="1053:4:1053:8">List</jtok>
<jtok eid="18" type="local_variable_name" span="1053:9:1053:16">schemas</jtok>
<jtok eid="18" type="primary_name_ref" span="1053:19:1053:23">meta</jtok>
<jtok eid="18" type="method_call" span="1054:7:1054:31">getSchemasByNamespaceURI</jtok>
<jtok eid="18" type="primary_name_ref" span="1054:32:1054:47">XMPSchemaBibtex</jtok>
<jtok eid="18" type="qualified_name_ref" span="1054:48:1054:57">NAMESPACE</jtok>
<jtok eid="18" type="class_or_interface_ref" span="1055:4:1055:12">Iterator</jtok>
<jtok eid="18" type="local_variable_name" span="1055:13:1055:15">it</jtok>
<jtok eid="18" type="primary_name_ref" span="1055:18:1055:25">schemas</jtok>
<jtok eid="18" type="method_call" span="1055:26:1055:34">iterator</jtok>
<jtok eid="18" type="primary_name_ref" span="1056:11:1056:13">it</jtok>
<jtok eid="18" type="method_call" span="1056:14:1056:21">hasNext</jtok>
<jtok eid="18" type="class_or_interface_ref" span="1057:5:1057:20">XMPSchemaBibtex</jtok>
<jtok eid="18" type="local_variable_name" span="1057:21:1057:24">bib</jtok>
<jtok eid="18" type="class_or_interface_ref" span="1057:28:1057:43">XMPSchemaBibtex</jtok>
<jtok eid="18" type="primary_name_ref" span="1057:45:1057:47">it</jtok>
<jtok eid="18" type="method_call" span="1057:48:1057:52">next</jtok>
<jtok eid="18" type="primary_name_ref" span="1058:5:1058:8">bib</jtok>
<jtok eid="18" type="method_call" span="1058:9:1058:19">getElement</jtok>
<jtok eid="18" type="method_call" span="1058:22:1058:35">getParentNode</jtok>
<jtok eid="18" type="method_call" span="1058:38:1058:49">removeChild</jtok>
<jtok eid="18" type="primary_name_ref" span="1058:50:1058:53">bib</jtok>
<jtok eid="18" type="method_call" span="1058:54:1058:64">getElement</jtok>
<jtok eid="18" type="primary_name_ref" span="1061:4:1061:6">it</jtok>
<jtok eid="18" type="primary_name_ref" span="1061:9:1061:22">bibtexEntries</jtok>
<jtok eid="18" type="method_call" span="1061:23:1061:31">iterator</jtok>
<jtok eid="18" type="primary_name_ref" span="1062:11:1062:13">it</jtok>
<jtok eid="18" type="method_call" span="1062:14:1062:21">hasNext</jtok>
<jtok eid="18" type="class_or_interface_ref" span="1063:5:1063:16">BibtexEntry</jtok>
<jtok eid="18" type="local_variable_name" span="1063:17:1063:18">e</jtok>
<jtok eid="18" type="class_or_interface_ref" span="1063:22:1063:33">BibtexEntry</jtok>
<jtok eid="18" type="primary_name_ref" span="1063:35:1063:37">it</jtok>
<jtok eid="18" type="method_call" span="1063:38:1063:42">next</jtok>
<jtok eid="18" type="class_or_interface_ref" span="1064:5:1064:20">XMPSchemaBibtex</jtok>
<jtok eid="18" type="local_variable_name" span="1064:21:1064:27">bibtex</jtok>
<jtok eid="18" type="constructor_call" span="1064:34:1064:49">XMPSchemaBibtex</jtok>
<jtok eid="18" type="primary_name_ref" span="1064:50:1064:54">meta</jtok>
<jtok eid="18" type="primary_name_ref" span="1065:5:1065:9">meta</jtok>
<jtok eid="18" type="method_call" span="1065:10:1065:19">addSchema</jtok>
<jtok eid="18" type="primary_name_ref" span="1065:20:1065:26">bibtex</jtok>
<jtok eid="18" type="primary_name_ref" span="1066:5:1066:11">bibtex</jtok>
<jtok eid="18" type="method_call" span="1066:12:1066:26">setBibtexEntry</jtok>
<jtok eid="18" type="primary_name_ref" span="1066:27:1066:28">e</jtok>
<jtok eid="18" type="line_comment" span="1069:4:1069:59">// Save to stream and then input that stream to the PDF</jtok>
<jtok eid="18" type="class_or_interface_ref" span="1070:4:1070:25">ByteArrayOutputStream</jtok>
<jtok eid="18" type="local_variable_name" span="1070:26:1070:28">os</jtok>
<jtok eid="18" type="constructor_call" span="1070:35:1070:56">ByteArrayOutputStream</jtok>
<jtok eid="18" type="primary_name_ref" span="1071:4:1071:8">meta</jtok>
<jtok eid="18" type="method_call" span="1071:9:1071:13">save</jtok>
<jtok eid="18" type="primary_name_ref" span="1071:14:1071:16">os</jtok>
<jtok eid="18" type="class_or_interface_ref" span="1072:4:1072:24">ByteArrayInputStream</jtok>
<jtok eid="18" type="local_variable_name" span="1072:25:1072:27">is</jtok>
<jtok eid="18" type="constructor_call" span="1072:34:1072:54">ByteArrayInputStream</jtok>
<jtok eid="18" type="primary_name_ref" span="1072:55:1072:57">os</jtok>
<jtok eid="18" type="method_call" span="1072:58:1072:69">toByteArray</jtok>
<jtok eid="18" type="class_or_interface_ref" span="1073:4:1073:14">PDMetadata</jtok>
<jtok eid="18" type="local_variable_name" span="1073:15:1073:29">metadataStream</jtok>
<jtok eid="18" type="constructor_call" span="1073:36:1073:46">PDMetadata</jtok>
<jtok eid="18" type="primary_name_ref" span="1073:47:1073:55">document</jtok>
<jtok eid="18" type="primary_name_ref" span="1073:57:1073:59">is</jtok>
<jtok eid="18" type="primary_name_ref" span="1074:4:1074:11">catalog</jtok>
<jtok eid="18" type="method_call" span="1074:12:1074:23">setMetadata</jtok>
<jtok eid="18" type="primary_name_ref" span="1074:24:1074:38">metadataStream</jtok>
<jtok eid="18" type="line_comment" span="1076:4:1076:11">// Save</jtok>
<jtok eid="18" type="primary_name_ref" span="1078:5:1078:13">document</jtok>
<jtok eid="18" type="method_call" span="1078:14:1078:18">save</jtok>
<jtok eid="18" type="primary_name_ref" span="1078:19:1078:23">file</jtok>
<jtok eid="18" type="method_call" span="1078:24:1078:39">getAbsolutePath</jtok>
<jtok eid="18" type="class_or_interface_ref" span="1079:13:1079:32">COSVisitorException</jtok>
<jtok eid="18" type="local_variable_name" span="1079:33:1079:34">e</jtok>
<jtok eid="18" type="constructor_call" span="1080:15:1080:35">TransformerException</jtok>
<jtok eid="18" type="string_literal" span="1080:36:1080:68">"Could not write XMP-metadata: "</jtok>
<jtok eid="18" type="primary_name_ref" span="1081:9:1081:10">e</jtok>
<jtok eid="18" type="method_call" span="1081:11:1081:30">getLocalizedMessage</jtok>
<jtok eid="18" type="primary_name_ref" span="1085:8:1085:16">document</jtok>
<jtok eid="18" type="primary_name_ref" span="1086:5:1086:13">document</jtok>
<jtok eid="18" type="method_call" span="1086:14:1086:19">close</jtok>
<jtok eid="1" type="block_comment" span="1091:2:1095:5">/**
	 * Print usage information for the command line tool xmpUtil.
	 * 
	 * @see XMPUtil#main(String[])
	 */</jtok>
<jtok eid="19" type="method_name" span="1096:24:1096:29">usage</jtok>
<jtok eid="19" type="primary_name_ref" span="1097:3:1097:9">System</jtok>
<jtok eid="19" type="qualified_name_ref" span="1097:10:1097:13">out</jtok>
<jtok eid="19" type="method_call" span="1097:14:1097:21">println</jtok>
<jtok eid="19" type="string_literal" span="1097:22:1097:71">"Read or write XMP-metadata from or to pdf file."</jtok>
<jtok eid="19" type="primary_name_ref" span="1098:3:1098:9">System</jtok>
<jtok eid="19" type="qualified_name_ref" span="1098:10:1098:13">out</jtok>
<jtok eid="19" type="method_call" span="1098:14:1098:21">println</jtok>
<jtok eid="19" type="string_literal" span="1098:22:1098:24">""</jtok>
<jtok eid="19" type="primary_name_ref" span="1099:3:1099:9">System</jtok>
<jtok eid="19" type="qualified_name_ref" span="1099:10:1099:13">out</jtok>
<jtok eid="19" type="method_call" span="1099:14:1099:21">println</jtok>
<jtok eid="19" type="string_literal" span="1099:22:1099:30">"Usage:"</jtok>
<jtok eid="19" type="primary_name_ref" span="1100:3:1100:9">System</jtok>
<jtok eid="19" type="qualified_name_ref" span="1100:10:1100:13">out</jtok>
<jtok eid="19" type="method_call" span="1100:14:1100:21">println</jtok>
<jtok eid="19" type="string_literal" span="1100:22:1100:58">"Read from PDF and print as bibtex:"</jtok>
<jtok eid="19" type="primary_name_ref" span="1101:3:1101:9">System</jtok>
<jtok eid="19" type="qualified_name_ref" span="1101:10:1101:13">out</jtok>
<jtok eid="19" type="method_call" span="1101:14:1101:21">println</jtok>
<jtok eid="19" type="string_literal" span="1101:22:1101:39">"  xmpUtil &lt;pdf&gt;"</jtok>
<jtok eid="19" type="primary_name_ref" span="1102:3:1102:9">System</jtok>
<jtok eid="19" type="qualified_name_ref" span="1102:10:1102:13">out</jtok>
<jtok eid="19" type="method_call" span="1102:14:1102:21">println</jtok>
<jtok eid="19" type="string_literal" span="1102:22:1102:56">"Read from PDF and print raw XMP:"</jtok>
<jtok eid="19" type="primary_name_ref" span="1103:3:1103:9">System</jtok>
<jtok eid="19" type="qualified_name_ref" span="1103:10:1103:13">out</jtok>
<jtok eid="19" type="method_call" span="1103:14:1103:21">println</jtok>
<jtok eid="19" type="string_literal" span="1103:22:1103:42">"  xmpUtil -x &lt;pdf&gt;"</jtok>
<jtok eid="19" type="primary_name_ref" span="1104:3:1104:9">System</jtok>
<jtok eid="19" type="qualified_name_ref" span="1104:10:1104:13">out</jtok>
<jtok eid="19" type="method_call" span="1105:6:1105:13">println</jtok>
<jtok eid="19" type="string_literal" span="1105:14:1105:67">"Write the entry in &lt;bib&gt; given by &lt;key&gt; to the PDF:"</jtok>
<jtok eid="19" type="primary_name_ref" span="1106:3:1106:9">System</jtok>
<jtok eid="19" type="qualified_name_ref" span="1106:10:1106:13">out</jtok>
<jtok eid="19" type="method_call" span="1106:14:1106:21">println</jtok>
<jtok eid="19" type="string_literal" span="1106:22:1106:51">"  xmpUtil &lt;key&gt; &lt;bib&gt; &lt;pdf&gt;"</jtok>
<jtok eid="19" type="primary_name_ref" span="1107:3:1107:9">System</jtok>
<jtok eid="19" type="qualified_name_ref" span="1107:10:1107:13">out</jtok>
<jtok eid="19" type="method_call" span="1107:14:1107:21">println</jtok>
<jtok eid="19" type="string_literal" span="1107:22:1107:62">"Write all entries in &lt;bib&gt; to the PDF:"</jtok>
<jtok eid="19" type="primary_name_ref" span="1108:3:1108:9">System</jtok>
<jtok eid="19" type="qualified_name_ref" span="1108:10:1108:13">out</jtok>
<jtok eid="19" type="method_call" span="1108:14:1108:21">println</jtok>
<jtok eid="19" type="string_literal" span="1108:22:1108:45">"  xmpUtil &lt;bib&gt; &lt;pdf&gt;"</jtok>
<jtok eid="19" type="primary_name_ref" span="1109:3:1109:9">System</jtok>
<jtok eid="19" type="qualified_name_ref" span="1109:10:1109:13">out</jtok>
<jtok eid="19" type="method_call" span="1109:14:1109:21">println</jtok>
<jtok eid="19" type="string_literal" span="1109:22:1109:24">""</jtok>
<jtok eid="19" type="primary_name_ref" span="1110:3:1110:9">System</jtok>
<jtok eid="19" type="qualified_name_ref" span="1110:10:1110:13">out</jtok>
<jtok eid="19" type="method_call" span="1111:6:1111:13">println</jtok>
<jtok eid="19" type="string_literal" span="1111:14:1111:66">"To report bugs visit http://jabref.sourceforge.net"</jtok>
<jtok eid="1" type="block_comment" span="1114:2:1137:5">/**
	 * Command-line tool for working with XMP-data.
	 * 
	 * Read or write XMP-metadata from or to pdf file.
	 * 
	 * Usage:
	 * &lt;dl&gt;
	 * &lt;dd&gt;Read from PDF and print as bibtex:&lt;/dd&gt;
	 * &lt;dt&gt;xmpUtil PDF&lt;/dt&gt;
	 * &lt;dd&gt;Read from PDF and print raw XMP:&lt;/dd&gt;
	 * &lt;dt&gt;xmpUtil -x PDF&lt;/dt&gt;
	 * &lt;dd&gt;Write the entry in BIB given by KEY to the PDF:&lt;/dd&gt;
	 * &lt;dt&gt;xmpUtil KEY BIB PDF&lt;/dt&gt;
	 * &lt;dd&gt;Write all entries in BIB to the PDF:&lt;/dd&gt;
	 * &lt;dt&gt;xmpUtil BIB PDF&lt;/dt&gt;
	 * &lt;/dl&gt;
	 * 
	 * @param args
	 *            Command line strings passed to utility.
	 * @throws IOException
	 *             If any of the given files could not be read or written.
	 * @throws TransformerException
	 *             If the given BibtexEntry is malformed.
	 */</jtok>
<jtok eid="20" type="method_name" span="1138:21:1138:25">main</jtok>
<jtok eid="20" type="parameter_type" span="1138:26:1138:32">String</jtok>
<jtok eid="20" type="parameter_name" span="1138:35:1138:39">args</jtok>
<jtok eid="20" type="throws" span="1138:48:1138:59">IOException</jtok>
<jtok eid="20" type="throws" span="1139:4:1139:24">TransformerException</jtok>
<jtok eid="20" type="line_comment" span="1141:3:1141:48">// Don't forget to initialize the preferences</jtok>
<jtok eid="20" type="primary_name_ref" span="1142:7:1142:14">Globals</jtok>
<jtok eid="20" type="qualified_name_ref" span="1142:15:1142:20">prefs</jtok>
<jtok eid="20" type="primary_name_ref" span="1143:4:1143:11">Globals</jtok>
<jtok eid="20" type="qualified_name_ref" span="1143:12:1143:17">prefs</jtok>
<jtok eid="20" type="primary_name_ref" span="1143:20:1143:37">JabRefPreferences</jtok>
<jtok eid="20" type="method_call" span="1143:38:1143:49">getInstance</jtok>
<jtok eid="20" type="primary_name_ref" span="1146:11:1146:15">args</jtok>
<jtok eid="20" type="qualified_name_ref" span="1146:16:1146:22">length</jtok>
<jtok eid="20" type="method_call" span="1148:4:1148:9">usage</jtok>
<jtok eid="20" type="primary_name_ref" span="1152:8:1152:12">args</jtok>
<jtok eid="20" type="method_call" span="1152:16:1152:24">endsWith</jtok>
<jtok eid="20" type="string_literal" span="1152:25:1152:31">".pdf"</jtok>
<jtok eid="20" type="line_comment" span="1153:5:1153:41">// Read from pdf and write as BibTex</jtok>
<jtok eid="20" type="class_or_interface_ref" span="1154:5:1154:9">List</jtok>
<jtok eid="20" type="class_or_interface_ref" span="1154:10:1154:21">BibtexEntry</jtok>
<jtok eid="20" type="local_variable_name" span="1154:23:1154:24">l</jtok>
<jtok eid="20" type="primary_name_ref" span="1154:27:1154:34">XMPUtil</jtok>
<jtok eid="20" type="method_call" span="1154:35:1154:42">readXMP</jtok>
<jtok eid="20" type="constructor_call" span="1154:47:1154:51">File</jtok>
<jtok eid="20" type="primary_name_ref" span="1154:52:1154:56">args</jtok>
<jtok eid="20" type="class_or_interface_ref" span="1156:5:1156:13">Iterator</jtok>
<jtok eid="20" type="class_or_interface_ref" span="1156:14:1156:25">BibtexEntry</jtok>
<jtok eid="20" type="local_variable_name" span="1156:27:1156:29">it</jtok>
<jtok eid="20" type="primary_name_ref" span="1156:32:1156:33">l</jtok>
<jtok eid="20" type="method_call" span="1156:34:1156:42">iterator</jtok>
<jtok eid="20" type="primary_name_ref" span="1157:12:1157:14">it</jtok>
<jtok eid="20" type="method_call" span="1157:15:1157:22">hasNext</jtok>
<jtok eid="20" type="class_or_interface_ref" span="1158:6:1158:17">BibtexEntry</jtok>
<jtok eid="20" type="local_variable_name" span="1158:18:1158:19">e</jtok>
<jtok eid="20" type="primary_name_ref" span="1158:22:1158:24">it</jtok>
<jtok eid="20" type="method_call" span="1158:25:1158:29">next</jtok>
<jtok eid="20" type="class_or_interface_ref" span="1159:6:1159:18">StringWriter</jtok>
<jtok eid="20" type="local_variable_name" span="1159:19:1159:21">sw</jtok>
<jtok eid="20" type="constructor_call" span="1159:28:1159:40">StringWriter</jtok>
<jtok eid="20" type="primary_name_ref" span="1160:6:1160:7">e</jtok>
<jtok eid="20" type="method_call" span="1160:8:1160:13">write</jtok>
<jtok eid="20" type="primary_name_ref" span="1160:14:1160:16">sw</jtok>
<jtok eid="20" type="constructor_call" span="1160:22:1160:25">net</jtok>
<jtok eid="20" type="constructor_call" span="1160:26:1160:28">sf</jtok>
<jtok eid="20" type="constructor_call" span="1160:29:1160:35">jabref</jtok>
<jtok eid="20" type="constructor_call" span="1160:36:1160:42">export</jtok>
<jtok eid="20" type="constructor_call" span="1160:43:1160:62">LatexFieldFormatter</jtok>
<jtok eid="20" type="primary_name_ref" span="1162:6:1162:12">System</jtok>
<jtok eid="20" type="qualified_name_ref" span="1162:13:1162:16">out</jtok>
<jtok eid="20" type="method_call" span="1162:17:1162:24">println</jtok>
<jtok eid="20" type="primary_name_ref" span="1162:25:1162:27">sw</jtok>
<jtok eid="20" type="method_call" span="1162:28:1162:37">getBuffer</jtok>
<jtok eid="20" type="method_call" span="1162:40:1162:48">toString</jtok>
<jtok eid="20" type="primary_name_ref" span="1165:15:1165:19">args</jtok>
<jtok eid="20" type="method_call" span="1165:23:1165:31">endsWith</jtok>
<jtok eid="20" type="string_literal" span="1165:32:1165:38">".bib"</jtok>
<jtok eid="20" type="line_comment" span="1166:5:1166:38">// Read from bib and write as XMP</jtok>
<jtok eid="20" type="class_or_interface_ref" span="1168:5:1168:17">ParserResult</jtok>
<jtok eid="20" type="local_variable_name" span="1168:18:1168:24">result</jtok>
<jtok eid="20" type="primary_name_ref" span="1168:27:1168:39">BibtexParser</jtok>
<jtok eid="20" type="method_call" span="1169:8:1169:13">parse</jtok>
<jtok eid="20" type="constructor_call" span="1169:18:1169:28">FileReader</jtok>
<jtok eid="20" type="primary_name_ref" span="1169:29:1169:33">args</jtok>
<jtok eid="20" type="class_or_interface_ref" span="1170:5:1170:15">Collection</jtok>
<jtok eid="20" type="class_or_interface_ref" span="1170:16:1170:27">BibtexEntry</jtok>
<jtok eid="20" type="local_variable_name" span="1170:29:1170:36">entries</jtok>
<jtok eid="20" type="primary_name_ref" span="1170:39:1170:45">result</jtok>
<jtok eid="20" type="method_call" span="1170:46:1170:57">getDatabase</jtok>
<jtok eid="20" type="method_call" span="1171:8:1171:18">getEntries</jtok>
<jtok eid="20" type="primary_name_ref" span="1173:9:1173:16">entries</jtok>
<jtok eid="20" type="method_call" span="1173:17:1173:21">size</jtok>
<jtok eid="20" type="primary_name_ref" span="1174:6:1174:12">System</jtok>
<jtok eid="20" type="qualified_name_ref" span="1174:13:1174:16">err</jtok>
<jtok eid="20" type="method_call" span="1174:17:1174:24">println</jtok>
<jtok eid="20" type="string_literal" span="1174:25:1174:57">"Could not find BibtexEntry in "</jtok>
<jtok eid="20" type="primary_name_ref" span="1175:10:1175:14">args</jtok>
<jtok eid="20" type="primary_name_ref" span="1177:6:1177:12">System</jtok>
<jtok eid="20" type="qualified_name_ref" span="1177:13:1177:16">out</jtok>
<jtok eid="20" type="method_call" span="1177:17:1177:24">println</jtok>
<jtok eid="20" type="primary_name_ref" span="1177:25:1177:32">XMPUtil</jtok>
<jtok eid="20" type="method_call" span="1177:33:1177:38">toXMP</jtok>
<jtok eid="20" type="primary_name_ref" span="1177:39:1177:46">entries</jtok>
<jtok eid="20" type="primary_name_ref" span="1177:48:1177:54">result</jtok>
<jtok eid="20" type="method_call" span="1178:9:1178:20">getDatabase</jtok>
<jtok eid="20" type="method_call" span="1182:5:1182:10">usage</jtok>
<jtok eid="20" type="primary_name_ref" span="1187:8:1187:12">args</jtok>
<jtok eid="20" type="method_call" span="1187:16:1187:22">equals</jtok>
<jtok eid="20" type="string_literal" span="1187:23:1187:27">"-x"</jtok>
<jtok eid="20" type="primary_name_ref" span="1187:32:1187:36">args</jtok>
<jtok eid="20" type="method_call" span="1187:40:1187:48">endsWith</jtok>
<jtok eid="20" type="string_literal" span="1187:49:1187:55">".pdf"</jtok>
<jtok eid="20" type="line_comment" span="1188:5:1188:41">// Read from pdf and write as BibTex</jtok>
<jtok eid="20" type="class_or_interface_ref" span="1189:5:1189:16">XMPMetadata</jtok>
<jtok eid="20" type="local_variable_name" span="1189:17:1189:21">meta</jtok>
<jtok eid="20" type="primary_name_ref" span="1189:24:1189:31">XMPUtil</jtok>
<jtok eid="20" type="method_call" span="1189:32:1189:42">readRawXMP</jtok>
<jtok eid="20" type="constructor_call" span="1189:47:1189:51">File</jtok>
<jtok eid="20" type="primary_name_ref" span="1189:52:1189:56">args</jtok>
<jtok eid="20" type="primary_name_ref" span="1191:9:1191:13">meta</jtok>
<jtok eid="20" type="primary_name_ref" span="1192:6:1192:12">System</jtok>
<jtok eid="20" type="qualified_name_ref" span="1192:13:1192:16">err</jtok>
<jtok eid="20" type="method_call" span="1193:9:1193:16">println</jtok>
<jtok eid="20" type="string_literal" span="1193:17:1193:67">"The given pdf does not contain any XMP-metadata."</jtok>
<jtok eid="20" type="primary_name_ref" span="1195:6:1195:13">XMLUtil</jtok>
<jtok eid="20" type="method_call" span="1195:14:1195:18">save</jtok>
<jtok eid="20" type="primary_name_ref" span="1195:19:1195:23">meta</jtok>
<jtok eid="20" type="method_call" span="1195:24:1195:38">getXMPDocument</jtok>
<jtok eid="20" type="primary_name_ref" span="1195:42:1195:48">System</jtok>
<jtok eid="20" type="qualified_name_ref" span="1195:49:1195:52">out</jtok>
<jtok eid="20" type="string_literal" span="1195:54:1195:61">"UTF-8"</jtok>
<jtok eid="20" type="primary_name_ref" span="1200:8:1200:12">args</jtok>
<jtok eid="20" type="method_call" span="1200:16:1200:24">endsWith</jtok>
<jtok eid="20" type="string_literal" span="1200:25:1200:31">".bib"</jtok>
<jtok eid="20" type="primary_name_ref" span="1200:36:1200:40">args</jtok>
<jtok eid="20" type="method_call" span="1200:44:1200:52">endsWith</jtok>
<jtok eid="20" type="string_literal" span="1200:53:1200:59">".pdf"</jtok>
<jtok eid="20" type="class_or_interface_ref" span="1201:5:1201:17">ParserResult</jtok>
<jtok eid="20" type="local_variable_name" span="1201:18:1201:24">result</jtok>
<jtok eid="20" type="primary_name_ref" span="1201:27:1201:39">BibtexParser</jtok>
<jtok eid="20" type="method_call" span="1202:8:1202:13">parse</jtok>
<jtok eid="20" type="constructor_call" span="1202:18:1202:28">FileReader</jtok>
<jtok eid="20" type="primary_name_ref" span="1202:29:1202:33">args</jtok>
<jtok eid="20" type="class_or_interface_ref" span="1204:5:1204:15">Collection</jtok>
<jtok eid="20" type="class_or_interface_ref" span="1204:16:1204:27">BibtexEntry</jtok>
<jtok eid="20" type="local_variable_name" span="1204:29:1204:36">entries</jtok>
<jtok eid="20" type="primary_name_ref" span="1204:39:1204:45">result</jtok>
<jtok eid="20" type="method_call" span="1204:46:1204:57">getDatabase</jtok>
<jtok eid="20" type="method_call" span="1205:8:1205:18">getEntries</jtok>
<jtok eid="20" type="primary_name_ref" span="1207:9:1207:16">entries</jtok>
<jtok eid="20" type="method_call" span="1207:17:1207:21">size</jtok>
<jtok eid="20" type="primary_name_ref" span="1208:6:1208:12">System</jtok>
<jtok eid="20" type="qualified_name_ref" span="1208:13:1208:16">err</jtok>
<jtok eid="20" type="method_call" span="1208:17:1208:24">println</jtok>
<jtok eid="20" type="string_literal" span="1208:25:1208:57">"Could not find BibtexEntry in "</jtok>
<jtok eid="20" type="primary_name_ref" span="1209:10:1209:14">args</jtok>
<jtok eid="20" type="primary_name_ref" span="1211:6:1211:13">XMPUtil</jtok>
<jtok eid="20" type="method_call" span="1211:14:1211:22">writeXMP</jtok>
<jtok eid="20" type="constructor_call" span="1211:27:1211:31">File</jtok>
<jtok eid="20" type="primary_name_ref" span="1211:32:1211:36">args</jtok>
<jtok eid="20" type="primary_name_ref" span="1211:42:1211:49">entries</jtok>
<jtok eid="20" type="primary_name_ref" span="1211:51:1211:57">result</jtok>
<jtok eid="20" type="method_call" span="1212:9:1212:20">getDatabase</jtok>
<jtok eid="20" type="primary_name_ref" span="1213:6:1213:12">System</jtok>
<jtok eid="20" type="qualified_name_ref" span="1213:13:1213:16">out</jtok>
<jtok eid="20" type="method_call" span="1213:17:1213:24">println</jtok>
<jtok eid="20" type="string_literal" span="1213:25:1213:39">"XMP written."</jtok>
<jtok eid="20" type="method_call" span="1218:4:1218:9">usage</jtok>
<jtok eid="20" type="primary_name_ref" span="1222:9:1222:13">args</jtok>
<jtok eid="20" type="method_call" span="1222:17:1222:25">endsWith</jtok>
<jtok eid="20" type="string_literal" span="1222:26:1222:32">".bib"</jtok>
<jtok eid="20" type="primary_name_ref" span="1222:38:1222:42">args</jtok>
<jtok eid="20" type="method_call" span="1222:46:1222:54">endsWith</jtok>
<jtok eid="20" type="string_literal" span="1222:55:1222:61">".pdf"</jtok>
<jtok eid="20" type="method_call" span="1223:5:1223:10">usage</jtok>
<jtok eid="20" type="class_or_interface_ref" span="1227:4:1227:16">ParserResult</jtok>
<jtok eid="20" type="local_variable_name" span="1227:17:1227:23">result</jtok>
<jtok eid="20" type="primary_name_ref" span="1227:26:1227:38">BibtexParser</jtok>
<jtok eid="20" type="method_call" span="1227:39:1227:44">parse</jtok>
<jtok eid="20" type="constructor_call" span="1227:49:1227:59">FileReader</jtok>
<jtok eid="20" type="primary_name_ref" span="1227:60:1227:64">args</jtok>
<jtok eid="20" type="class_or_interface_ref" span="1229:4:1229:15">BibtexEntry</jtok>
<jtok eid="20" type="local_variable_name" span="1229:16:1229:17">e</jtok>
<jtok eid="20" type="primary_name_ref" span="1229:20:1229:26">result</jtok>
<jtok eid="20" type="method_call" span="1229:27:1229:38">getDatabase</jtok>
<jtok eid="20" type="method_call" span="1229:41:1229:54">getEntryByKey</jtok>
<jtok eid="20" type="primary_name_ref" span="1229:55:1229:59">args</jtok>
<jtok eid="20" type="primary_name_ref" span="1231:8:1231:9">e</jtok>
<jtok eid="20" type="primary_name_ref" span="1232:5:1232:11">System</jtok>
<jtok eid="20" type="qualified_name_ref" span="1232:12:1232:15">err</jtok>
<jtok eid="20" type="method_call" span="1232:16:1232:23">println</jtok>
<jtok eid="20" type="string_literal" span="1232:24:1232:53">"Could not find BibtexEntry "</jtok>
<jtok eid="20" type="primary_name_ref" span="1232:56:1232:60">args</jtok>
<jtok eid="20" type="string_literal" span="1233:9:1233:15">" in "</jtok>
<jtok eid="20" type="primary_name_ref" span="1233:18:1233:22">args</jtok>
<jtok eid="20" type="primary_name_ref" span="1235:5:1235:12">XMPUtil</jtok>
<jtok eid="20" type="method_call" span="1235:13:1235:21">writeXMP</jtok>
<jtok eid="20" type="constructor_call" span="1235:26:1235:30">File</jtok>
<jtok eid="20" type="primary_name_ref" span="1235:31:1235:35">args</jtok>
<jtok eid="20" type="primary_name_ref" span="1235:41:1235:42">e</jtok>
<jtok eid="20" type="primary_name_ref" span="1235:44:1235:50">result</jtok>
<jtok eid="20" type="method_call" span="1235:51:1235:62">getDatabase</jtok>
<jtok eid="20" type="primary_name_ref" span="1237:5:1237:11">System</jtok>
<jtok eid="20" type="qualified_name_ref" span="1237:12:1237:15">out</jtok>
<jtok eid="20" type="method_call" span="1237:16:1237:23">println</jtok>
<jtok eid="20" type="string_literal" span="1237:24:1237:38">"XMP written."</jtok>
<jtok eid="20" type="method_call" span="1243:4:1243:9">usage</jtok>
<jtok eid="1" type="block_comment" span="1247:2:1257:5">/**
	 * Will try to read XMP metadata from the given file, returning whether
	 * metadata was found.
	 * 
	 * Caution: This method is as expensive as it is reading the actual metadata
	 * itself from the PDF.
	 * 
	 * @param is
	 *            The inputstream to read the PDF from.
	 * @return whether a BibtexEntry was found in the given PDF.
	 */</jtok>
<jtok eid="21" type="method_name" span="1258:24:1258:35">hasMetadata</jtok>
<jtok eid="21" type="parameter_type" span="1258:36:1258:47">InputStream</jtok>
<jtok eid="21" type="parameter_name" span="1258:48:1258:50">is</jtok>
<jtok eid="21" type="class_or_interface_ref" span="1260:4:1260:8">List</jtok>
<jtok eid="21" type="class_or_interface_ref" span="1260:9:1260:20">BibtexEntry</jtok>
<jtok eid="21" type="local_variable_name" span="1260:22:1260:23">l</jtok>
<jtok eid="21" type="primary_name_ref" span="1260:26:1260:33">XMPUtil</jtok>
<jtok eid="21" type="method_call" span="1260:34:1260:41">readXMP</jtok>
<jtok eid="21" type="primary_name_ref" span="1260:42:1260:44">is</jtok>
<jtok eid="21" type="primary_name_ref" span="1261:11:1261:12">l</jtok>
<jtok eid="21" type="method_call" span="1261:13:1261:17">size</jtok>
<jtok eid="21" type="class_or_interface_ref" span="1262:12:1262:21">Exception</jtok>
<jtok eid="21" type="local_variable_name" span="1262:22:1262:23">e</jtok>
</jdoc>