<?xml version="1.0" encoding="utf-8"?>
<jdoc cUnit="org.gjt.sp.jedit.bufferio.BufferLoadRequest" jls="java5">
<jent id="0" type="file" span="0:0:394:2">Source/jEdit/org/gjt/sp/jedit/bufferio/BufferLoadRequest.java</jent>
<jent id="1" pid="0" type="class" span="44:1:394:1">org.gjt.sp.jedit.bufferio.BufferLoadRequest</jent>
<jent id="2" pid="1" type="method" span="55:2:59:2">org.gjt.sp.jedit.bufferio.BufferLoadRequest.BufferLoadRequest(View,Buffer,Object,VFS,String)</jent>
<jent id="3" pid="1" type="method" span="62:2:142:2">org.gjt.sp.jedit.bufferio.BufferLoadRequest.run()</jent>
<jent id="4" pid="1" type="method" span="149:2:157:2">org.gjt.sp.jedit.bufferio.BufferLoadRequest.getNakedStream()</jent>
<jent id="5" pid="1" type="method" span="163:2:170:2">org.gjt.sp.jedit.bufferio.BufferLoadRequest.getContentLength()</jent>
<jent id="6" pid="1" type="method" span="179:2:211:2">org.gjt.sp.jedit.bufferio.BufferLoadRequest.rewindContentsStream(BufferedInputStream,boolean)</jent>
<jent id="7" pid="1" type="method" span="222:2:356:2">org.gjt.sp.jedit.bufferio.BufferLoadRequest.readContents()</jent>
<jent id="8" pid="1" type="method" span="359:2:393:2">org.gjt.sp.jedit.bufferio.BufferLoadRequest.readMarkers(Buffer,InputStream)</jent>
<jtok eid="0" type="block_comment" span="1:1:21:4">/*
 * BufferLoadRequest.java - I/O request
 * :tabSize=8:indentSize=8:noTabs=false:
 * :folding=explicit:collapseFolds=1:
 *
 * Copyright (C) 2000, 2005 Slava Pestov
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License
 * as published by the Free Software Foundation; either version 2
 * of the License, or any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
 */</jtok>
<jtok eid="0" type="line_comment" span="25:1:25:14">//{{{ Imports</jtok>
<jtok eid="0" type="line_comment" span="37:1:37:6">//}}}</jtok>
<jtok eid="0" type="block_comment" span="39:1:43:4">/**
 * A buffer load request.
 * @author Slava Pestov
 * @version $Id: BufferLoadRequest.java 12504 2008-04-22 23:12:43Z ezust $
 */</jtok>
<jtok eid="1" type="class_name" span="44:14:44:31">BufferLoadRequest</jtok>
<jtok eid="1" type="class_or_interface_ref" span="44:40:44:55">BufferIORequest</jtok>
<jtok eid="1" type="line_comment" span="46:2:46:37">//{{{ BufferLoadRequest constructor</jtok>
<jtok eid="1" type="block_comment" span="47:2:54:5">/**
	 * Creates a new buffer I/O request.
	 * @param view The view
	 * @param buffer The buffer
	 * @param session The VFS session
	 * @param vfs The VFS
	 * @param path The path
	 */</jtok>
<jtok eid="2" type="method_name" span="55:9:55:26">BufferLoadRequest</jtok>
<jtok eid="2" type="parameter_type" span="55:27:55:31">View</jtok>
<jtok eid="2" type="parameter_name" span="55:32:55:36">view</jtok>
<jtok eid="2" type="parameter_type" span="55:38:55:44">Buffer</jtok>
<jtok eid="2" type="parameter_name" span="55:45:55:51">buffer</jtok>
<jtok eid="2" type="parameter_type" span="56:3:56:9">Object</jtok>
<jtok eid="2" type="parameter_name" span="56:10:56:17">session</jtok>
<jtok eid="2" type="parameter_type" span="56:19:56:22">VFS</jtok>
<jtok eid="2" type="parameter_name" span="56:23:56:26">vfs</jtok>
<jtok eid="2" type="parameter_type" span="56:28:56:34">String</jtok>
<jtok eid="2" type="parameter_name" span="56:35:56:39">path</jtok>
<jtok eid="2" type="primary_name_ref" span="58:9:58:13">view</jtok>
<jtok eid="2" type="primary_name_ref" span="58:14:58:20">buffer</jtok>
<jtok eid="2" type="primary_name_ref" span="58:21:58:28">session</jtok>
<jtok eid="2" type="primary_name_ref" span="58:29:58:32">vfs</jtok>
<jtok eid="2" type="primary_name_ref" span="58:33:58:37">path</jtok>
<jtok eid="1" type="line_comment" span="59:4:59:9">//}}}</jtok>
<jtok eid="1" type="line_comment" span="61:2:61:20">//{{{ run() method</jtok>
<jtok eid="3" type="method_name" span="62:14:62:17">run</jtok>
<jtok eid="3" type="method_call" span="66:4:66:16">setAbortable</jtok>
<jtok eid="3" type="primary_name_ref" span="67:8:67:14">buffer</jtok>
<jtok eid="3" type="method_call" span="67:15:67:26">isTemporary</jtok>
<jtok eid="3" type="class_or_interface_ref" span="69:5:69:11">String</jtok>
<jtok eid="3" type="local_variable_name" span="69:14:69:18">args</jtok>
<jtok eid="3" type="primary_name_ref" span="69:23:69:26">vfs</jtok>
<jtok eid="3" type="method_call" span="69:27:69:38">getFileName</jtok>
<jtok eid="3" type="primary_name_ref" span="69:39:69:43">path</jtok>
<jtok eid="3" type="method_call" span="70:5:70:14">setStatus</jtok>
<jtok eid="3" type="primary_name_ref" span="70:15:70:20">jEdit</jtok>
<jtok eid="3" type="method_call" span="70:21:70:32">getProperty</jtok>
<jtok eid="3" type="string_literal" span="70:33:70:50">"vfs.status.load"</jtok>
<jtok eid="3" type="primary_name_ref" span="70:51:70:55">args</jtok>
<jtok eid="3" type="method_call" span="71:5:71:13">setValue</jtok>
<jtok eid="3" type="primary_name_ref" span="74:4:74:8">path</jtok>
<jtok eid="3" type="primary_name_ref" span="74:11:74:14">vfs</jtok>
<jtok eid="3" type="method_call" span="74:15:74:25">_canonPath</jtok>
<jtok eid="3" type="primary_name_ref" span="74:26:74:33">session</jtok>
<jtok eid="3" type="primary_name_ref" span="74:34:74:38">path</jtok>
<jtok eid="3" type="primary_name_ref" span="74:39:74:43">view</jtok>
<jtok eid="3" type="method_call" span="76:4:76:16">readContents</jtok>
<jtok eid="3" type="primary_name_ref" span="77:4:77:10">buffer</jtok>
<jtok eid="3" type="method_call" span="77:11:77:21">setNewFile</jtok>
<jtok eid="3" type="primary_name_ref" span="79:8:79:13">jEdit</jtok>
<jtok eid="3" type="method_call" span="79:14:79:32">getBooleanProperty</jtok>
<jtok eid="3" type="string_literal" span="79:33:79:52">"persistentMarkers"</jtok>
<jtok eid="3" type="primary_name_ref" span="80:9:80:12">vfs</jtok>
<jtok eid="3" type="method_call" span="80:13:80:35">isMarkersFileSupported</jtok>
<jtok eid="3" type="class_or_interface_ref" span="82:5:82:16">InputStream</jtok>
<jtok eid="3" type="local_variable_name" span="82:17:82:24">markers</jtok>
<jtok eid="3" type="class_or_interface_ref" span="85:6:85:12">String</jtok>
<jtok eid="3" type="local_variable_name" span="85:15:85:19">args</jtok>
<jtok eid="3" type="primary_name_ref" span="85:24:85:27">vfs</jtok>
<jtok eid="3" type="method_call" span="85:28:85:39">getFileName</jtok>
<jtok eid="3" type="primary_name_ref" span="85:40:85:44">path</jtok>
<jtok eid="3" type="primary_name_ref" span="86:10:86:16">buffer</jtok>
<jtok eid="3" type="method_call" span="86:17:86:28">isTemporary</jtok>
<jtok eid="3" type="method_call" span="87:7:87:16">setStatus</jtok>
<jtok eid="3" type="primary_name_ref" span="87:17:87:22">jEdit</jtok>
<jtok eid="3" type="method_call" span="87:23:87:34">getProperty</jtok>
<jtok eid="3" type="string_literal" span="87:35:87:60">"vfs.status.load-markers"</jtok>
<jtok eid="3" type="primary_name_ref" span="87:61:87:65">args</jtok>
<jtok eid="3" type="method_call" span="88:6:88:18">setAbortable</jtok>
<jtok eid="3" type="primary_name_ref" span="90:6:90:13">markers</jtok>
<jtok eid="3" type="primary_name_ref" span="90:16:90:19">vfs</jtok>
<jtok eid="3" type="method_call" span="90:20:90:38">_createInputStream</jtok>
<jtok eid="3" type="primary_name_ref" span="90:39:90:46">session</jtok>
<jtok eid="3" type="primary_name_ref" span="90:47:90:58">markersPath</jtok>
<jtok eid="3" type="primary_name_ref" span="90:64:90:68">view</jtok>
<jtok eid="3" type="primary_name_ref" span="91:9:91:16">markers</jtok>
<jtok eid="3" type="method_call" span="92:7:92:18">readMarkers</jtok>
<jtok eid="3" type="primary_name_ref" span="92:19:92:25">buffer</jtok>
<jtok eid="3" type="primary_name_ref" span="92:26:92:33">markers</jtok>
<jtok eid="3" type="class_or_interface_ref" span="94:11:94:20">Exception</jtok>
<jtok eid="3" type="local_variable_name" span="94:21:94:22">e</jtok>
<jtok eid="3" type="line_comment" span="96:6:96:15">// ignore</jtok>
<jtok eid="3" type="primary_name_ref" span="100:6:100:17">IOUtilities</jtok>
<jtok eid="3" type="method_call" span="100:18:100:30">closeQuietly</jtok>
<jtok eid="3" type="primary_name_ref" span="100:31:100:38">markers</jtok>
<jtok eid="3" type="class_or_interface_ref" span="104:9:104:18">Exception</jtok>
<jtok eid="3" type="local_variable_name" span="104:19:104:20">e</jtok>
<jtok eid="3" type="primary_name_ref" span="106:4:106:7">Log</jtok>
<jtok eid="3" type="method_call" span="106:8:106:11">log</jtok>
<jtok eid="3" type="primary_name_ref" span="106:12:106:15">Log</jtok>
<jtok eid="3" type="qualified_name_ref" span="106:16:106:21">ERROR</jtok>
<jtok eid="3" type="primary_name_ref" span="106:27:106:28">e</jtok>
<jtok eid="3" type="class_or_interface_ref" span="107:4:107:10">Object</jtok>
<jtok eid="3" type="local_variable_name" span="107:13:107:15">pp</jtok>
<jtok eid="3" type="primary_name_ref" span="107:20:107:21">e</jtok>
<jtok eid="3" type="method_call" span="107:22:107:30">toString</jtok>
<jtok eid="3" type="primary_name_ref" span="108:4:108:14">VFSManager</jtok>
<jtok eid="3" type="method_call" span="108:15:108:20">error</jtok>
<jtok eid="3" type="primary_name_ref" span="108:21:108:25">view</jtok>
<jtok eid="3" type="primary_name_ref" span="108:26:108:30">path</jtok>
<jtok eid="3" type="string_literal" span="108:31:108:51">"ioerror.read-error"</jtok>
<jtok eid="3" type="primary_name_ref" span="108:52:108:54">pp</jtok>
<jtok eid="3" type="primary_name_ref" span="110:4:110:10">buffer</jtok>
<jtok eid="3" type="method_call" span="110:11:110:29">setBooleanProperty</jtok>
<jtok eid="3" type="primary_name_ref" span="110:30:110:44">ERROR_OCCURRED</jtok>
<jtok eid="3" type="class_or_interface_ref" span="112:9:112:25">OutOfMemoryError</jtok>
<jtok eid="3" type="local_variable_name" span="112:26:112:29">oom</jtok>
<jtok eid="3" type="primary_name_ref" span="114:4:114:7">Log</jtok>
<jtok eid="3" type="method_call" span="114:8:114:11">log</jtok>
<jtok eid="3" type="primary_name_ref" span="114:12:114:15">Log</jtok>
<jtok eid="3" type="qualified_name_ref" span="114:16:114:21">ERROR</jtok>
<jtok eid="3" type="primary_name_ref" span="114:27:114:30">oom</jtok>
<jtok eid="3" type="primary_name_ref" span="115:4:115:14">VFSManager</jtok>
<jtok eid="3" type="method_call" span="115:15:115:20">error</jtok>
<jtok eid="3" type="primary_name_ref" span="115:21:115:25">view</jtok>
<jtok eid="3" type="primary_name_ref" span="115:26:115:30">path</jtok>
<jtok eid="3" type="string_literal" span="115:31:115:52">"out-of-memory-error"</jtok>
<jtok eid="3" type="primary_name_ref" span="117:4:117:10">buffer</jtok>
<jtok eid="3" type="method_call" span="117:11:117:29">setBooleanProperty</jtok>
<jtok eid="3" type="primary_name_ref" span="117:30:117:44">ERROR_OCCURRED</jtok>
<jtok eid="3" type="class_or_interface_ref" span="119:9:119:19">WorkThread</jtok>
<jtok eid="3" type="class_or_interface_ref" span="119:20:119:25">Abort</jtok>
<jtok eid="3" type="local_variable_name" span="119:26:119:27">a</jtok>
<jtok eid="3" type="primary_name_ref" span="121:4:121:10">buffer</jtok>
<jtok eid="3" type="method_call" span="121:11:121:29">setBooleanProperty</jtok>
<jtok eid="3" type="primary_name_ref" span="121:30:121:44">ERROR_OCCURRED</jtok>
<jtok eid="3" type="primary_name_ref" span="127:5:127:8">vfs</jtok>
<jtok eid="3" type="method_call" span="127:9:127:23">_endVFSSession</jtok>
<jtok eid="3" type="primary_name_ref" span="127:24:127:31">session</jtok>
<jtok eid="3" type="primary_name_ref" span="127:32:127:36">view</jtok>
<jtok eid="3" type="class_or_interface_ref" span="129:10:129:19">Exception</jtok>
<jtok eid="3" type="local_variable_name" span="129:20:129:21">e</jtok>
<jtok eid="3" type="primary_name_ref" span="131:5:131:8">Log</jtok>
<jtok eid="3" type="method_call" span="131:9:131:12">log</jtok>
<jtok eid="3" type="primary_name_ref" span="131:13:131:16">Log</jtok>
<jtok eid="3" type="qualified_name_ref" span="131:17:131:22">ERROR</jtok>
<jtok eid="3" type="primary_name_ref" span="131:28:131:29">e</jtok>
<jtok eid="3" type="class_or_interface_ref" span="132:5:132:11">String</jtok>
<jtok eid="3" type="local_variable_name" span="132:14:132:16">pp</jtok>
<jtok eid="3" type="primary_name_ref" span="132:21:132:22">e</jtok>
<jtok eid="3" type="method_call" span="132:23:132:31">toString</jtok>
<jtok eid="3" type="primary_name_ref" span="133:5:133:15">VFSManager</jtok>
<jtok eid="3" type="method_call" span="133:16:133:21">error</jtok>
<jtok eid="3" type="primary_name_ref" span="133:22:133:26">view</jtok>
<jtok eid="3" type="primary_name_ref" span="133:27:133:31">path</jtok>
<jtok eid="3" type="string_literal" span="133:32:133:52">"ioerror.read-error"</jtok>
<jtok eid="3" type="primary_name_ref" span="133:53:133:55">pp</jtok>
<jtok eid="3" type="primary_name_ref" span="135:5:135:11">buffer</jtok>
<jtok eid="3" type="method_call" span="135:12:135:30">setBooleanProperty</jtok>
<jtok eid="3" type="primary_name_ref" span="135:31:135:45">ERROR_OCCURRED</jtok>
<jtok eid="3" type="class_or_interface_ref" span="137:10:137:20">WorkThread</jtok>
<jtok eid="3" type="class_or_interface_ref" span="137:21:137:26">Abort</jtok>
<jtok eid="3" type="local_variable_name" span="137:27:137:28">a</jtok>
<jtok eid="3" type="primary_name_ref" span="139:5:139:11">buffer</jtok>
<jtok eid="3" type="method_call" span="139:12:139:30">setBooleanProperty</jtok>
<jtok eid="3" type="primary_name_ref" span="139:31:139:45">ERROR_OCCURRED</jtok>
<jtok eid="1" type="line_comment" span="142:4:142:9">//}}}</jtok>
<jtok eid="1" type="line_comment" span="144:2:144:31">//{{{ getNakedStream() method</jtok>
<jtok eid="1" type="block_comment" span="145:2:148:5">/**
	 * Returns the raw contents stream for this load request.
	 * This stream is not buffered or unzipped.
	 */</jtok>
<jtok eid="4" type="class_or_interface_ref" span="149:10:149:21">InputStream</jtok>
<jtok eid="4" type="method_name" span="149:22:149:36">getNakedStream</jtok>
<jtok eid="4" type="throws" span="149:46:149:57">IOException</jtok>
<jtok eid="4" type="class_or_interface_ref" span="151:3:151:14">InputStream</jtok>
<jtok eid="4" type="local_variable_name" span="151:15:151:17">in</jtok>
<jtok eid="4" type="primary_name_ref" span="151:20:151:23">vfs</jtok>
<jtok eid="4" type="method_call" span="151:24:151:42">_createInputStream</jtok>
<jtok eid="4" type="primary_name_ref" span="151:43:151:50">session</jtok>
<jtok eid="4" type="primary_name_ref" span="151:51:151:55">path</jtok>
<jtok eid="4" type="primary_name_ref" span="151:62:151:66">view</jtok>
<jtok eid="4" type="primary_name_ref" span="152:6:152:8">in</jtok>
<jtok eid="4" type="primary_name_ref" span="154:11:154:13">in</jtok>
<jtok eid="4" type="constructor_call" span="156:13:156:24">IOException</jtok>
<jtok eid="4" type="string_literal" span="156:25:156:54">"Unable to get a Stream for "</jtok>
<jtok eid="4" type="primary_name_ref" span="156:57:156:61">path</jtok>
<jtok eid="1" type="line_comment" span="157:4:157:9">//}}}</jtok>
<jtok eid="1" type="line_comment" span="159:2:159:33">//{{{ getContentLength() method</jtok>
<jtok eid="1" type="block_comment" span="160:2:162:5">/**
	 * Returns content length of this load request.
	 */</jtok>
<jtok eid="5" type="method_name" span="163:15:163:31">getContentLength</jtok>
<jtok eid="5" type="throws" span="163:41:163:52">IOException</jtok>
<jtok eid="5" type="class_or_interface_ref" span="165:3:165:10">VFSFile</jtok>
<jtok eid="5" type="local_variable_name" span="165:11:165:16">entry</jtok>
<jtok eid="5" type="primary_name_ref" span="165:19:165:22">vfs</jtok>
<jtok eid="5" type="method_call" span="165:23:165:31">_getFile</jtok>
<jtok eid="5" type="primary_name_ref" span="165:32:165:39">session</jtok>
<jtok eid="5" type="primary_name_ref" span="165:40:165:44">path</jtok>
<jtok eid="5" type="primary_name_ref" span="165:45:165:49">view</jtok>
<jtok eid="5" type="primary_name_ref" span="166:6:166:11">entry</jtok>
<jtok eid="5" type="primary_name_ref" span="167:11:167:16">entry</jtok>
<jtok eid="5" type="method_call" span="167:17:167:26">getLength</jtok>
<jtok eid="1" type="line_comment" span="170:4:170:9">//}}}</jtok>
<jtok eid="1" type="line_comment" span="172:2:172:37">//{{{ rewindContentsStream() method</jtok>
<jtok eid="1" type="block_comment" span="173:2:178:5">/**
	 * Returns rewinded contents stream.
	 * This method assumes the marked stream was made by
	 * getMarkedStream() method. The stream may be reopened if reset()
	 * failed.
	 */</jtok>
<jtok eid="6" type="class_or_interface_ref" span="179:10:179:29">BufferedInputStream</jtok>
<jtok eid="6" type="method_name" span="179:30:179:50">rewindContentsStream</jtok>
<jtok eid="6" type="parameter_type" span="179:51:179:70">BufferedInputStream</jtok>
<jtok eid="6" type="parameter_name" span="179:71:179:83">markedStream</jtok>
<jtok eid="6" type="parameter_name" span="179:93:179:100">gzipped</jtok>
<jtok eid="6" type="throws" span="180:10:180:21">IOException</jtok>
<jtok eid="6" type="primary_name_ref" span="184:4:184:16">markedStream</jtok>
<jtok eid="6" type="method_call" span="184:17:184:22">reset</jtok>
<jtok eid="6" type="primary_name_ref" span="185:11:185:23">markedStream</jtok>
<jtok eid="6" type="class_or_interface_ref" span="187:9:187:20">IOException</jtok>
<jtok eid="6" type="local_variable_name" span="187:21:187:22">e</jtok>
<jtok eid="6" type="primary_name_ref" span="189:4:189:7">Log</jtok>
<jtok eid="6" type="method_call" span="189:8:189:11">log</jtok>
<jtok eid="6" type="primary_name_ref" span="189:12:189:15">Log</jtok>
<jtok eid="6" type="qualified_name_ref" span="189:16:189:22">NOTICE</jtok>
<jtok eid="6" type="primary_name_ref" span="190:7:190:11">path</jtok>
<jtok eid="6" type="string_literal" span="190:14:190:48">": Reopening to rewind the stream"</jtok>
<jtok eid="6" type="line_comment" span="191:4:191:50">// Reopen the stream because the mark has been</jtok>
<jtok eid="6" type="line_comment" span="192:4:192:42">// invalidated while previous reading.</jtok>
<jtok eid="6" type="primary_name_ref" span="193:4:193:16">markedStream</jtok>
<jtok eid="6" type="method_call" span="193:17:193:22">close</jtok>
<jtok eid="6" type="class_or_interface_ref" span="194:4:194:15">InputStream</jtok>
<jtok eid="6" type="local_variable_name" span="194:16:194:18">in</jtok>
<jtok eid="6" type="method_call" span="194:21:194:35">getNakedStream</jtok>
<jtok eid="6" type="primary_name_ref" span="197:8:197:15">gzipped</jtok>
<jtok eid="6" type="primary_name_ref" span="199:6:199:8">in</jtok>
<jtok eid="6" type="constructor_call" span="199:15:199:30">GZIPInputStream</jtok>
<jtok eid="6" type="primary_name_ref" span="199:31:199:33">in</jtok>
<jtok eid="6" type="class_or_interface_ref" span="201:5:201:24">BufferedInputStream</jtok>
<jtok eid="6" type="local_variable_name" span="201:25:201:31">result</jtok>
<jtok eid="6" type="primary_name_ref" span="202:8:202:21">AutoDetection</jtok>
<jtok eid="6" type="method_call" span="202:22:202:37">getMarkedStream</jtok>
<jtok eid="6" type="primary_name_ref" span="202:38:202:40">in</jtok>
<jtok eid="6" type="primary_name_ref" span="203:5:203:7">in</jtok>
<jtok eid="6" type="primary_name_ref" span="204:12:204:18">result</jtok>
<jtok eid="6" type="primary_name_ref" span="208:5:208:16">IOUtilities</jtok>
<jtok eid="6" type="method_call" span="208:17:208:29">closeQuietly</jtok>
<jtok eid="6" type="primary_name_ref" span="208:30:208:32">in</jtok>
<jtok eid="1" type="line_comment" span="211:4:211:9">//}}}</jtok>
<jtok eid="1" type="line_comment" span="213:2:213:29">//{{{ readContents() method</jtok>
<jtok eid="1" type="block_comment" span="214:2:221:5">/**
	 * Read the contents of this load request.
	 * Some auto detection is performed if enabled.
	 *   - GZIPed file
	 *   - The encoding
	 * If fallback encodings are specified, they are used on
	 * encoding errors.
	 */</jtok>
<jtok eid="7" type="method_name" span="222:15:222:27">readContents</jtok>
<jtok eid="7" type="throws" span="222:37:222:48">IOException</jtok>
<jtok eid="7" type="local_variable_name" span="224:8:224:14">length</jtok>
<jtok eid="7" type="method_call" span="224:17:224:33">getContentLength</jtok>
<jtok eid="7" type="class_or_interface_ref" span="226:3:226:22">BufferedInputStream</jtok>
<jtok eid="7" type="local_variable_name" span="226:23:226:35">markedStream</jtok>
<jtok eid="7" type="primary_name_ref" span="227:6:227:19">AutoDetection</jtok>
<jtok eid="7" type="method_call" span="227:20:227:35">getMarkedStream</jtok>
<jtok eid="7" type="method_call" span="227:36:227:50">getNakedStream</jtok>
<jtok eid="7" type="local_variable_name" span="230:12:230:19">gzipped</jtok>
<jtok eid="7" type="line_comment" span="231:4:231:44">// encodingProviders is consist of given</jtok>
<jtok eid="7" type="line_comment" span="232:4:232:44">// encodings as String or contents-aware</jtok>
<jtok eid="7" type="line_comment" span="233:4:233:37">// detectors as EncodingDetector.</jtok>
<jtok eid="7" type="class_or_interface_ref" span="234:4:234:8">List</jtok>
<jtok eid="7" type="class_or_interface_ref" span="234:9:234:15">Object</jtok>
<jtok eid="7" type="local_variable_name" span="234:17:234:34">encodingProviders</jtok>
<jtok eid="7" type="constructor_call" span="235:11:235:20">ArrayList</jtok>
<jtok eid="7" type="constructor_call" span="235:21:235:27">Object</jtok>
<jtok eid="7" type="local_variable_name" span="237:12:237:22">autodetect</jtok>
<jtok eid="7" type="primary_name_ref" span="237:25:237:31">buffer</jtok>
<jtok eid="7" type="method_call" span="237:32:237:50">getBooleanProperty</jtok>
<jtok eid="7" type="primary_name_ref" span="237:51:237:57">Buffer</jtok>
<jtok eid="7" type="qualified_name_ref" span="237:58:237:77">ENCODING_AUTODETECT</jtok>
<jtok eid="7" type="primary_name_ref" span="238:7:238:17">autodetect</jtok>
<jtok eid="7" type="primary_name_ref" span="240:5:240:12">gzipped</jtok>
<jtok eid="7" type="primary_name_ref" span="240:15:240:28">AutoDetection</jtok>
<jtok eid="7" type="method_call" span="240:29:240:38">isGzipped</jtok>
<jtok eid="7" type="primary_name_ref" span="240:39:240:51">markedStream</jtok>
<jtok eid="7" type="primary_name_ref" span="241:5:241:17">markedStream</jtok>
<jtok eid="7" type="method_call" span="241:18:241:23">reset</jtok>
<jtok eid="7" type="primary_name_ref" span="243:5:243:22">encodingProviders</jtok>
<jtok eid="7" type="method_call" span="243:23:243:29">addAll</jtok>
<jtok eid="7" type="primary_name_ref" span="243:30:243:43">AutoDetection</jtok>
<jtok eid="7" type="method_call" span="243:44:243:64">getEncodingDetectors</jtok>
<jtok eid="7" type="line_comment" span="244:5:244:50">// If the detected encoding fail, fallback to</jtok>
<jtok eid="7" type="line_comment" span="245:5:245:30">// the original encoding.</jtok>
<jtok eid="7" type="primary_name_ref" span="246:5:246:22">encodingProviders</jtok>
<jtok eid="7" type="method_call" span="246:23:246:26">add</jtok>
<jtok eid="7" type="primary_name_ref" span="246:27:246:33">buffer</jtok>
<jtok eid="7" type="method_call" span="246:34:246:51">getStringProperty</jtok>
<jtok eid="7" type="primary_name_ref" span="246:52:246:58">Buffer</jtok>
<jtok eid="7" type="qualified_name_ref" span="246:59:246:67">ENCODING</jtok>
<jtok eid="7" type="class_or_interface_ref" span="248:5:248:11">String</jtok>
<jtok eid="7" type="local_variable_name" span="248:12:248:29">fallbackEncodings</jtok>
<jtok eid="7" type="primary_name_ref" span="248:32:248:37">jEdit</jtok>
<jtok eid="7" type="method_call" span="248:38:248:49">getProperty</jtok>
<jtok eid="7" type="string_literal" span="248:50:248:69">"fallbackEncodings"</jtok>
<jtok eid="7" type="primary_name_ref" span="249:8:249:25">fallbackEncodings</jtok>
<jtok eid="7" type="primary_name_ref" span="249:37:249:54">fallbackEncodings</jtok>
<jtok eid="7" type="method_call" span="249:55:249:61">length</jtok>
<jtok eid="7" type="class_or_interface_ref" span="251:10:251:16">String</jtok>
<jtok eid="7" type="local_variable_name" span="251:17:251:25">encoding</jtok>
<jtok eid="7" type="primary_name_ref" span="251:27:251:44">fallbackEncodings</jtok>
<jtok eid="7" type="method_call" span="251:45:251:50">split</jtok>
<jtok eid="7" type="string_literal" span="251:51:251:57">"\\s+"</jtok>
<jtok eid="7" type="primary_name_ref" span="253:7:253:24">encodingProviders</jtok>
<jtok eid="7" type="method_call" span="253:25:253:28">add</jtok>
<jtok eid="7" type="primary_name_ref" span="253:29:253:37">encoding</jtok>
<jtok eid="7" type="primary_name_ref" span="259:5:259:12">gzipped</jtok>
<jtok eid="7" type="primary_name_ref" span="259:15:259:21">buffer</jtok>
<jtok eid="7" type="method_call" span="259:22:259:40">getBooleanProperty</jtok>
<jtok eid="7" type="primary_name_ref" span="259:41:259:47">Buffer</jtok>
<jtok eid="7" type="qualified_name_ref" span="259:48:259:55">GZIPPED</jtok>
<jtok eid="7" type="primary_name_ref" span="260:5:260:22">encodingProviders</jtok>
<jtok eid="7" type="method_call" span="260:23:260:26">add</jtok>
<jtok eid="7" type="primary_name_ref" span="260:27:260:33">buffer</jtok>
<jtok eid="7" type="method_call" span="260:34:260:51">getStringProperty</jtok>
<jtok eid="7" type="primary_name_ref" span="260:52:260:58">Buffer</jtok>
<jtok eid="7" type="qualified_name_ref" span="260:59:260:67">ENCODING</jtok>
<jtok eid="7" type="primary_name_ref" span="263:7:263:14">gzipped</jtok>
<jtok eid="7" type="primary_name_ref" span="265:5:265:8">Log</jtok>
<jtok eid="7" type="method_call" span="265:9:265:12">log</jtok>
<jtok eid="7" type="primary_name_ref" span="265:13:265:16">Log</jtok>
<jtok eid="7" type="qualified_name_ref" span="265:17:265:22">DEBUG</jtok>
<jtok eid="7" type="primary_name_ref" span="265:30:265:34">path</jtok>
<jtok eid="7" type="string_literal" span="265:37:265:59">": Stream is gzipped."</jtok>
<jtok eid="7" type="primary_name_ref" span="266:5:266:17">markedStream</jtok>
<jtok eid="7" type="primary_name_ref" span="266:20:266:33">AutoDetection</jtok>
<jtok eid="7" type="method_call" span="266:34:266:49">getMarkedStream</jtok>
<jtok eid="7" type="constructor_call" span="267:10:267:25">GZIPInputStream</jtok>
<jtok eid="7" type="primary_name_ref" span="267:26:267:38">markedStream</jtok>
<jtok eid="7" type="class_or_interface_ref" span="270:4:270:7">Set</jtok>
<jtok eid="7" type="class_or_interface_ref" span="270:8:270:14">String</jtok>
<jtok eid="7" type="local_variable_name" span="270:16:270:31">failedEncodings</jtok>
<jtok eid="7" type="constructor_call" span="270:38:270:45">HashSet</jtok>
<jtok eid="7" type="constructor_call" span="270:46:270:52">String</jtok>
<jtok eid="7" type="class_or_interface_ref" span="271:4:271:13">Exception</jtok>
<jtok eid="7" type="local_variable_name" span="271:14:271:27">encodingError</jtok>
<jtok eid="7" type="class_or_interface_ref" span="272:8:272:14">Object</jtok>
<jtok eid="7" type="local_variable_name" span="272:15:272:31">encodingProvider</jtok>
<jtok eid="7" type="primary_name_ref" span="272:33:272:50">encodingProviders</jtok>
<jtok eid="7" type="class_or_interface_ref" span="274:5:274:11">String</jtok>
<jtok eid="7" type="local_variable_name" span="274:12:274:20">encoding</jtok>
<jtok eid="7" type="primary_name_ref" span="275:9:275:25">encodingProvider</jtok>
<jtok eid="7" type="class_or_interface_ref" span="275:37:275:43">String</jtok>
<jtok eid="7" type="primary_name_ref" span="277:6:277:14">encoding</jtok>
<jtok eid="7" type="class_or_interface_ref" span="277:18:277:24">String</jtok>
<jtok eid="7" type="primary_name_ref" span="277:25:277:41">encodingProvider</jtok>
<jtok eid="7" type="primary_name_ref" span="279:13:279:29">encodingProvider</jtok>
<jtok eid="7" type="class_or_interface_ref" span="279:41:279:57">EncodingDetector</jtok>
<jtok eid="7" type="primary_name_ref" span="281:6:281:18">markedStream</jtok>
<jtok eid="7" type="method_call" span="281:21:281:41">rewindContentsStream</jtok>
<jtok eid="7" type="primary_name_ref" span="281:42:281:54">markedStream</jtok>
<jtok eid="7" type="primary_name_ref" span="281:56:281:63">gzipped</jtok>
<jtok eid="7" type="primary_name_ref" span="282:6:282:14">encoding</jtok>
<jtok eid="7" type="class_or_interface_ref" span="282:19:282:35">EncodingDetector</jtok>
<jtok eid="7" type="primary_name_ref" span="282:36:282:52">encodingProvider</jtok>
<jtok eid="7" type="method_call" span="282:54:282:68">detectEncoding</jtok>
<jtok eid="7" type="constructor_call" span="282:73:282:92">BufferedInputStream</jtok>
<jtok eid="7" type="primary_name_ref" span="282:93:282:105">markedStream</jtok>
<jtok eid="7" type="primary_name_ref" span="286:6:286:9">Log</jtok>
<jtok eid="7" type="method_call" span="286:10:286:13">log</jtok>
<jtok eid="7" type="primary_name_ref" span="286:14:286:17">Log</jtok>
<jtok eid="7" type="qualified_name_ref" span="286:18:286:23">DEBUG</jtok>
<jtok eid="7" type="string_literal" span="286:31:286:59">"Strange encodingProvider: "</jtok>
<jtok eid="7" type="primary_name_ref" span="286:62:286:78">encodingProvider</jtok>
<jtok eid="7" type="primary_name_ref" span="289:8:289:16">encoding</jtok>
<jtok eid="7" type="primary_name_ref" span="289:28:289:36">encoding</jtok>
<jtok eid="7" type="method_call" span="289:37:289:43">length</jtok>
<jtok eid="7" type="primary_name_ref" span="290:9:290:24">failedEncodings</jtok>
<jtok eid="7" type="method_call" span="290:25:290:33">contains</jtok>
<jtok eid="7" type="primary_name_ref" span="290:34:290:42">encoding</jtok>
<jtok eid="7" type="primary_name_ref" span="295:5:295:17">markedStream</jtok>
<jtok eid="7" type="method_call" span="295:20:295:40">rewindContentsStream</jtok>
<jtok eid="7" type="primary_name_ref" span="295:41:295:53">markedStream</jtok>
<jtok eid="7" type="primary_name_ref" span="295:55:295:62">gzipped</jtok>
<jtok eid="7" type="method_call" span="298:6:298:10">read</jtok>
<jtok eid="7" type="primary_name_ref" span="298:11:298:25">EncodingServer</jtok>
<jtok eid="7" type="method_call" span="298:26:298:39">getTextReader</jtok>
<jtok eid="7" type="primary_name_ref" span="298:40:298:52">markedStream</jtok>
<jtok eid="7" type="primary_name_ref" span="298:54:298:62">encoding</jtok>
<jtok eid="7" type="primary_name_ref" span="299:9:299:15">length</jtok>
<jtok eid="7" type="primary_name_ref" span="300:9:300:19">autodetect</jtok>
<jtok eid="7" type="line_comment" span="302:7:302:42">// Store the successful properties.</jtok>
<jtok eid="7" type="primary_name_ref" span="303:10:303:17">gzipped</jtok>
<jtok eid="7" type="primary_name_ref" span="305:8:305:14">buffer</jtok>
<jtok eid="7" type="method_call" span="305:15:305:33">setBooleanProperty</jtok>
<jtok eid="7" type="primary_name_ref" span="305:34:305:40">Buffer</jtok>
<jtok eid="7" type="qualified_name_ref" span="305:41:305:48">GZIPPED</jtok>
<jtok eid="7" type="primary_name_ref" span="307:7:307:13">buffer</jtok>
<jtok eid="7" type="method_call" span="307:14:307:25">setProperty</jtok>
<jtok eid="7" type="primary_name_ref" span="307:26:307:32">Buffer</jtok>
<jtok eid="7" type="qualified_name_ref" span="307:33:307:41">ENCODING</jtok>
<jtok eid="7" type="primary_name_ref" span="307:43:307:51">encoding</jtok>
<jtok eid="7" type="class_or_interface_ref" span="311:11:311:34">CharConversionException</jtok>
<jtok eid="7" type="local_variable_name" span="311:35:311:36">e</jtok>
<jtok eid="7" type="primary_name_ref" span="313:6:313:19">encodingError</jtok>
<jtok eid="7" type="primary_name_ref" span="313:22:313:23">e</jtok>
<jtok eid="7" type="class_or_interface_ref" span="315:11:315:35">CharacterCodingException</jtok>
<jtok eid="7" type="local_variable_name" span="315:36:315:37">e</jtok>
<jtok eid="7" type="primary_name_ref" span="317:6:317:19">encodingError</jtok>
<jtok eid="7" type="primary_name_ref" span="317:22:317:23">e</jtok>
<jtok eid="7" type="class_or_interface_ref" span="319:11:319:39">UnsupportedEncodingException</jtok>
<jtok eid="7" type="local_variable_name" span="319:40:319:41">e</jtok>
<jtok eid="7" type="primary_name_ref" span="321:6:321:19">encodingError</jtok>
<jtok eid="7" type="primary_name_ref" span="321:22:321:23">e</jtok>
<jtok eid="7" type="class_or_interface_ref" span="323:11:323:38">UnsupportedCharsetException</jtok>
<jtok eid="7" type="local_variable_name" span="323:39:323:40">e</jtok>
<jtok eid="7" type="primary_name_ref" span="325:6:325:19">encodingError</jtok>
<jtok eid="7" type="primary_name_ref" span="325:22:325:23">e</jtok>
<jtok eid="7" type="primary_name_ref" span="327:5:327:8">Log</jtok>
<jtok eid="7" type="method_call" span="327:9:327:12">log</jtok>
<jtok eid="7" type="primary_name_ref" span="327:13:327:16">Log</jtok>
<jtok eid="7" type="qualified_name_ref" span="327:17:327:23">NOTICE</jtok>
<jtok eid="7" type="primary_name_ref" span="327:31:327:35">path</jtok>
<jtok eid="7" type="string_literal" span="327:38:327:42">": "</jtok>
<jtok eid="7" type="primary_name_ref" span="327:45:327:53">encoding</jtok>
<jtok eid="7" type="string_literal" span="328:8:328:12">": "</jtok>
<jtok eid="7" type="primary_name_ref" span="328:15:328:28">encodingError</jtok>
<jtok eid="7" type="primary_name_ref" span="329:5:329:20">failedEncodings</jtok>
<jtok eid="7" type="method_call" span="329:21:329:24">add</jtok>
<jtok eid="7" type="primary_name_ref" span="329:25:329:33">encoding</jtok>
<jtok eid="7" type="line_comment" span="331:4:331:51">// All possible detectors and encodings failed.</jtok>
<jtok eid="7" type="class_or_interface_ref" span="332:4:332:10">Object</jtok>
<jtok eid="7" type="local_variable_name" span="332:13:332:15">pp</jtok>
<jtok eid="7" type="primary_name_ref" span="332:20:332:33">TextUtilities</jtok>
<jtok eid="7" type="method_call" span="332:34:332:38">join</jtok>
<jtok eid="7" type="primary_name_ref" span="332:39:332:54">failedEncodings</jtok>
<jtok eid="7" type="string_literal" span="332:55:332:58">","</jtok>
<jtok eid="7" type="string_literal" span="332:61:332:63">""</jtok>
<jtok eid="7" type="primary_name_ref" span="333:7:333:22">failedEncodings</jtok>
<jtok eid="7" type="method_call" span="333:23:333:27">size</jtok>
<jtok eid="7" type="primary_name_ref" span="335:5:335:7">pp</jtok>
<jtok eid="7" type="primary_name_ref" span="335:13:335:26">encodingError</jtok>
<jtok eid="7" type="method_call" span="335:27:335:35">toString</jtok>
<jtok eid="7" type="primary_name_ref" span="339:5:339:7">pp</jtok>
<jtok eid="7" type="string_literal" span="339:13:339:42">"See details in Activity Log"</jtok>
<jtok eid="7" type="primary_name_ref" span="341:4:341:14">VFSManager</jtok>
<jtok eid="7" type="method_call" span="341:15:341:20">error</jtok>
<jtok eid="7" type="primary_name_ref" span="341:21:341:25">view</jtok>
<jtok eid="7" type="primary_name_ref" span="341:26:341:30">path</jtok>
<jtok eid="7" type="string_literal" span="341:31:341:55">"ioerror.encoding-error"</jtok>
<jtok eid="7" type="primary_name_ref" span="341:56:341:58">pp</jtok>
<jtok eid="7" type="primary_name_ref" span="342:4:342:16">markedStream</jtok>
<jtok eid="7" type="method_call" span="342:19:342:39">rewindContentsStream</jtok>
<jtok eid="7" type="primary_name_ref" span="342:40:342:52">markedStream</jtok>
<jtok eid="7" type="primary_name_ref" span="342:54:342:61">gzipped</jtok>
<jtok eid="7" type="method_call" span="343:4:343:8">read</jtok>
<jtok eid="7" type="primary_name_ref" span="343:9:343:23">EncodingServer</jtok>
<jtok eid="7" type="method_call" span="343:24:343:35">getEncoding</jtok>
<jtok eid="7" type="primary_name_ref" span="344:5:344:11">buffer</jtok>
<jtok eid="7" type="method_call" span="344:12:344:29">getStringProperty</jtok>
<jtok eid="7" type="primary_name_ref" span="344:30:344:36">Buffer</jtok>
<jtok eid="7" type="qualified_name_ref" span="344:37:344:45">ENCODING</jtok>
<jtok eid="7" type="method_call" span="345:7:345:30">getPermissiveTextReader</jtok>
<jtok eid="7" type="primary_name_ref" span="345:31:345:43">markedStream</jtok>
<jtok eid="7" type="primary_name_ref" span="346:7:346:13">length</jtok>
<jtok eid="7" type="primary_name_ref" span="347:7:347:17">autodetect</jtok>
<jtok eid="7" type="primary_name_ref" span="347:21:347:28">gzipped</jtok>
<jtok eid="7" type="primary_name_ref" span="349:5:349:11">buffer</jtok>
<jtok eid="7" type="method_call" span="349:12:349:30">setBooleanProperty</jtok>
<jtok eid="7" type="primary_name_ref" span="349:31:349:37">Buffer</jtok>
<jtok eid="7" type="qualified_name_ref" span="349:38:349:45">GZIPPED</jtok>
<jtok eid="7" type="primary_name_ref" span="354:4:354:16">markedStream</jtok>
<jtok eid="7" type="method_call" span="354:17:354:22">close</jtok>
<jtok eid="1" type="line_comment" span="356:4:356:9">//}}}</jtok>
<jtok eid="1" type="line_comment" span="358:2:358:28">//{{{ readMarkers() method</jtok>
<jtok eid="8" type="method_name" span="359:22:359:33">readMarkers</jtok>
<jtok eid="8" type="parameter_type" span="359:34:359:40">Buffer</jtok>
<jtok eid="8" type="parameter_name" span="359:41:359:47">buffer</jtok>
<jtok eid="8" type="parameter_type" span="359:49:359:60">InputStream</jtok>
<jtok eid="8" type="parameter_name" span="359:61:359:64">_in</jtok>
<jtok eid="8" type="throws" span="360:10:360:21">IOException</jtok>
<jtok eid="8" type="line_comment" span="362:3:362:26">// For `reload' command</jtok>
<jtok eid="8" type="primary_name_ref" span="363:3:363:9">buffer</jtok>
<jtok eid="8" type="method_call" span="363:10:363:26">removeAllMarkers</jtok>
<jtok eid="8" type="class_or_interface_ref" span="365:3:365:17">BufferedReader</jtok>
<jtok eid="8" type="local_variable_name" span="365:18:365:20">in</jtok>
<jtok eid="8" type="constructor_call" span="365:27:365:41">BufferedReader</jtok>
<jtok eid="8" type="constructor_call" span="365:46:365:63">InputStreamReader</jtok>
<jtok eid="8" type="primary_name_ref" span="365:64:365:67">_in</jtok>
<jtok eid="8" type="class_or_interface_ref" span="369:4:369:10">String</jtok>
<jtok eid="8" type="local_variable_name" span="369:11:369:15">line</jtok>
<jtok eid="8" type="primary_name_ref" span="370:11:370:15">line</jtok>
<jtok eid="8" type="primary_name_ref" span="370:18:370:20">in</jtok>
<jtok eid="8" type="method_call" span="370:21:370:29">readLine</jtok>
<jtok eid="8" type="line_comment" span="372:5:372:29">// malformed marks file?</jtok>
<jtok eid="8" type="primary_name_ref" span="373:8:373:12">line</jtok>
<jtok eid="8" type="method_call" span="373:13:373:19">length</jtok>
<jtok eid="8" type="line_comment" span="376:5:376:54">// compatibility kludge for jEdit 3.1 and earlier</jtok>
<jtok eid="8" type="primary_name_ref" span="377:8:377:12">line</jtok>
<jtok eid="8" type="method_call" span="377:13:377:19">charAt</jtok>
<jtok eid="8" type="local_variable_name" span="381:10:381:18">shortcut</jtok>
<jtok eid="8" type="primary_name_ref" span="381:21:381:25">line</jtok>
<jtok eid="8" type="method_call" span="381:26:381:32">charAt</jtok>
<jtok eid="8" type="local_variable_name" span="382:9:382:14">start</jtok>
<jtok eid="8" type="primary_name_ref" span="382:17:382:21">line</jtok>
<jtok eid="8" type="method_call" span="382:22:382:29">indexOf</jtok>
<jtok eid="8" type="local_variable_name" span="383:9:383:12">end</jtok>
<jtok eid="8" type="primary_name_ref" span="383:15:383:19">line</jtok>
<jtok eid="8" type="method_call" span="383:20:383:27">indexOf</jtok>
<jtok eid="8" type="primary_name_ref" span="383:32:383:37">start</jtok>
<jtok eid="8" type="local_variable_name" span="384:9:384:17">position</jtok>
<jtok eid="8" type="primary_name_ref" span="384:20:384:27">Integer</jtok>
<jtok eid="8" type="method_call" span="384:28:384:36">parseInt</jtok>
<jtok eid="8" type="primary_name_ref" span="384:37:384:41">line</jtok>
<jtok eid="8" type="method_call" span="384:42:384:51">substring</jtok>
<jtok eid="8" type="primary_name_ref" span="384:52:384:57">start</jtok>
<jtok eid="8" type="primary_name_ref" span="384:62:384:65">end</jtok>
<jtok eid="8" type="primary_name_ref" span="385:5:385:11">buffer</jtok>
<jtok eid="8" type="method_call" span="385:12:385:21">addMarker</jtok>
<jtok eid="8" type="primary_name_ref" span="385:22:385:30">shortcut</jtok>
<jtok eid="8" type="primary_name_ref" span="385:31:385:39">position</jtok>
<jtok eid="8" type="primary_name_ref" span="387:4:387:10">buffer</jtok>
<jtok eid="8" type="method_call" span="387:11:387:28">setMarkersChanged</jtok>
<jtok eid="8" type="primary_name_ref" span="391:4:391:6">in</jtok>
<jtok eid="8" type="method_call" span="391:7:391:12">close</jtok>
<jtok eid="1" type="line_comment" span="393:4:393:9">//}}}</jtok>
</jdoc>